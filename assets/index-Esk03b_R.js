(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(u){if(u.ep)return;u.ep=!0;const l=r(u);fetch(u.href,l)}})();const Zs=!1;var ra=Array.isArray,Gf=Array.prototype.indexOf,Zo=Array.from,Xf=Object.defineProperty,zi=Object.getOwnPropertyDescriptor,xl=Object.getOwnPropertyDescriptors,$f=Object.prototype,jf=Array.prototype,oa=Object.getPrototypeOf,wu=Object.isExtensible;function Kf(e){return e()}function Bs(e){for(var i=0;i<e.length;i++)e[i]()}function bl(){var e,i,r=new Promise((s,u)=>{e=s,i=u});return{promise:r,resolve:e,reject:i}}function Ts(e,i){if(Array.isArray(e))return e;if(i===void 0||!(Symbol.iterator in e))return Array.from(e);const r=[];for(const s of e)if(r.push(s),r.length===i)break;return r}const Vt=2,yo=4,Ar=8,Tl=1<<24,gn=16,vn=32,ri=64,sa=128,Te=512,Yt=1024,Qt=2048,Xe=4096,pe=8192,fn=16384,aa=32768,Di=65536,xu=1<<17,Pl=1<<18,Yi=1<<19,Ml=1<<20,un=1<<25,Qn=32768,Rs=1<<21,ua=1<<22,En=1<<23,Xn=Symbol("$state"),Jf=Symbol("legacy props"),Qf=Symbol(""),Si=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function tc(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ec(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function nc(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ic(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function rc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function oc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function sc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ac(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function uc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function lc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function hc(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const fc=1,cc=2,Ll=4,dc=8,_c=16,pc=2,mc=4,gc=8,Cl=1,vc=2,qt=Symbol(),yc="http://www.w3.org/1999/xhtml";function wc(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Sl(e){return e===this.v}function xc(e,i){return e!=e?i==i:e!==i||e!==null&&typeof e=="object"||typeof e=="function"}function kl(e){return!xc(e,this.v)}let Vi=!1,bc=!1;function Tc(){Vi=!0}let Mt=null;function Ii(e){Mt=e}function Bo(e,i=!1,r){Mt={p:Mt,i:!1,c:null,e:null,s:e,x:null,l:Vi&&!i?{s:null,u:null,$:[]}:null}}function Ro(e){var i=Mt,r=i.e;if(r!==null){i.e=null;for(var s of r)Yl(s)}return i.i=!0,Mt=i.p,{}}function Or(){return!Vi||Mt!==null&&Mt.l===null}let ki=[];function Pc(){var e=ki;ki=[],Bs(e)}function cn(e){if(ki.length===0){var i=ki;queueMicrotask(()=>{i===ki&&Pc()})}ki.push(e)}function El(e){var i=_t;if(i===null)return ot.f|=En,e;if((i.f&aa)===0){if((i.f&sa)===0)throw e;i.b.error(e)}else Zi(e,i)}function Zi(e,i){for(;i!==null;){if((i.f&sa)!==0)try{i.b.error(e);return}catch(r){e=r}i=i.parent}throw e}const Mc=-7169;function zt(e,i){e.f=e.f&Mc|i}function la(e){(e.f&Te)!==0||e.deps===null?zt(e,Yt):zt(e,Xe)}function Al(e){if(e!==null)for(const i of e)(i.f&Vt)===0||(i.f&Qn)===0||(i.f^=Qn,Al(i.deps))}function Ol(e,i,r){(e.f&Qt)!==0?i.add(e):(e.f&Xe)!==0&&r.add(e),Al(e.deps),zt(e,Yt)}const oo=new Set;let Lt=null,Oe=null,ke=[],ha=null,Fs=!1;class An{committed=!1;current=new Map;previous=new Map;#t=new Set;#n=new Set;#e=0;#i=0;#s=null;#o=new Set;#r=new Set;skipped_effects=new Set;is_fork=!1;#a=!1;is_deferred(){return this.is_fork||this.#i>0}process(i){ke=[],this.apply();var r=[],s=[];for(const u of i)this.#u(u,r,s);if(this.is_deferred())this.#l(s),this.#l(r);else{for(const u of this.#t)u();this.#t.clear(),this.#e===0&&this.#h(),Lt=null,bu(s),bu(r),this.#s?.resolve()}Oe=null}#u(i,r,s){i.f^=Yt;for(var u=i.first,l=null;u!==null;){var f=u.f,c=(f&(vn|ri))!==0,_=c&&(f&Yt)!==0,d=_||(f&pe)!==0||this.skipped_effects.has(u);if(!d&&u.fn!==null){c?u.f^=Yt:l!==null&&(f&(yo|Ar|Tl))!==0?l.b.defer_effect(u):(f&yo)!==0?r.push(u):Gi(u)&&((f&gn)!==0&&this.#o.add(u),Ri(u));var v=u.first;if(v!==null){u=v;continue}}var m=u.parent;for(u=u.next;u===null&&m!==null;)m===l&&(l=null),u=m.next,m=m.parent}}#l(i){for(var r=0;r<i.length;r+=1)Ol(i[r],this.#o,this.#r)}capture(i,r){r!==qt&&!this.previous.has(i)&&this.previous.set(i,r),(i.f&En)===0&&(this.current.set(i,i.v),Oe?.set(i,i.v))}activate(){Lt=this,this.apply()}deactivate(){Lt===this&&(Lt=null,Oe=null)}flush(){if(this.activate(),ke.length>0){if(Lc(),Lt!==null&&Lt!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const i of this.#n)i(this);this.#n.clear()}#h(){if(oo.size>1){this.previous.clear();var i=Oe,r=!0;for(const u of oo){if(u===this){r=!1;continue}const l=[];for(const[c,_]of this.current){if(u.current.has(c))if(r&&_!==u.current.get(c))u.current.set(c,_);else continue;l.push(c)}if(l.length===0)continue;const f=[...u.current.keys()].filter(c=>!this.current.has(c));if(f.length>0){var s=ke;ke=[];const c=new Set,_=new Map;for(const d of l)zl(d,f,c,_);if(ke.length>0){Lt=u,u.apply();for(const d of ke)u.#u(d,[],[]);u.deactivate()}ke=s}}Lt=null,Oe=i}this.committed=!0,oo.delete(this)}increment(i){this.#e+=1,i&&(this.#i+=1)}decrement(i){this.#e-=1,i&&(this.#i-=1),!this.#a&&(this.#a=!0,cn(()=>{this.#a=!1,this.is_deferred()?ke.length>0&&this.flush():this.revive()}))}revive(){for(const i of this.#o)this.#r.delete(i),zt(i,Qt),_n(i);for(const i of this.#r)zt(i,Xe),_n(i);this.flush()}oncommit(i){this.#t.add(i)}ondiscard(i){this.#n.add(i)}settled(){return(this.#s??=bl()).promise}static ensure(){if(Lt===null){const i=Lt=new An;oo.add(Lt),cn(()=>{Lt===i&&i.flush()})}return Lt}apply(){}}function Lc(){Fs=!0;var e=null;try{for(var i=0;ke.length>0;){var r=An.ensure();if(i++>1e3){var s,u;Cc()}r.process(ke),On.clear()}}finally{Fs=!1,ha=null}}function Cc(){try{oc()}catch(e){Zi(e,ha)}}let sn=null;function bu(e){var i=e.length;if(i!==0){for(var r=0;r<i;){var s=e[r++];if((s.f&(fn|pe))===0&&Gi(s)&&(sn=new Set,Ri(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?$l(s):s.fn=null),sn?.size>0)){On.clear();for(const u of sn){if((u.f&(fn|pe))!==0)continue;const l=[u];let f=u.parent;for(;f!==null;)sn.has(f)&&(sn.delete(f),l.push(f)),f=f.parent;for(let c=l.length-1;c>=0;c--){const _=l[c];(_.f&(fn|pe))===0&&Ri(_)}}sn.clear()}}sn=null}}function zl(e,i,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const u of e.reactions){const l=u.f;(l&Vt)!==0?zl(u,i,r,s):(l&(ua|gn))!==0&&(l&Qt)===0&&Nl(u,i,s)&&(zt(u,Qt),_n(u))}}function Nl(e,i,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const u of e.deps){if(i.includes(u))return!0;if((u.f&Vt)!==0&&Nl(u,i,r))return r.set(u,!0),!0}return r.set(e,!1),!1}function _n(e){for(var i=ha=e;i.parent!==null;){i=i.parent;var r=i.f;if(Fs&&i===_t&&(r&gn)!==0&&(r&Pl)===0)return;if((r&(ri|vn))!==0){if((r&Yt)===0)return;i.f^=Yt}}ke.push(i)}function Sc(e){let i=0,r=ti(0),s;return()=>{da()&&(g(r),Nr(()=>(i===0&&(s=B(()=>e(()=>Cr(r)))),i+=1,()=>{cn(()=>{i-=1,i===0&&(s?.(),s=void 0,Cr(r))})})))}}var kc=Di|Yi|sa;function Ec(e,i,r){new Ac(e,i,r)}class Ac{parent;is_pending=!1;#t;#n=null;#e;#i;#s;#o=null;#r=null;#a=null;#u=null;#l=null;#h=0;#c=0;#_=!1;#d=!1;#p=new Set;#m=new Set;#f=null;#x=Sc(()=>(this.#f=ti(this.#h),()=>{this.#f=null}));constructor(i,r,s){this.#t=i,this.#e=r,this.#i=s,this.parent=_t.b,this.is_pending=!!this.#e.pending,this.#s=_a(()=>{_t.b=this;{var u=this.#y();try{this.#o=xe(()=>s(u))}catch(l){this.error(l)}this.#c>0?this.#v():this.is_pending=!1}return()=>{this.#l?.remove()}},kc)}#b(){try{this.#o=xe(()=>this.#i(this.#t))}catch(i){this.error(i)}}#T(){const i=this.#e.pending;i&&(this.#r=xe(()=>i(this.#t)),cn(()=>{var r=this.#y();this.#o=this.#g(()=>(An.ensure(),xe(()=>this.#i(r)))),this.#c>0?this.#v():(jn(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#y(){var i=this.#t;return this.is_pending&&(this.#l=$n(),this.#t.before(this.#l),i=this.#l),i}defer_effect(i){Ol(i,this.#p,this.#m)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(i){var r=_t,s=ot,u=Mt;Ve(this.#s),ue(this.#s),Ii(this.#s.ctx);try{return i()}catch(l){return El(l),null}finally{Ve(r),ue(s),Ii(u)}}#v(){const i=this.#e.pending;this.#o!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#l),Jl(this.#o,this.#u)),this.#r===null&&(this.#r=xe(()=>i(this.#t)))}#w(i){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(i);return}if(this.#c+=i,this.#c===0){this.is_pending=!1;for(const r of this.#p)zt(r,Qt),_n(r);for(const r of this.#m)zt(r,Xe),_n(r);this.#p.clear(),this.#m.clear(),this.#r&&jn(this.#r,()=>{this.#r=null}),this.#u&&(this.#t.before(this.#u),this.#u=null)}}update_pending_count(i){this.#w(i),this.#h+=i,!(!this.#f||this.#_)&&(this.#_=!0,cn(()=>{this.#_=!1,this.#f&&Bi(this.#f,this.#h)}))}get_effect_pending(){return this.#x(),g(this.#f)}error(i){var r=this.#e.onerror;let s=this.#e.failed;if(this.#d||!r&&!s)throw i;this.#o&&(he(this.#o),this.#o=null),this.#r&&(he(this.#r),this.#r=null),this.#a&&(he(this.#a),this.#a=null);var u=!1,l=!1;const f=()=>{if(u){wc();return}u=!0,l&&hc(),An.ensure(),this.#h=0,this.#a!==null&&jn(this.#a,()=>{this.#a=null}),this.is_pending=this.has_pending_snippet(),this.#o=this.#g(()=>(this.#d=!1,xe(()=>this.#i(this.#t)))),this.#c>0?this.#v():this.is_pending=!1};var c=ot;try{ue(null),l=!0,r?.(i,f),l=!1}catch(_){Zi(_,this.#s&&this.#s.parent)}finally{ue(c)}s&&cn(()=>{this.#a=this.#g(()=>{An.ensure(),this.#d=!0;try{return xe(()=>{s(this.#t,()=>i,()=>f)})}catch(_){return Zi(_,this.#s.parent),null}finally{this.#d=!1}})})}}function Oc(e,i,r,s){const u=Or()?Fo:kn;var l=e.filter(y=>!y.settled);if(r.length===0&&l.length===0){s(i.map(u));return}var f=Lt,c=_t,_=zc(),d=l.length===1?l[0].promise:l.length>1?Promise.all(l.map(y=>y.promise)):null;function v(y){_();try{s(y)}catch(x){(c.f&fn)===0&&Zi(x,c)}f?.deactivate(),Us()}if(r.length===0){d.then(()=>v(i.map(u)));return}function m(){_(),Promise.all(r.map(y=>Nc(y))).then(y=>v([...i.map(u),...y])).catch(y=>Zi(y,c))}d?d.then(m):m()}function zc(){var e=_t,i=ot,r=Mt,s=Lt;return function(l=!0){Ve(e),ue(i),Ii(r),l&&s?.activate()}}function Us(){Ve(null),ue(null),Ii(null)}function Fo(e){var i=Vt|Qt,r=ot!==null&&(ot.f&Vt)!==0?ot:null;return _t!==null&&(_t.f|=Yi),{ctx:Mt,deps:null,effects:null,equals:Sl,f:i,fn:e,reactions:null,rv:0,v:qt,wv:0,parent:r??_t,ac:null}}function Nc(e,i,r){let s=_t;s===null&&ec();var u=s.b,l=void 0,f=ti(qt),c=!ot,_=new Map;return qc(()=>{var d=bl();l=d.promise;try{Promise.resolve(e()).then(d.resolve,d.reject).then(()=>{v===Lt&&v.committed&&v.deactivate(),Us()})}catch(x){d.reject(x),Us()}var v=Lt;if(c){var m=u.is_rendered();u.update_pending_count(1),v.increment(m),_.get(v)?.reject(Si),_.delete(v),_.set(v,d)}const y=(x,k=void 0)=>{if(v.activate(),k)k!==Si&&(f.f|=En,Bi(f,k));else{(f.f&En)!==0&&(f.f^=En),Bi(f,x);for(const[C,M]of _){if(_.delete(C),C===v)break;M.reject(Si)}}c&&(u.update_pending_count(-1),v.decrement(m))};d.promise.then(y,x=>y(null,x||"unknown"))}),ql(()=>{for(const d of _.values())d.reject(Si)}),new Promise(d=>{function v(m){function y(){m===l?d(f):v(l)}m.then(y,y)}v(l)})}function Dc(e){const i=Fo(e);return Ql(i),i}function kn(e){const i=Fo(e);return i.equals=kl,i}function Dl(e){var i=e.effects;if(i!==null){e.effects=null;for(var r=0;r<i.length;r+=1)he(i[r])}}function Ic(e){for(var i=e.parent;i!==null;){if((i.f&Vt)===0)return(i.f&fn)===0?i:null;i=i.parent}return null}function fa(e){var i,r=_t;Ve(Ic(e));try{e.f&=~Qn,Dl(e),i=ih(e)}finally{Ve(r)}return i}function Il(e){var i=fa(e);if(!e.equals(i)&&(e.wv=eh(),(!Lt?.is_fork||e.deps===null)&&(e.v=i,e.deps===null))){zt(e,Yt);return}zn||(Oe!==null?(da()||Lt?.is_fork)&&Oe.set(e,i):la(e))}let Hs=new Set;const On=new Map;let Zl=!1;function ti(e,i){var r={f:0,v:e,reactions:null,equals:Sl,rv:0,wv:0};return r}function He(e,i){const r=ti(e);return Ql(r),r}function rt(e,i=!1,r=!0){const s=ti(e);return i||(s.equals=kl),Vi&&r&&Mt!==null&&Mt.l!==null&&(Mt.l.s??=[]).push(s),s}function N(e,i,r=!1){ot!==null&&(!Ne||(ot.f&xu)!==0)&&Or()&&(ot.f&(Vt|gn|ua|xu))!==0&&!dn?.includes(e)&&lc();let s=r?Ei(i):i;return Bi(e,s)}function Bi(e,i){if(!e.equals(i)){var r=e.v;zn?On.set(e,i):On.set(e,r),e.v=i;var s=An.ensure();if(s.capture(e,r),(e.f&Vt)!==0){const u=e;(e.f&Qt)!==0&&fa(u),la(u)}e.wv=eh(),Bl(e,Qt),Or()&&_t!==null&&(_t.f&Yt)!==0&&(_t.f&(vn|ri))===0&&(we===null?Gc([e]):we.push(e)),!s.is_fork&&Hs.size>0&&!Zl&&Zc()}return i}function Zc(){Zl=!1;for(const e of Hs)(e.f&Yt)!==0&&zt(e,Xe),Gi(e)&&Ri(e);Hs.clear()}function Cr(e){N(e,e.v+1)}function Bl(e,i){var r=e.reactions;if(r!==null)for(var s=Or(),u=r.length,l=0;l<u;l++){var f=r[l],c=f.f;if(!(!s&&f===_t)){var _=(c&Qt)===0;if(_&&zt(f,i),(c&Vt)!==0){var d=f;Oe?.delete(d),(c&Qn)===0&&(c&Te&&(f.f|=Qn),Bl(d,Xe))}else _&&((c&gn)!==0&&sn!==null&&sn.add(f),_n(f))}}}function Ei(e){if(typeof e!="object"||e===null||Xn in e)return e;const i=oa(e);if(i!==$f&&i!==jf)return e;var r=new Map,s=ra(e),u=He(0),l=Kn,f=c=>{if(Kn===l)return c();var _=ot,d=Kn;ue(null),Mu(l);var v=c();return ue(_),Mu(d),v};return s&&r.set("length",He(e.length)),new Proxy(e,{defineProperty(c,_,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ac();var v=r.get(_);return v===void 0?v=f(()=>{var m=He(d.value);return r.set(_,m),m}):N(v,d.value,!0),!0},deleteProperty(c,_){var d=r.get(_);if(d===void 0){if(_ in c){const v=f(()=>He(qt));r.set(_,v),Cr(u)}}else N(d,qt),Cr(u);return!0},get(c,_,d){if(_===Xn)return e;var v=r.get(_),m=_ in c;if(v===void 0&&(!m||zi(c,_)?.writable)&&(v=f(()=>{var x=Ei(m?c[_]:qt),k=He(x);return k}),r.set(_,v)),v!==void 0){var y=g(v);return y===qt?void 0:y}return Reflect.get(c,_,d)},getOwnPropertyDescriptor(c,_){var d=Reflect.getOwnPropertyDescriptor(c,_);if(d&&"value"in d){var v=r.get(_);v&&(d.value=g(v))}else if(d===void 0){var m=r.get(_),y=m?.v;if(m!==void 0&&y!==qt)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return d},has(c,_){if(_===Xn)return!0;var d=r.get(_),v=d!==void 0&&d.v!==qt||Reflect.has(c,_);if(d!==void 0||_t!==null&&(!v||zi(c,_)?.writable)){d===void 0&&(d=f(()=>{var y=v?Ei(c[_]):qt,x=He(y);return x}),r.set(_,d));var m=g(d);if(m===qt)return!1}return v},set(c,_,d,v){var m=r.get(_),y=_ in c;if(s&&_==="length")for(var x=d;x<m.v;x+=1){var k=r.get(x+"");k!==void 0?N(k,qt):x in c&&(k=f(()=>He(qt)),r.set(x+"",k))}if(m===void 0)(!y||zi(c,_)?.writable)&&(m=f(()=>He(void 0)),N(m,Ei(d)),r.set(_,m));else{y=m.v!==qt;var C=f(()=>Ei(d));N(m,C)}var M=Reflect.getOwnPropertyDescriptor(c,_);if(M?.set&&M.set.call(v,d),!y){if(s&&typeof _=="string"){var R=r.get("length"),H=Number(_);Number.isInteger(H)&&H>=R.v&&N(R,H+1)}Cr(u)}return!0},ownKeys(c){g(u);var _=Reflect.ownKeys(c).filter(m=>{var y=r.get(m);return y===void 0||y.v!==qt});for(var[d,v]of r)v.v!==qt&&!(d in c)&&_.push(d);return _},setPrototypeOf(){uc()}})}var Yn,Rl,Fl,Ul;function Bc(){if(Yn===void 0){Yn=window,Rl=/Firefox/.test(navigator.userAgent);var e=Element.prototype,i=Node.prototype,r=Text.prototype;Fl=zi(i,"firstChild").get,Ul=zi(i,"nextSibling").get,wu(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),wu(r)&&(r.__t=void 0)}}function $n(e=""){return document.createTextNode(e)}function an(e){return Fl.call(e)}function zr(e){return Ul.call(e)}function oe(e,i){return an(e)}function Tu(e,i=!1){{var r=an(e);return r instanceof Comment&&r.data===""?zr(r):r}}function ut(e,i=1,r=!1){let s=e;for(;i--;)s=zr(s);return s}function Rc(e){e.textContent=""}function Hl(){return!1}function ca(e){var i=ot,r=_t;ue(null),Ve(null);try{return e()}finally{ue(i),Ve(r)}}function Wl(e){_t===null&&(ot===null&&rc(),ic()),zn&&nc()}function Fc(e,i){var r=i.last;r===null?i.last=i.first=e:(r.next=e,e.prev=r,i.last=e)}function $e(e,i,r){var s=_t;s!==null&&(s.f&pe)!==0&&(e|=pe);var u={ctx:Mt,deps:null,nodes:null,f:e|Qt|Te,first:null,fn:i,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Ri(u),u.f|=aa}catch(c){throw he(u),c}else i!==null&&_n(u);var l=u;if(r&&l.deps===null&&l.teardown===null&&l.nodes===null&&l.first===l.last&&(l.f&Yi)===0&&(l=l.first,(e&gn)!==0&&(e&Di)!==0&&l!==null&&(l.f|=Di)),l!==null&&(l.parent=s,s!==null&&Fc(l,s),ot!==null&&(ot.f&Vt)!==0&&(e&ri)===0)){var f=ot;(f.effects??=[]).push(l)}return u}function da(){return ot!==null&&!Ne}function ql(e){const i=$e(Ar,null,!1);return zt(i,Yt),i.teardown=e,i}function wo(e){Wl();var i=_t.f,r=!ot&&(i&vn)!==0&&(i&aa)===0;if(r){var s=Mt;(s.e??=[]).push(e)}else return Yl(e)}function Yl(e){return $e(yo|Ml,e,!1)}function Uc(e){return Wl(),$e(Ar|Ml,e,!0)}function Hc(e){An.ensure();const i=$e(ri|Yi,e,!0);return(r={})=>new Promise(s=>{r.outro?jn(i,()=>{he(i),s(void 0)}):(he(i),s(void 0))})}function Vl(e){return $e(yo,e,!1)}function Ln(e,i){var r=Mt,s={effect:null,ran:!1,deps:e};r.l.$.push(s),s.effect=Nr(()=>{e(),!s.ran&&(s.ran=!0,B(i))})}function Wc(){var e=Mt;Nr(()=>{for(var i of e.l.$){i.deps();var r=i.effect;(r.f&Yt)!==0&&r.deps!==null&&zt(r,Xe),Gi(r)&&Ri(r),i.ran=!1}})}function qc(e){return $e(ua|Yi,e,!0)}function Nr(e,i=0){return $e(Ar|i,e,!0)}function Sn(e,i=[],r=[],s=[]){Oc(s,i,r,u=>{$e(Ar,()=>e(...u.map(g)),!0)})}function _a(e,i=0){var r=$e(gn|i,e,!0);return r}function xe(e){return $e(vn|Yi,e,!0)}function Gl(e){var i=e.teardown;if(i!==null){const r=zn,s=ot;Pu(!0),ue(null);try{i.call(null)}finally{Pu(r),ue(s)}}}function Xl(e,i=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const u=r.ac;u!==null&&ca(()=>{u.abort(Si)});var s=r.next;(r.f&ri)!==0?r.parent=null:he(r,i),r=s}}function Yc(e){for(var i=e.first;i!==null;){var r=i.next;(i.f&vn)===0&&he(i),i=r}}function he(e,i=!0){var r=!1;(i||(e.f&Pl)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Vc(e.nodes.start,e.nodes.end),r=!0),Xl(e,i&&!r),xo(e,0),zt(e,fn);var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)l.stop();Gl(e);var u=e.parent;u!==null&&u.first!==null&&$l(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Vc(e,i){for(;e!==null;){var r=e===i?null:zr(e);e.remove(),e=r}}function $l(e){var i=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),i!==null&&(i.first===e&&(i.first=s),i.last===e&&(i.last=r))}function jn(e,i,r=!0){var s=[];jl(e,s,!0);var u=()=>{r&&he(e),i&&i()},l=s.length;if(l>0){var f=()=>--l||u();for(var c of s)c.out(f)}else u()}function jl(e,i,r){if((e.f&pe)===0){e.f^=pe;var s=e.nodes&&e.nodes.t;if(s!==null)for(const c of s)(c.is_global||r)&&i.push(c);for(var u=e.first;u!==null;){var l=u.next,f=(u.f&Di)!==0||(u.f&vn)!==0&&(e.f&gn)!==0;jl(u,i,f?r:!1),u=l}}}function pa(e){Kl(e,!0)}function Kl(e,i){if((e.f&pe)!==0){e.f^=pe,(e.f&Yt)===0&&(zt(e,Qt),_n(e));for(var r=e.first;r!==null;){var s=r.next,u=(r.f&Di)!==0||(r.f&vn)!==0;Kl(r,u?i:!1),r=s}var l=e.nodes&&e.nodes.t;if(l!==null)for(const f of l)(f.is_global||i)&&f.in()}}function Jl(e,i){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var u=r===s?null:zr(r);i.append(r),r=u}}let co=!1,zn=!1;function Pu(e){zn=e}let ot=null,Ne=!1;function ue(e){ot=e}let _t=null;function Ve(e){_t=e}let dn=null;function Ql(e){ot!==null&&(dn===null?dn=[e]:dn.push(e))}let ae=null,_e=0,we=null;function Gc(e){we=e}let th=1,Vn=0,Kn=Vn;function Mu(e){Kn=e}function eh(){return++th}function Gi(e){var i=e.f;if((i&Qt)!==0)return!0;if(i&Vt&&(e.f&=~Qn),(i&Xe)!==0){for(var r=e.deps,s=r.length,u=0;u<s;u++){var l=r[u];if(Gi(l)&&Il(l),l.wv>e.wv)return!0}(i&Te)!==0&&Oe===null&&zt(e,Yt)}return!1}function nh(e,i,r=!0){var s=e.reactions;if(s!==null&&!dn?.includes(e))for(var u=0;u<s.length;u++){var l=s[u];(l.f&Vt)!==0?nh(l,i,!1):i===l&&(r?zt(l,Qt):(l.f&Yt)!==0&&zt(l,Xe),_n(l))}}function ih(e){var i=ae,r=_e,s=we,u=ot,l=dn,f=Mt,c=Ne,_=Kn,d=e.f;ae=null,_e=0,we=null,ot=(d&(vn|ri))===0?e:null,dn=null,Ii(e.ctx),Ne=!1,Kn=++Vn,e.ac!==null&&(ca(()=>{e.ac.abort(Si)}),e.ac=null);try{e.f|=Rs;var v=e.fn,m=v(),y=e.deps;if(ae!==null){var x;if(xo(e,_e),y!==null&&_e>0)for(y.length=_e+ae.length,x=0;x<ae.length;x++)y[_e+x]=ae[x];else e.deps=y=ae;if(da()&&(e.f&Te)!==0)for(x=_e;x<y.length;x++)(y[x].reactions??=[]).push(e)}else y!==null&&_e<y.length&&(xo(e,_e),y.length=_e);if(Or()&&we!==null&&!Ne&&y!==null&&(e.f&(Vt|Xe|Qt))===0)for(x=0;x<we.length;x++)nh(we[x],e);if(u!==null&&u!==e){if(Vn++,u.deps!==null)for(let k=0;k<r;k+=1)u.deps[k].rv=Vn;if(i!==null)for(const k of i)k.rv=Vn;we!==null&&(s===null?s=we:s.push(...we))}return(e.f&En)!==0&&(e.f^=En),m}catch(k){return El(k)}finally{e.f^=Rs,ae=i,_e=r,we=s,ot=u,dn=l,Ii(f),Ne=c,Kn=_}}function Xc(e,i){let r=i.reactions;if(r!==null){var s=Gf.call(r,e);if(s!==-1){var u=r.length-1;u===0?r=i.reactions=null:(r[s]=r[u],r.pop())}}if(r===null&&(i.f&Vt)!==0&&(ae===null||!ae.includes(i))){var l=i;(l.f&Te)!==0&&(l.f^=Te,l.f&=~Qn),la(l),Dl(l),xo(l,0)}}function xo(e,i){var r=e.deps;if(r!==null)for(var s=i;s<r.length;s++)Xc(e,r[s])}function Ri(e){var i=e.f;if((i&fn)===0){zt(e,Yt);var r=_t,s=co;_t=e,co=!0;try{(i&(gn|Tl))!==0?Yc(e):Xl(e),Gl(e);var u=ih(e);e.teardown=typeof u=="function"?u:null,e.wv=th;var l;Zs&&bc&&(e.f&Qt)!==0&&e.deps}finally{co=s,_t=r}}}function g(e){var i=e.f,r=(i&Vt)!==0;if(ot!==null&&!Ne){var s=_t!==null&&(_t.f&fn)!==0;if(!s&&!dn?.includes(e)){var u=ot.deps;if((ot.f&Rs)!==0)e.rv<Vn&&(e.rv=Vn,ae===null&&u!==null&&u[_e]===e?_e++:ae===null?ae=[e]:ae.push(e));else{(ot.deps??=[]).push(e);var l=e.reactions;l===null?e.reactions=[ot]:l.includes(ot)||l.push(ot)}}}if(zn&&On.has(e))return On.get(e);if(r){var f=e;if(zn){var c=f.v;return((f.f&Yt)===0&&f.reactions!==null||oh(f))&&(c=fa(f)),On.set(f,c),c}var _=(f.f&Te)===0&&!Ne&&ot!==null&&(co||(ot.f&Te)!==0),d=f.deps===null;Gi(f)&&(_&&(f.f|=Te),Il(f)),_&&!d&&rh(f)}if(Oe?.has(e))return Oe.get(e);if((e.f&En)!==0)throw e.v;return e.v}function rh(e){if(e.deps!==null){e.f|=Te;for(const i of e.deps)(i.reactions??=[]).push(e),(i.f&Vt)!==0&&(i.f&Te)===0&&rh(i)}}function oh(e){if(e.v===qt)return!0;if(e.deps===null)return!1;for(const i of e.deps)if(On.has(i)||(i.f&Vt)!==0&&oh(i))return!0;return!1}function B(e){var i=Ne;try{return Ne=!0,e()}finally{Ne=i}}function $c(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Xn in e)Ws(e);else if(!Array.isArray(e))for(let i in e){const r=e[i];typeof r=="object"&&r&&Xn in r&&Ws(r)}}}function Ws(e,i=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!i.has(e)){i.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Ws(e[s],i)}catch{}const r=oa(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=xl(r);for(let u in s){const l=s[u].get;if(l)try{l.call(e)}catch{}}}}}const jc=["touchstart","touchmove"];function Kc(e){return jc.includes(e)}const Jc=new Set,Lu=new Set;function Qc(e,i,r,s={}){function u(l){if(s.capture||wr.call(i,l),!l.cancelBubble)return ca(()=>r?.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?cn(()=>{i.addEventListener(e,u,s)}):i.addEventListener(e,u,s),u}function Ee(e,i,r,s,u){var l={capture:s,passive:u},f=Qc(e,i,r,l);(i===document.body||i===window||i===document||i instanceof HTMLMediaElement)&&ql(()=>{i.removeEventListener(e,f,l)})}let Cu=null;function wr(e){var i=this,r=i.ownerDocument,s=e.type,u=e.composedPath?.()||[],l=u[0]||e.target;Cu=e;var f=0,c=Cu===e&&e.__root;if(c){var _=u.indexOf(c);if(_!==-1&&(i===document||i===window)){e.__root=i;return}var d=u.indexOf(i);if(d===-1)return;_<=d&&(f=_)}if(l=u[f]||e.target,l!==i){Xf(e,"currentTarget",{configurable:!0,get(){return l||r}});var v=ot,m=_t;ue(null),Ve(null);try{for(var y,x=[];l!==null;){var k=l.assignedSlot||l.parentNode||l.host||null;try{var C=l["__"+s];C!=null&&(!l.disabled||e.target===l)&&C.call(l,e)}catch(M){y?x.push(M):y=M}if(e.cancelBubble||k===i||k===null)break;l=k}if(y){for(let M of x)queueMicrotask(()=>{throw M});throw y}}finally{e.__root=i,delete e.currentTarget,ue(v),Ve(m)}}}function sh(e){var i=document.createElement("template");return i.innerHTML=e.replaceAll("<!>","<!---->"),i.content}function bo(e,i){var r=_t;r.nodes===null&&(r.nodes={start:e,end:i,a:null,t:null})}function oi(e,i){var r=(i&Cl)!==0,s=(i&vc)!==0,u,l=!e.startsWith("<!>");return()=>{u===void 0&&(u=sh(l?e:"<!>"+e),r||(u=an(u)));var f=s||Rl?document.importNode(u,!0):u.cloneNode(!0);if(r){var c=an(f),_=f.lastChild;bo(c,_)}else bo(f,f);return f}}function td(e,i,r="svg"){var s=!e.startsWith("<!>"),u=(i&Cl)!==0,l=`<${r}>${s?e:"<!>"+e}</${r}>`,f;return()=>{if(!f){var c=sh(l),_=an(c);if(u)for(f=document.createDocumentFragment();an(_);)f.appendChild(an(_));else f=an(_)}var d=f.cloneNode(!0);if(u){var v=an(d),m=d.lastChild;bo(v,m)}else bo(d,d);return d}}function ma(e,i){return td(e,i,"svg")}function We(e,i){e!==null&&e.before(i)}function dr(e,i){var r=i==null?"":typeof i=="object"?i+"":i;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ed(e,i){return nd(e,i)}const Pi=new Map;function nd(e,{target:i,anchor:r,props:s={},events:u,context:l,intro:f=!0}){Bc();var c=new Set,_=m=>{for(var y=0;y<m.length;y++){var x=m[y];if(!c.has(x)){c.add(x);var k=Kc(x);i.addEventListener(x,wr,{passive:k});var C=Pi.get(x);C===void 0?(document.addEventListener(x,wr,{passive:k}),Pi.set(x,1)):Pi.set(x,C+1)}}};_(Zo(Jc)),Lu.add(_);var d=void 0,v=Hc(()=>{var m=r??i.appendChild($n());return Ec(m,{pending:()=>{}},y=>{if(l){Bo({});var x=Mt;x.c=l}u&&(s.$$events=u),d=e(y,s)||{},l&&Ro()}),()=>{for(var y of c){i.removeEventListener(y,wr);var x=Pi.get(y);--x===0?(document.removeEventListener(y,wr),Pi.delete(y)):Pi.set(y,x)}Lu.delete(_),m!==r&&m.parentNode?.removeChild(m)}});return id.set(d,v),d}let id=new WeakMap;class rd{anchor;#t=new Map;#n=new Map;#e=new Map;#i=new Set;#s=!0;constructor(i,r=!0){this.anchor=i,this.#s=r}#o=()=>{var i=Lt;if(this.#t.has(i)){var r=this.#t.get(i),s=this.#n.get(r);if(s)pa(s),this.#i.delete(r);else{var u=this.#e.get(r);u&&(this.#n.set(r,u.effect),this.#e.delete(r),u.fragment.lastChild.remove(),this.anchor.before(u.fragment),s=u.effect)}for(const[l,f]of this.#t){if(this.#t.delete(l),l===i)break;const c=this.#e.get(f);c&&(he(c.effect),this.#e.delete(f))}for(const[l,f]of this.#n){if(l===r||this.#i.has(l))continue;const c=()=>{if(Array.from(this.#t.values()).includes(l)){var d=document.createDocumentFragment();Jl(f,d),d.append($n()),this.#e.set(l,{effect:f,fragment:d})}else he(f);this.#i.delete(l),this.#n.delete(l)};this.#s||!s?(this.#i.add(l),jn(f,c,!1)):c()}}};#r=i=>{this.#t.delete(i);const r=Array.from(this.#t.values());for(const[s,u]of this.#e)r.includes(s)||(he(u.effect),this.#e.delete(s))};ensure(i,r){var s=Lt,u=Hl();if(r&&!this.#n.has(i)&&!this.#e.has(i))if(u){var l=document.createDocumentFragment(),f=$n();l.append(f),this.#e.set(i,{effect:xe(()=>r(f)),fragment:l})}else this.#n.set(i,xe(()=>r(this.anchor)));if(this.#t.set(s,i),u){for(const[c,_]of this.#n)c===i?s.skipped_effects.delete(_):s.skipped_effects.add(_);for(const[c,_]of this.#e)c===i?s.skipped_effects.delete(_.effect):s.skipped_effects.add(_.effect);s.oncommit(this.#o),s.ondiscard(this.#r)}else this.#o()}}function Mi(e,i,r=!1){var s=new rd(e),u=r?Di:0;function l(f,c){s.ensure(f,c)}_a(()=>{var f=!1;i((c,_=!0)=>{f=!0,l(_,c)}),f||l(!1,null)},u)}function Ps(e,i){return i}function od(e,i,r){for(var s=[],u=i.length,l,f=i.length,c=0;c<u;c++){let m=i[c];jn(m,()=>{if(l){if(l.pending.delete(m),l.done.add(m),l.pending.size===0){var y=e.outrogroups;qs(Zo(l.done)),y.delete(l),y.size===0&&(e.outrogroups=null)}}else f-=1},!1)}if(f===0){var _=s.length===0&&r!==null;if(_){var d=r,v=d.parentNode;Rc(v),v.append(d),e.items.clear()}qs(i,!_)}else l={pending:new Set(i),done:new Set},(e.outrogroups??=new Set).add(l)}function qs(e,i=!0){for(var r=0;r<e.length;r++)he(e[r],i)}var Su;function so(e,i,r,s,u,l=null){var f=e,c=new Map,_=(i&Ll)!==0;if(_){var d=e;f=d.appendChild($n())}var v=null,m=kn(()=>{var R=r();return ra(R)?R:R==null?[]:Zo(R)}),y,x=!0;function k(){M.fallback=v,sd(M,y,f,i,s),v!==null&&(y.length===0?(v.f&un)===0?pa(v):(v.f^=un,xr(v,null,f)):jn(v,()=>{v=null}))}var C=_a(()=>{y=g(m);for(var R=y.length,H=new Set,O=Lt,z=Hl(),W=0;W<R;W+=1){var A=y[W],q=s(A,W),j=x?null:c.get(q);j?(j.v&&Bi(j.v,A),j.i&&Bi(j.i,W),z&&O.skipped_effects.delete(j.e)):(j=ad(c,x?f:Su??=$n(),A,q,W,u,i,r),x||(j.e.f|=un),c.set(q,j)),H.add(q)}if(R===0&&l&&!v&&(x?v=xe(()=>l(f)):(v=xe(()=>l(Su??=$n())),v.f|=un)),!x)if(z){for(const[St,xt]of c)H.has(St)||O.skipped_effects.add(xt.e);O.oncommit(k),O.ondiscard(()=>{})}else k();g(m)}),M={effect:C,items:c,outrogroups:null,fallback:v};x=!1}function sd(e,i,r,s,u){var l=(s&dc)!==0,f=i.length,c=e.items,_=e.effect.first,d,v=null,m,y=[],x=[],k,C,M,R;if(l)for(R=0;R<f;R+=1)k=i[R],C=u(k,R),M=c.get(C).e,(M.f&un)===0&&(M.nodes?.a?.measure(),(m??=new Set).add(M));for(R=0;R<f;R+=1){if(k=i[R],C=u(k,R),M=c.get(C).e,e.outrogroups!==null)for(const xt of e.outrogroups)xt.pending.delete(M),xt.done.delete(M);if((M.f&un)!==0)if(M.f^=un,M===_)xr(M,null,r);else{var H=v?v.next:_;M===e.effect.last&&(e.effect.last=M.prev),M.prev&&(M.prev.next=M.next),M.next&&(M.next.prev=M.prev),Cn(e,v,M),Cn(e,M,H),xr(M,H,r),v=M,y=[],x=[],_=v.next;continue}if((M.f&pe)!==0&&(pa(M),l&&(M.nodes?.a?.unfix(),(m??=new Set).delete(M))),M!==_){if(d!==void 0&&d.has(M)){if(y.length<x.length){var O=x[0],z;v=O.prev;var W=y[0],A=y[y.length-1];for(z=0;z<y.length;z+=1)xr(y[z],O,r);for(z=0;z<x.length;z+=1)d.delete(x[z]);Cn(e,W.prev,A.next),Cn(e,v,W),Cn(e,A,O),_=O,v=A,R-=1,y=[],x=[]}else d.delete(M),xr(M,_,r),Cn(e,M.prev,M.next),Cn(e,M,v===null?e.effect.first:v.next),Cn(e,v,M),v=M;continue}for(y=[],x=[];_!==null&&_!==M;)(d??=new Set).add(_),x.push(_),_=_.next;if(_===null)continue}(M.f&un)===0&&y.push(M),v=M,_=M.next}if(e.outrogroups!==null){for(const xt of e.outrogroups)xt.pending.size===0&&(qs(Zo(xt.done)),e.outrogroups?.delete(xt));e.outrogroups.size===0&&(e.outrogroups=null)}if(_!==null||d!==void 0){var q=[];if(d!==void 0)for(M of d)(M.f&pe)===0&&q.push(M);for(;_!==null;)(_.f&pe)===0&&_!==e.fallback&&q.push(_),_=_.next;var j=q.length;if(j>0){var St=(s&Ll)!==0&&f===0?r:null;if(l){for(R=0;R<j;R+=1)q[R].nodes?.a?.measure();for(R=0;R<j;R+=1)q[R].nodes?.a?.fix()}od(e,q,St)}}l&&cn(()=>{if(m!==void 0)for(M of m)M.nodes?.a?.apply()})}function ad(e,i,r,s,u,l,f,c){var _=(f&fc)!==0?(f&_c)===0?rt(r,!1,!1):ti(r):null,d=(f&cc)!==0?ti(u):null;return{v:_,i:d,e:xe(()=>(l(i,_??r,d??u,c),()=>{e.delete(s)}))}}function xr(e,i,r){if(e.nodes)for(var s=e.nodes.start,u=e.nodes.end,l=i&&(i.f&un)===0?i.nodes.start:r;s!==null;){var f=zr(s);if(l.before(s),s===u)return;s=f}}function Cn(e,i,r){i===null?e.effect.first=r:i.next=r,r===null?e.effect.last=i:r.prev=i}const ud=()=>performance.now(),qe={tick:e=>requestAnimationFrame(e),now:()=>ud(),tasks:new Set};function ah(){const e=qe.now();qe.tasks.forEach(i=>{i.c(e)||(qe.tasks.delete(i),i.f())}),qe.tasks.size!==0&&qe.tick(ah)}function ld(e){let i;return qe.tasks.size===0&&qe.tick(ah),{promise:new Promise(r=>{qe.tasks.add(i={c:e,f:r})}),abort(){qe.tasks.delete(i)}}}const ku=[...` 	
\r\fÂ \v\uFEFF`];function hd(e,i,r){var s=e==null?"":""+e;if(r){for(var u in r)if(r[u])s=s?s+" "+u:u;else if(s.length)for(var l=u.length,f=0;(f=s.indexOf(u,f))>=0;){var c=f+l;(f===0||ku.includes(s[f-1]))&&(c===s.length||ku.includes(s[c]))?s=(f===0?"":s.substring(0,f))+s.substring(c+1):f=c}}return s===""?null:s}function fd(e,i){return e==null?null:String(e)}function uh(e,i,r,s,u,l){var f=e.__className;if(f!==r||f===void 0){var c=hd(r,s,l);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}else if(l&&u!==l)for(var _ in l){var d=!!l[_];(u==null||d!==!!u[_])&&e.classList.toggle(_,d)}return l}function _o(e,i,r,s){var u=e.__style;if(u!==i){var l=fd(i);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=i}return s}const cd=Symbol("is custom element"),dd=Symbol("is html");function D(e,i,r,s){var u=_d(e);u[i]!==(u[i]=r)&&(i==="loading"&&(e[Qf]=r),r==null?e.removeAttribute(i):typeof r!="string"&&pd(e).includes(i)?e[i]=r:e.setAttribute(i,r))}function _d(e){return e.__attributes??={[cd]:e.nodeName.includes("-"),[dd]:e.namespaceURI===yc}}var Eu=new Map;function pd(e){var i=e.getAttribute("is")||e.nodeName,r=Eu.get(i);if(r)return r;Eu.set(i,r=[]);for(var s,u=e,l=Element.prototype;l!==u;){s=xl(u);for(var f in s)s[f].set&&r.push(f);u=oa(u)}return r}class ga{#t=new WeakMap;#n;#e;static entries=new WeakMap;constructor(i){this.#e=i}observe(i,r){var s=this.#t.get(i)||new Set;return s.add(r),this.#t.set(i,s),this.#i().observe(i,this.#e),()=>{var u=this.#t.get(i);u.delete(r),u.size===0&&(this.#t.delete(i),this.#n.unobserve(i))}}#i(){return this.#n??(this.#n=new ResizeObserver(i=>{for(var r of i){ga.entries.set(r.target,r);for(var s of this.#t.get(r.target)||[])s(r)}}))}}var md=new ga({box:"border-box"});function Au(e,i,r){var s=md.observe(e,()=>r(e[i]));Vl(()=>(B(()=>r(e[i])),s))}function Ou(e,i){return e===i||e?.[Xn]===i}function Ys(e={},i,r,s){return Vl(()=>{var u,l;return Nr(()=>{u=l,l=[],B(()=>{e!==r(...l)&&(i(e,...l),u&&Ou(r(...u),e)&&i(null,...u))})}),()=>{cn(()=>{l&&Ou(r(...l),e)&&i(null,...l)})}}),e}function zu(e){return function(...i){var r=i[0];return r.stopPropagation(),e?.apply(this,i)}}function lh(e=!1){const i=Mt,r=i.l.u;if(!r)return;let s=()=>$c(i.s);if(e){let u=0,l={};const f=Fo(()=>{let c=!1;const _=i.s;for(const d in _)_[d]!==l[d]&&(l[d]=_[d],c=!0);return c&&u++,u});s=()=>g(f)}r.b.length&&Uc(()=>{Nu(i,s),Bs(r.b)}),wo(()=>{const u=B(()=>r.m.map(Kf));return()=>{for(const l of u)typeof l=="function"&&l()}}),r.a.length&&wo(()=>{Nu(i,s),Bs(r.a)})}function Nu(e,i){if(e.l.s)for(const r of e.l.s)g(r);i()}function gd(e,i){var r=e.$$events?.[i.type],s=ra(r)?r.slice():r==null?[]:[r];for(var u of s)u.call(this,i)}let ao=!1;function vd(e){var i=ao;try{return ao=!1,[e(),ao]}finally{ao=i}}function Du(e,i,r,s){var u=!Vi||(r&pc)!==0,l=(r&gc)!==0,f=s,c=!0,_=()=>(c&&(c=!1,f=s),f),d;{var v=Xn in e||Jf in e;d=zi(e,i)?.set??(v&&i in e?H=>e[i]=H:void 0)}var m,y=!1;[m,y]=vd(()=>e[i]),m===void 0&&s!==void 0&&(m=_(),d&&(u&&sc(),d(m)));var x;if(u?x=()=>{var H=e[i];return H===void 0?_():(c=!0,H)}:x=()=>{var H=e[i];return H!==void 0&&(f=void 0),H===void 0?f:H},u&&(r&mc)===0)return x;if(d){var k=e.$$legacy;return(function(H,O){return arguments.length>0?((!u||!O||k||y)&&d(O?x():H),H):x()})}var C=!1,M=kn(()=>(C=!1,x()));g(M);var R=_t;return(function(H,O){if(arguments.length>0){const z=O?g(M):u&&l?Ei(H):H;return N(M,z),C=!0,f!==void 0&&(f=z),H}return zn&&C||(R.f&fn)!==0?M.v:g(M)})}function hh(e){Mt===null&&tc(),Vi&&Mt.l!==null?yd(Mt).m.push(e):wo(()=>{const i=B(e);if(typeof i=="function")return i})}function yd(e){var i=e.l;return i.u??={a:[],b:[],m:[]}}const wd="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(wd);Tc();function po(e,i){return e==null||i==null?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function xd(e,i){return e==null||i==null?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function va(e){let i,r,s;e.length!==2?(i=po,r=(c,_)=>po(e(c),_),s=(c,_)=>e(c)-_):(i=e===po||e===xd?e:bd,r=e,s=e);function u(c,_,d=0,v=c.length){if(d<v){if(i(_,_)!==0)return v;do{const m=d+v>>>1;r(c[m],_)<0?d=m+1:v=m}while(d<v)}return d}function l(c,_,d=0,v=c.length){if(d<v){if(i(_,_)!==0)return v;do{const m=d+v>>>1;r(c[m],_)<=0?d=m+1:v=m}while(d<v)}return d}function f(c,_,d=0,v=c.length){const m=u(c,_,d,v-1);return m>d&&s(c[m-1],_)>-s(c[m],_)?m-1:m}return{left:u,center:f,right:l}}function bd(){return 0}function Td(e){return e===null?NaN:+e}const Pd=va(po),Md=Pd.right;va(Td).center;class Ld extends Map{constructor(i,r=kd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),i!=null)for(const[s,u]of i)this.set(s,u)}get(i){return super.get(Iu(this,i))}has(i){return super.has(Iu(this,i))}set(i,r){return super.set(Cd(this,i),r)}delete(i){return super.delete(Sd(this,i))}}function Iu({_intern:e,_key:i},r){const s=i(r);return e.has(s)?e.get(s):r}function Cd({_intern:e,_key:i},r){const s=i(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function Sd({_intern:e,_key:i},r){const s=i(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function kd(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ed(e){return e}function de(e,...i){return Ad(e,Array.from,Ed,i)}function Ad(e,i,r,s){return(function u(l,f){if(f>=s.length)return r(l);const c=new Ld,_=s[f++];let d=-1;for(const v of l){const m=_(v,++d,l),y=c.get(m);y?y.push(v):c.set(m,[v])}for(const[v,m]of c)c.set(v,u(m,f));return i(c)})(e,0)}const Od=Math.sqrt(50),zd=Math.sqrt(10),Nd=Math.sqrt(2);function To(e,i,r){const s=(i-e)/Math.max(0,r),u=Math.floor(Math.log10(s)),l=s/Math.pow(10,u),f=l>=Od?10:l>=zd?5:l>=Nd?2:1;let c,_,d;return u<0?(d=Math.pow(10,-u)/f,c=Math.round(e*d),_=Math.round(i*d),c/d<e&&++c,_/d>i&&--_,d=-d):(d=Math.pow(10,u)*f,c=Math.round(e/d),_=Math.round(i/d),c*d<e&&++c,_*d>i&&--_),_<c&&.5<=r&&r<2?To(e,i,r*2):[c,_,d]}function Dd(e,i,r){if(i=+i,e=+e,r=+r,!(r>0))return[];if(e===i)return[e];const s=i<e,[u,l,f]=s?To(i,e,r):To(e,i,r);if(!(l>=u))return[];const c=l-u+1,_=new Array(c);if(s)if(f<0)for(let d=0;d<c;++d)_[d]=(l-d)/-f;else for(let d=0;d<c;++d)_[d]=(l-d)*f;else if(f<0)for(let d=0;d<c;++d)_[d]=(u+d)/-f;else for(let d=0;d<c;++d)_[d]=(u+d)*f;return _}function Vs(e,i,r){return i=+i,e=+e,r=+r,To(e,i,r)[2]}function Gs(e,i,r){i=+i,e=+e,r=+r;const s=i<e,u=s?Vs(i,e,r):Vs(e,i,r);return(s?-1:1)*(u<0?1/-u:u)}function Id(e,i){let r;if(i===void 0)for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);else{let s=-1;for(let u of e)(u=i(u,++s,e))!=null&&(r<u||r===void 0&&u>=u)&&(r=u)}return r}function Zd(e){return e}var Ms=1,Ls=2,Xs=3,br=4,Zu=1e-6;function Bd(e){return"translate("+e+",0)"}function Rd(e){return"translate(0,"+e+")"}function Fd(e){return i=>+e(i)}function Ud(e,i){return i=Math.max(0,e.bandwidth()-i*2)/2,e.round()&&(i=Math.round(i)),r=>+e(r)+i}function Hd(){return!this.__axis}function fh(e,i){var r=[],s=null,u=null,l=6,f=6,c=3,_=typeof window<"u"&&window.devicePixelRatio>1?0:.5,d=e===Ms||e===br?-1:1,v=e===br||e===Ls?"x":"y",m=e===Ms||e===Xs?Bd:Rd;function y(x){var k=s??(i.ticks?i.ticks.apply(i,r):i.domain()),C=u??(i.tickFormat?i.tickFormat.apply(i,r):Zd),M=Math.max(l,0)+c,R=i.range(),H=+R[0]+_,O=+R[R.length-1]+_,z=(i.bandwidth?Ud:Fd)(i.copy(),_),W=x.selection?x.selection():x,A=W.selectAll(".domain").data([null]),q=W.selectAll(".tick").data(k,i).order(),j=q.exit(),St=q.enter().append("g").attr("class","tick"),xt=q.select("line"),ft=q.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),q=q.merge(St),xt=xt.merge(St.append("line").attr("stroke","currentColor").attr(v+"2",d*l)),ft=ft.merge(St.append("text").attr("fill","currentColor").attr(v,d*M).attr("dy",e===Ms?"0em":e===Xs?"0.71em":"0.32em")),x!==W&&(A=A.transition(x),q=q.transition(x),xt=xt.transition(x),ft=ft.transition(x),j=j.transition(x).attr("opacity",Zu).attr("transform",function(Y){return isFinite(Y=z(Y))?m(Y+_):this.getAttribute("transform")}),St.attr("opacity",Zu).attr("transform",function(Y){var mt=this.parentNode.__axis;return m((mt&&isFinite(mt=mt(Y))?mt:z(Y))+_)})),j.remove(),A.attr("d",e===br||e===Ls?f?"M"+d*f+","+H+"H"+_+"V"+O+"H"+d*f:"M"+_+","+H+"V"+O:f?"M"+H+","+d*f+"V"+_+"H"+O+"V"+d*f:"M"+H+","+_+"H"+O),q.attr("opacity",1).attr("transform",function(Y){return m(z(Y)+_)}),xt.attr(v+"2",d*l),ft.attr(v,d*M).text(C),W.filter(Hd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ls?"start":e===br?"end":"middle"),W.each(function(){this.__axis=z})}return y.scale=function(x){return arguments.length?(i=x,y):i},y.ticks=function(){return r=Array.from(arguments),y},y.tickArguments=function(x){return arguments.length?(r=x==null?[]:Array.from(x),y):r.slice()},y.tickValues=function(x){return arguments.length?(s=x==null?null:Array.from(x),y):s&&s.slice()},y.tickFormat=function(x){return arguments.length?(u=x,y):u},y.tickSize=function(x){return arguments.length?(l=f=+x,y):l},y.tickSizeInner=function(x){return arguments.length?(l=+x,y):l},y.tickSizeOuter=function(x){return arguments.length?(f=+x,y):f},y.tickPadding=function(x){return arguments.length?(c=+x,y):c},y.offset=function(x){return arguments.length?(_=+x,y):_},y}function Wd(e){return fh(Xs,e)}function qd(e){return fh(br,e)}var Yd={value:()=>{}};function ch(){for(var e=0,i=arguments.length,r={},s;e<i;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new mo(r)}function mo(e){this._=e}function Vd(e,i){return e.trim().split(/^|\s+/).map(function(r){var s="",u=r.indexOf(".");if(u>=0&&(s=r.slice(u+1),r=r.slice(0,u)),r&&!i.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}mo.prototype=ch.prototype={constructor:mo,on:function(e,i){var r=this._,s=Vd(e+"",r),u,l=-1,f=s.length;if(arguments.length<2){for(;++l<f;)if((u=(e=s[l]).type)&&(u=Gd(r[u],e.name)))return u;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++l<f;)if(u=(e=s[l]).type)r[u]=Bu(r[u],e.name,i);else if(i==null)for(u in r)r[u]=Bu(r[u],e.name,null);return this},copy:function(){var e={},i=this._;for(var r in i)e[r]=i[r].slice();return new mo(e)},call:function(e,i){if((u=arguments.length-2)>0)for(var r=new Array(u),s=0,u,l;s<u;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],s=0,u=l.length;s<u;++s)l[s].value.apply(i,r)},apply:function(e,i,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],u=0,l=s.length;u<l;++u)s[u].value.apply(i,r)}};function Gd(e,i){for(var r=0,s=e.length,u;r<s;++r)if((u=e[r]).name===i)return u.value}function Bu(e,i,r){for(var s=0,u=e.length;s<u;++s)if(e[s].name===i){e[s]=Yd,e=e.slice(0,s).concat(e.slice(s+1));break}return r!=null&&e.push({name:i,value:r}),e}var $s="http://www.w3.org/1999/xhtml";const Ru={svg:"http://www.w3.org/2000/svg",xhtml:$s,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uo(e){var i=e+="",r=i.indexOf(":");return r>=0&&(i=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ru.hasOwnProperty(i)?{space:Ru[i],local:e}:e}function Xd(e){return function(){var i=this.ownerDocument,r=this.namespaceURI;return r===$s&&i.documentElement.namespaceURI===$s?i.createElement(e):i.createElementNS(r,e)}}function $d(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dh(e){var i=Uo(e);return(i.local?$d:Xd)(i)}function jd(){}function ya(e){return e==null?jd:function(){return this.querySelector(e)}}function Kd(e){typeof e!="function"&&(e=ya(e));for(var i=this._groups,r=i.length,s=new Array(r),u=0;u<r;++u)for(var l=i[u],f=l.length,c=s[u]=new Array(f),_,d,v=0;v<f;++v)(_=l[v])&&(d=e.call(_,_.__data__,v,l))&&("__data__"in _&&(d.__data__=_.__data__),c[v]=d);return new me(s,this._parents)}function Jd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Qd(){return[]}function _h(e){return e==null?Qd:function(){return this.querySelectorAll(e)}}function t_(e){return function(){return Jd(e.apply(this,arguments))}}function e_(e){typeof e=="function"?e=t_(e):e=_h(e);for(var i=this._groups,r=i.length,s=[],u=[],l=0;l<r;++l)for(var f=i[l],c=f.length,_,d=0;d<c;++d)(_=f[d])&&(s.push(e.call(_,_.__data__,d,f)),u.push(_));return new me(s,u)}function ph(e){return function(){return this.matches(e)}}function mh(e){return function(i){return i.matches(e)}}var n_=Array.prototype.find;function i_(e){return function(){return n_.call(this.children,e)}}function r_(){return this.firstElementChild}function o_(e){return this.select(e==null?r_:i_(typeof e=="function"?e:mh(e)))}var s_=Array.prototype.filter;function a_(){return Array.from(this.children)}function u_(e){return function(){return s_.call(this.children,e)}}function l_(e){return this.selectAll(e==null?a_:u_(typeof e=="function"?e:mh(e)))}function h_(e){typeof e!="function"&&(e=ph(e));for(var i=this._groups,r=i.length,s=new Array(r),u=0;u<r;++u)for(var l=i[u],f=l.length,c=s[u]=[],_,d=0;d<f;++d)(_=l[d])&&e.call(_,_.__data__,d,l)&&c.push(_);return new me(s,this._parents)}function gh(e){return new Array(e.length)}function f_(){return new me(this._enter||this._groups.map(gh),this._parents)}function Po(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}Po.prototype={constructor:Po,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function c_(e){return function(){return e}}function d_(e,i,r,s,u,l){for(var f=0,c,_=i.length,d=l.length;f<d;++f)(c=i[f])?(c.__data__=l[f],s[f]=c):r[f]=new Po(e,l[f]);for(;f<_;++f)(c=i[f])&&(u[f]=c)}function __(e,i,r,s,u,l,f){var c,_,d=new Map,v=i.length,m=l.length,y=new Array(v),x;for(c=0;c<v;++c)(_=i[c])&&(y[c]=x=f.call(_,_.__data__,c,i)+"",d.has(x)?u[c]=_:d.set(x,_));for(c=0;c<m;++c)x=f.call(e,l[c],c,l)+"",(_=d.get(x))?(s[c]=_,_.__data__=l[c],d.delete(x)):r[c]=new Po(e,l[c]);for(c=0;c<v;++c)(_=i[c])&&d.get(y[c])===_&&(u[c]=_)}function p_(e){return e.__data__}function m_(e,i){if(!arguments.length)return Array.from(this,p_);var r=i?__:d_,s=this._parents,u=this._groups;typeof e!="function"&&(e=c_(e));for(var l=u.length,f=new Array(l),c=new Array(l),_=new Array(l),d=0;d<l;++d){var v=s[d],m=u[d],y=m.length,x=g_(e.call(v,v&&v.__data__,d,s)),k=x.length,C=c[d]=new Array(k),M=f[d]=new Array(k),R=_[d]=new Array(y);r(v,m,C,M,R,x,i);for(var H=0,O=0,z,W;H<k;++H)if(z=C[H]){for(H>=O&&(O=H+1);!(W=M[O])&&++O<k;);z._next=W||null}}return f=new me(f,s),f._enter=c,f._exit=_,f}function g_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v_(){return new me(this._exit||this._groups.map(gh),this._parents)}function y_(e,i,r){var s=this.enter(),u=this,l=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),i!=null&&(u=i(u),u&&(u=u.selection())),r==null?l.remove():r(l),s&&u?s.merge(u).order():u}function w_(e){for(var i=e.selection?e.selection():e,r=this._groups,s=i._groups,u=r.length,l=s.length,f=Math.min(u,l),c=new Array(u),_=0;_<f;++_)for(var d=r[_],v=s[_],m=d.length,y=c[_]=new Array(m),x,k=0;k<m;++k)(x=d[k]||v[k])&&(y[k]=x);for(;_<u;++_)c[_]=r[_];return new me(c,this._parents)}function x_(){for(var e=this._groups,i=-1,r=e.length;++i<r;)for(var s=e[i],u=s.length-1,l=s[u],f;--u>=0;)(f=s[u])&&(l&&f.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(f,l),l=f);return this}function b_(e){e||(e=T_);function i(m,y){return m&&y?e(m.__data__,y.__data__):!m-!y}for(var r=this._groups,s=r.length,u=new Array(s),l=0;l<s;++l){for(var f=r[l],c=f.length,_=u[l]=new Array(c),d,v=0;v<c;++v)(d=f[v])&&(_[v]=d);_.sort(i)}return new me(u,this._parents).order()}function T_(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}function P_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function M_(){return Array.from(this)}function L_(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var s=e[i],u=0,l=s.length;u<l;++u){var f=s[u];if(f)return f}return null}function C_(){let e=0;for(const i of this)++e;return e}function S_(){return!this.node()}function k_(e){for(var i=this._groups,r=0,s=i.length;r<s;++r)for(var u=i[r],l=0,f=u.length,c;l<f;++l)(c=u[l])&&e.call(c,c.__data__,l,u);return this}function E_(e){return function(){this.removeAttribute(e)}}function A_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function O_(e,i){return function(){this.setAttribute(e,i)}}function z_(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function N_(e,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function D_(e,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function I_(e,i){var r=Uo(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((i==null?r.local?A_:E_:typeof i=="function"?r.local?D_:N_:r.local?z_:O_)(r,i))}function vh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Z_(e){return function(){this.style.removeProperty(e)}}function B_(e,i,r){return function(){this.style.setProperty(e,i,r)}}function R_(e,i,r){return function(){var s=i.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function F_(e,i,r){return arguments.length>1?this.each((i==null?Z_:typeof i=="function"?R_:B_)(e,i,r??"")):Fi(this.node(),e)}function Fi(e,i){return e.style.getPropertyValue(i)||vh(e).getComputedStyle(e,null).getPropertyValue(i)}function U_(e){return function(){delete this[e]}}function H_(e,i){return function(){this[e]=i}}function W_(e,i){return function(){var r=i.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function q_(e,i){return arguments.length>1?this.each((i==null?U_:typeof i=="function"?W_:H_)(e,i)):this.node()[e]}function yh(e){return e.trim().split(/^|\s+/)}function wa(e){return e.classList||new wh(e)}function wh(e){this._node=e,this._names=yh(e.getAttribute("class")||"")}wh.prototype={add:function(e){var i=this._names.indexOf(e);i<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xh(e,i){for(var r=wa(e),s=-1,u=i.length;++s<u;)r.add(i[s])}function bh(e,i){for(var r=wa(e),s=-1,u=i.length;++s<u;)r.remove(i[s])}function Y_(e){return function(){xh(this,e)}}function V_(e){return function(){bh(this,e)}}function G_(e,i){return function(){(i.apply(this,arguments)?xh:bh)(this,e)}}function X_(e,i){var r=yh(e+"");if(arguments.length<2){for(var s=wa(this.node()),u=-1,l=r.length;++u<l;)if(!s.contains(r[u]))return!1;return!0}return this.each((typeof i=="function"?G_:i?Y_:V_)(r,i))}function $_(){this.textContent=""}function j_(e){return function(){this.textContent=e}}function K_(e){return function(){var i=e.apply(this,arguments);this.textContent=i??""}}function J_(e){return arguments.length?this.each(e==null?$_:(typeof e=="function"?K_:j_)(e)):this.node().textContent}function Q_(){this.innerHTML=""}function tp(e){return function(){this.innerHTML=e}}function ep(e){return function(){var i=e.apply(this,arguments);this.innerHTML=i??""}}function np(e){return arguments.length?this.each(e==null?Q_:(typeof e=="function"?ep:tp)(e)):this.node().innerHTML}function ip(){this.nextSibling&&this.parentNode.appendChild(this)}function rp(){return this.each(ip)}function op(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sp(){return this.each(op)}function ap(e){var i=typeof e=="function"?e:dh(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function up(){return null}function lp(e,i){var r=typeof e=="function"?e:dh(e),s=i==null?up:typeof i=="function"?i:ya(i);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function hp(){var e=this.parentNode;e&&e.removeChild(this)}function fp(){return this.each(hp)}function cp(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function dp(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function _p(e){return this.select(e?dp:cp)}function pp(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mp(e){return function(i){e.call(this,i,this.__data__)}}function gp(e){return e.trim().split(/^|\s+/).map(function(i){var r="",s=i.indexOf(".");return s>=0&&(r=i.slice(s+1),i=i.slice(0,s)),{type:i,name:r}})}function vp(e){return function(){var i=this.__on;if(i){for(var r=0,s=-1,u=i.length,l;r<u;++r)l=i[r],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):i[++s]=l;++s?i.length=s:delete this.__on}}}function yp(e,i,r){return function(){var s=this.__on,u,l=mp(i);if(s){for(var f=0,c=s.length;f<c;++f)if((u=s[f]).type===e.type&&u.name===e.name){this.removeEventListener(u.type,u.listener,u.options),this.addEventListener(u.type,u.listener=l,u.options=r),u.value=i;return}}this.addEventListener(e.type,l,r),u={type:e.type,name:e.name,value:i,listener:l,options:r},s?s.push(u):this.__on=[u]}}function wp(e,i,r){var s=gp(e+""),u,l=s.length,f;if(arguments.length<2){var c=this.node().__on;if(c){for(var _=0,d=c.length,v;_<d;++_)for(u=0,v=c[_];u<l;++u)if((f=s[u]).type===v.type&&f.name===v.name)return v.value}return}for(c=i?yp:vp,u=0;u<l;++u)this.each(c(s[u],i,r));return this}function Th(e,i,r){var s=vh(e),u=s.CustomEvent;typeof u=="function"?u=new u(i,r):(u=s.document.createEvent("Event"),r?(u.initEvent(i,r.bubbles,r.cancelable),u.detail=r.detail):u.initEvent(i,!1,!1)),e.dispatchEvent(u)}function xp(e,i){return function(){return Th(this,e,i)}}function bp(e,i){return function(){return Th(this,e,i.apply(this,arguments))}}function Tp(e,i){return this.each((typeof i=="function"?bp:xp)(e,i))}function*Pp(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var s=e[i],u=0,l=s.length,f;u<l;++u)(f=s[u])&&(yield f)}var Ph=[null];function me(e,i){this._groups=e,this._parents=i}function Dr(){return new me([[document.documentElement]],Ph)}function Mp(){return this}me.prototype=Dr.prototype={constructor:me,select:Kd,selectAll:e_,selectChild:o_,selectChildren:l_,filter:h_,data:m_,enter:f_,exit:v_,join:y_,merge:w_,selection:Mp,order:x_,sort:b_,call:P_,nodes:M_,node:L_,size:C_,empty:S_,each:k_,attr:I_,style:F_,property:q_,classed:X_,text:J_,html:np,raise:rp,lower:sp,append:ap,insert:lp,remove:fp,clone:_p,datum:pp,on:wp,dispatch:Tp,[Symbol.iterator]:Pp};function _r(e){return typeof e=="string"?new me([[document.querySelector(e)]],[document.documentElement]):new me([[e]],Ph)}function xa(e,i,r){e.prototype=i.prototype=r,r.constructor=e}function Mh(e,i){var r=Object.create(e.prototype);for(var s in i)r[s]=i[s];return r}function Ir(){}var Sr=.7,Mo=1/Sr,Ni="\\s*([+-]?\\d+)\\s*",kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lp=/^#([0-9a-f]{3,8})$/,Cp=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),Sp=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),kp=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${kr}\\)$`),Ep=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${kr}\\)$`),Ap=new RegExp(`^hsl\\(${kr},${Ye},${Ye}\\)$`),Op=new RegExp(`^hsla\\(${kr},${Ye},${Ye},${kr}\\)$`),Fu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xa(Ir,ei,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uu,formatHex:Uu,formatHex8:zp,formatHsl:Np,formatRgb:Hu,toString:Hu});function Uu(){return this.rgb().formatHex()}function zp(){return this.rgb().formatHex8()}function Np(){return Lh(this).formatHsl()}function Hu(){return this.rgb().formatRgb()}function ei(e){var i,r;return e=(e+"").trim().toLowerCase(),(i=Lp.exec(e))?(r=i[1].length,i=parseInt(i[1],16),r===6?Wu(i):r===3?new le(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):r===8?uo(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):r===4?uo(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=Cp.exec(e))?new le(i[1],i[2],i[3],1):(i=Sp.exec(e))?new le(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=kp.exec(e))?uo(i[1],i[2],i[3],i[4]):(i=Ep.exec(e))?uo(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=Ap.exec(e))?Vu(i[1],i[2]/100,i[3]/100,1):(i=Op.exec(e))?Vu(i[1],i[2]/100,i[3]/100,i[4]):Fu.hasOwnProperty(e)?Wu(Fu[e]):e==="transparent"?new le(NaN,NaN,NaN,0):null}function Wu(e){return new le(e>>16&255,e>>8&255,e&255,1)}function uo(e,i,r,s){return s<=0&&(e=i=r=NaN),new le(e,i,r,s)}function Dp(e){return e instanceof Ir||(e=ei(e)),e?(e=e.rgb(),new le(e.r,e.g,e.b,e.opacity)):new le}function js(e,i,r,s){return arguments.length===1?Dp(e):new le(e,i,r,s??1)}function le(e,i,r,s){this.r=+e,this.g=+i,this.b=+r,this.opacity=+s}xa(le,js,Mh(Ir,{brighter(e){return e=e==null?Mo:Math.pow(Mo,e),new le(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sr:Math.pow(Sr,e),new le(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new le(Jn(this.r),Jn(this.g),Jn(this.b),Lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qu,formatHex:qu,formatHex8:Ip,formatRgb:Yu,toString:Yu}));function qu(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}`}function Ip(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}${Gn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yu(){const e=Lo(this.opacity);return`${e===1?"rgb(":"rgba("}${Jn(this.r)}, ${Jn(this.g)}, ${Jn(this.b)}${e===1?")":`, ${e})`}`}function Lo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gn(e){return e=Jn(e),(e<16?"0":"")+e.toString(16)}function Vu(e,i,r,s){return s<=0?e=i=r=NaN:r<=0||r>=1?e=i=NaN:i<=0&&(e=NaN),new ze(e,i,r,s)}function Lh(e){if(e instanceof ze)return new ze(e.h,e.s,e.l,e.opacity);if(e instanceof Ir||(e=ei(e)),!e)return new ze;if(e instanceof ze)return e;e=e.rgb();var i=e.r/255,r=e.g/255,s=e.b/255,u=Math.min(i,r,s),l=Math.max(i,r,s),f=NaN,c=l-u,_=(l+u)/2;return c?(i===l?f=(r-s)/c+(r<s)*6:r===l?f=(s-i)/c+2:f=(i-r)/c+4,c/=_<.5?l+u:2-l-u,f*=60):c=_>0&&_<1?0:f,new ze(f,c,_,e.opacity)}function Zp(e,i,r,s){return arguments.length===1?Lh(e):new ze(e,i,r,s??1)}function ze(e,i,r,s){this.h=+e,this.s=+i,this.l=+r,this.opacity=+s}xa(ze,Zp,Mh(Ir,{brighter(e){return e=e==null?Mo:Math.pow(Mo,e),new ze(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sr:Math.pow(Sr,e),new ze(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,i=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*i,u=2*r-s;return new le(Cs(e>=240?e-240:e+120,u,s),Cs(e,u,s),Cs(e<120?e+240:e-120,u,s),this.opacity)},clamp(){return new ze(Gu(this.h),lo(this.s),lo(this.l),Lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lo(this.opacity);return`${e===1?"hsl(":"hsla("}${Gu(this.h)}, ${lo(this.s)*100}%, ${lo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gu(e){return e=(e||0)%360,e<0?e+360:e}function lo(e){return Math.max(0,Math.min(1,e||0))}function Cs(e,i,r){return(e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i)*255}const ba=e=>()=>e;function Bp(e,i){return function(r){return e+r*i}}function Rp(e,i,r){return e=Math.pow(e,r),i=Math.pow(i,r)-e,r=1/r,function(s){return Math.pow(e+s*i,r)}}function Fp(e){return(e=+e)==1?Ch:function(i,r){return r-i?Rp(i,r,e):ba(isNaN(i)?r:i)}}function Ch(e,i){var r=i-e;return r?Bp(e,r):ba(isNaN(e)?i:e)}const Co=(function e(i){var r=Fp(i);function s(u,l){var f=r((u=js(u)).r,(l=js(l)).r),c=r(u.g,l.g),_=r(u.b,l.b),d=Ch(u.opacity,l.opacity);return function(v){return u.r=f(v),u.g=c(v),u.b=_(v),u.opacity=d(v),u+""}}return s.gamma=e,s})(1);function Up(e,i){i||(i=[]);var r=e?Math.min(i.length,e.length):0,s=i.slice(),u;return function(l){for(u=0;u<r;++u)s[u]=e[u]*(1-l)+i[u]*l;return s}}function Hp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wp(e,i){var r=i?i.length:0,s=e?Math.min(r,e.length):0,u=new Array(s),l=new Array(r),f;for(f=0;f<s;++f)u[f]=Ho(e[f],i[f]);for(;f<r;++f)l[f]=i[f];return function(c){for(f=0;f<s;++f)l[f]=u[f](c);return l}}function qp(e,i){var r=new Date;return e=+e,i=+i,function(s){return r.setTime(e*(1-s)+i*s),r}}function Ae(e,i){return e=+e,i=+i,function(r){return e*(1-r)+i*r}}function Yp(e,i){var r={},s={},u;(e===null||typeof e!="object")&&(e={}),(i===null||typeof i!="object")&&(i={});for(u in i)u in e?r[u]=Ho(e[u],i[u]):s[u]=i[u];return function(l){for(u in r)s[u]=r[u](l);return s}}var Ks=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ss=new RegExp(Ks.source,"g");function Vp(e){return function(){return e}}function Gp(e){return function(i){return e(i)+""}}function Sh(e,i){var r=Ks.lastIndex=Ss.lastIndex=0,s,u,l,f=-1,c=[],_=[];for(e=e+"",i=i+"";(s=Ks.exec(e))&&(u=Ss.exec(i));)(l=u.index)>r&&(l=i.slice(r,l),c[f]?c[f]+=l:c[++f]=l),(s=s[0])===(u=u[0])?c[f]?c[f]+=u:c[++f]=u:(c[++f]=null,_.push({i:f,x:Ae(s,u)})),r=Ss.lastIndex;return r<i.length&&(l=i.slice(r),c[f]?c[f]+=l:c[++f]=l),c.length<2?_[0]?Gp(_[0].x):Vp(i):(i=_.length,function(d){for(var v=0,m;v<i;++v)c[(m=_[v]).i]=m.x(d);return c.join("")})}function Ho(e,i){var r=typeof i,s;return i==null||r==="boolean"?ba(i):(r==="number"?Ae:r==="string"?(s=ei(i))?(i=s,Co):Sh:i instanceof ei?Co:i instanceof Date?qp:Hp(i)?Up:Array.isArray(i)?Wp:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?Yp:Ae)(e,i)}function Xp(e,i){return e=+e,i=+i,function(r){return Math.round(e*(1-r)+i*r)}}var Xu=180/Math.PI,Js={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kh(e,i,r,s,u,l){var f,c,_;return(f=Math.sqrt(e*e+i*i))&&(e/=f,i/=f),(_=e*r+i*s)&&(r-=e*_,s-=i*_),(c=Math.sqrt(r*r+s*s))&&(r/=c,s/=c,_/=c),e*s<i*r&&(e=-e,i=-i,_=-_,f=-f),{translateX:u,translateY:l,rotate:Math.atan2(i,e)*Xu,skewX:Math.atan(_)*Xu,scaleX:f,scaleY:c}}var ho;function $p(e){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?Js:kh(i.a,i.b,i.c,i.d,i.e,i.f)}function jp(e){return e==null||(ho||(ho=document.createElementNS("http://www.w3.org/2000/svg","g")),ho.setAttribute("transform",e),!(e=ho.transform.baseVal.consolidate()))?Js:(e=e.matrix,kh(e.a,e.b,e.c,e.d,e.e,e.f))}function Eh(e,i,r,s){function u(d){return d.length?d.pop()+" ":""}function l(d,v,m,y,x,k){if(d!==m||v!==y){var C=x.push("translate(",null,i,null,r);k.push({i:C-4,x:Ae(d,m)},{i:C-2,x:Ae(v,y)})}else(m||y)&&x.push("translate("+m+i+y+r)}function f(d,v,m,y){d!==v?(d-v>180?v+=360:v-d>180&&(d+=360),y.push({i:m.push(u(m)+"rotate(",null,s)-2,x:Ae(d,v)})):v&&m.push(u(m)+"rotate("+v+s)}function c(d,v,m,y){d!==v?y.push({i:m.push(u(m)+"skewX(",null,s)-2,x:Ae(d,v)}):v&&m.push(u(m)+"skewX("+v+s)}function _(d,v,m,y,x,k){if(d!==m||v!==y){var C=x.push(u(x)+"scale(",null,",",null,")");k.push({i:C-4,x:Ae(d,m)},{i:C-2,x:Ae(v,y)})}else(m!==1||y!==1)&&x.push(u(x)+"scale("+m+","+y+")")}return function(d,v){var m=[],y=[];return d=e(d),v=e(v),l(d.translateX,d.translateY,v.translateX,v.translateY,m,y),f(d.rotate,v.rotate,m,y),c(d.skewX,v.skewX,m,y),_(d.scaleX,d.scaleY,v.scaleX,v.scaleY,m,y),d=v=null,function(x){for(var k=-1,C=y.length,M;++k<C;)m[(M=y[k]).i]=M.x(x);return m.join("")}}}var Kp=Eh($p,"px, ","px)","deg)"),Jp=Eh(jp,", ",")",")"),Ui=0,Tr=0,pr=0,Ah=1e3,So,Pr,ko=0,ni=0,Wo=0,Er=typeof performance=="object"&&performance.now?performance:Date,Oh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ta(){return ni||(Oh(Qp),ni=Er.now()+Wo)}function Qp(){ni=0}function Eo(){this._call=this._time=this._next=null}Eo.prototype=zh.prototype={constructor:Eo,restart:function(e,i,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Ta():+r)+(i==null?0:+i),!this._next&&Pr!==this&&(Pr?Pr._next=this:So=this,Pr=this),this._call=e,this._time=r,Qs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qs())}};function zh(e,i,r){var s=new Eo;return s.restart(e,i,r),s}function tm(){Ta(),++Ui;for(var e=So,i;e;)(i=ni-e._time)>=0&&e._call.call(void 0,i),e=e._next;--Ui}function $u(){ni=(ko=Er.now())+Wo,Ui=Tr=0;try{tm()}finally{Ui=0,nm(),ni=0}}function em(){var e=Er.now(),i=e-ko;i>Ah&&(Wo-=i,ko=e)}function nm(){for(var e,i=So,r,s=1/0;i;)i._call?(s>i._time&&(s=i._time),e=i,i=i._next):(r=i._next,i._next=null,i=e?e._next=r:So=r);Pr=e,Qs(s)}function Qs(e){if(!Ui){Tr&&(Tr=clearTimeout(Tr));var i=e-ni;i>24?(e<1/0&&(Tr=setTimeout($u,e-Er.now()-Wo)),pr&&(pr=clearInterval(pr))):(pr||(ko=Er.now(),pr=setInterval(em,Ah)),Ui=1,Oh($u))}}function ju(e,i,r){var s=new Eo;return i=i==null?0:+i,s.restart(u=>{s.stop(),e(u+i)},i,r),s}var im=ch("start","end","cancel","interrupt"),rm=[],Nh=0,Ku=1,ta=2,go=3,Ju=4,ea=5,vo=6;function qo(e,i,r,s,u,l){var f=e.__transition;if(!f)e.__transition={};else if(r in f)return;om(e,r,{name:i,index:s,group:u,on:im,tween:rm,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Nh})}function Pa(e,i){var r=De(e,i);if(r.state>Nh)throw new Error("too late; already scheduled");return r}function je(e,i){var r=De(e,i);if(r.state>go)throw new Error("too late; already running");return r}function De(e,i){var r=e.__transition;if(!r||!(r=r[i]))throw new Error("transition not found");return r}function om(e,i,r){var s=e.__transition,u;s[i]=r,r.timer=zh(l,0,r.time);function l(d){r.state=Ku,r.timer.restart(f,r.delay,r.time),r.delay<=d&&f(d-r.delay)}function f(d){var v,m,y,x;if(r.state!==Ku)return _();for(v in s)if(x=s[v],x.name===r.name){if(x.state===go)return ju(f);x.state===Ju?(x.state=vo,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete s[v]):+v<i&&(x.state=vo,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete s[v])}if(ju(function(){r.state===go&&(r.state=Ju,r.timer.restart(c,r.delay,r.time),c(d))}),r.state=ta,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ta){for(r.state=go,u=new Array(y=r.tween.length),v=0,m=-1;v<y;++v)(x=r.tween[v].value.call(e,e.__data__,r.index,r.group))&&(u[++m]=x);u.length=m+1}}function c(d){for(var v=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(_),r.state=ea,1),m=-1,y=u.length;++m<y;)u[m].call(e,v);r.state===ea&&(r.on.call("end",e,e.__data__,r.index,r.group),_())}function _(){r.state=vo,r.timer.stop(),delete s[i];for(var d in s)return;delete e.__transition}}function sm(e,i){var r=e.__transition,s,u,l=!0,f;if(r){i=i==null?null:i+"";for(f in r){if((s=r[f]).name!==i){l=!1;continue}u=s.state>ta&&s.state<ea,s.state=vo,s.timer.stop(),s.on.call(u?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[f]}l&&delete e.__transition}}function am(e){return this.each(function(){sm(this,e)})}function um(e,i){var r,s;return function(){var u=je(this,e),l=u.tween;if(l!==r){s=r=l;for(var f=0,c=s.length;f<c;++f)if(s[f].name===i){s=s.slice(),s.splice(f,1);break}}u.tween=s}}function lm(e,i,r){var s,u;if(typeof r!="function")throw new Error;return function(){var l=je(this,e),f=l.tween;if(f!==s){u=(s=f).slice();for(var c={name:i,value:r},_=0,d=u.length;_<d;++_)if(u[_].name===i){u[_]=c;break}_===d&&u.push(c)}l.tween=u}}function hm(e,i){var r=this._id;if(e+="",arguments.length<2){for(var s=De(this.node(),r).tween,u=0,l=s.length,f;u<l;++u)if((f=s[u]).name===e)return f.value;return null}return this.each((i==null?um:lm)(r,e,i))}function Ma(e,i,r){var s=e._id;return e.each(function(){var u=je(this,s);(u.value||(u.value={}))[i]=r.apply(this,arguments)}),function(u){return De(u,s).value[i]}}function Dh(e,i){var r;return(typeof i=="number"?Ae:i instanceof ei?Co:(r=ei(i))?(i=r,Co):Sh)(e,i)}function fm(e){return function(){this.removeAttribute(e)}}function cm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dm(e,i,r){var s,u=r+"",l;return function(){var f=this.getAttribute(e);return f===u?null:f===s?l:l=i(s=f,r)}}function _m(e,i,r){var s,u=r+"",l;return function(){var f=this.getAttributeNS(e.space,e.local);return f===u?null:f===s?l:l=i(s=f,r)}}function pm(e,i,r){var s,u,l;return function(){var f,c=r(this),_;return c==null?void this.removeAttribute(e):(f=this.getAttribute(e),_=c+"",f===_?null:f===s&&_===u?l:(u=_,l=i(s=f,c)))}}function mm(e,i,r){var s,u,l;return function(){var f,c=r(this),_;return c==null?void this.removeAttributeNS(e.space,e.local):(f=this.getAttributeNS(e.space,e.local),_=c+"",f===_?null:f===s&&_===u?l:(u=_,l=i(s=f,c)))}}function gm(e,i){var r=Uo(e),s=r==="transform"?Jp:Dh;return this.attrTween(e,typeof i=="function"?(r.local?mm:pm)(r,s,Ma(this,"attr."+e,i)):i==null?(r.local?cm:fm)(r):(r.local?_m:dm)(r,s,i))}function vm(e,i){return function(r){this.setAttribute(e,i.call(this,r))}}function ym(e,i){return function(r){this.setAttributeNS(e.space,e.local,i.call(this,r))}}function wm(e,i){var r,s;function u(){var l=i.apply(this,arguments);return l!==s&&(r=(s=l)&&ym(e,l)),r}return u._value=i,u}function xm(e,i){var r,s;function u(){var l=i.apply(this,arguments);return l!==s&&(r=(s=l)&&vm(e,l)),r}return u._value=i,u}function bm(e,i){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(i==null)return this.tween(r,null);if(typeof i!="function")throw new Error;var s=Uo(e);return this.tween(r,(s.local?wm:xm)(s,i))}function Tm(e,i){return function(){Pa(this,e).delay=+i.apply(this,arguments)}}function Pm(e,i){return i=+i,function(){Pa(this,e).delay=i}}function Mm(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?Tm:Pm)(i,e)):De(this.node(),i).delay}function Lm(e,i){return function(){je(this,e).duration=+i.apply(this,arguments)}}function Cm(e,i){return i=+i,function(){je(this,e).duration=i}}function Sm(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?Lm:Cm)(i,e)):De(this.node(),i).duration}function km(e,i){if(typeof i!="function")throw new Error;return function(){je(this,e).ease=i}}function Em(e){var i=this._id;return arguments.length?this.each(km(i,e)):De(this.node(),i).ease}function Am(e,i){return function(){var r=i.apply(this,arguments);if(typeof r!="function")throw new Error;je(this,e).ease=r}}function Om(e){if(typeof e!="function")throw new Error;return this.each(Am(this._id,e))}function zm(e){typeof e!="function"&&(e=ph(e));for(var i=this._groups,r=i.length,s=new Array(r),u=0;u<r;++u)for(var l=i[u],f=l.length,c=s[u]=[],_,d=0;d<f;++d)(_=l[d])&&e.call(_,_.__data__,d,l)&&c.push(_);return new pn(s,this._parents,this._name,this._id)}function Nm(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,r=e._groups,s=i.length,u=r.length,l=Math.min(s,u),f=new Array(s),c=0;c<l;++c)for(var _=i[c],d=r[c],v=_.length,m=f[c]=new Array(v),y,x=0;x<v;++x)(y=_[x]||d[x])&&(m[x]=y);for(;c<s;++c)f[c]=i[c];return new pn(f,this._parents,this._name,this._id)}function Dm(e){return(e+"").trim().split(/^|\s+/).every(function(i){var r=i.indexOf(".");return r>=0&&(i=i.slice(0,r)),!i||i==="start"})}function Im(e,i,r){var s,u,l=Dm(i)?Pa:je;return function(){var f=l(this,e),c=f.on;c!==s&&(u=(s=c).copy()).on(i,r),f.on=u}}function Zm(e,i){var r=this._id;return arguments.length<2?De(this.node(),r).on.on(e):this.each(Im(r,e,i))}function Bm(e){return function(){var i=this.parentNode;for(var r in this.__transition)if(+r!==e)return;i&&i.removeChild(this)}}function Rm(){return this.on("end.remove",Bm(this._id))}function Fm(e){var i=this._name,r=this._id;typeof e!="function"&&(e=ya(e));for(var s=this._groups,u=s.length,l=new Array(u),f=0;f<u;++f)for(var c=s[f],_=c.length,d=l[f]=new Array(_),v,m,y=0;y<_;++y)(v=c[y])&&(m=e.call(v,v.__data__,y,c))&&("__data__"in v&&(m.__data__=v.__data__),d[y]=m,qo(d[y],i,r,y,d,De(v,r)));return new pn(l,this._parents,i,r)}function Um(e){var i=this._name,r=this._id;typeof e!="function"&&(e=_h(e));for(var s=this._groups,u=s.length,l=[],f=[],c=0;c<u;++c)for(var _=s[c],d=_.length,v,m=0;m<d;++m)if(v=_[m]){for(var y=e.call(v,v.__data__,m,_),x,k=De(v,r),C=0,M=y.length;C<M;++C)(x=y[C])&&qo(x,i,r,C,y,k);l.push(y),f.push(v)}return new pn(l,f,i,r)}var Hm=Dr.prototype.constructor;function Wm(){return new Hm(this._groups,this._parents)}function qm(e,i){var r,s,u;return function(){var l=Fi(this,e),f=(this.style.removeProperty(e),Fi(this,e));return l===f?null:l===r&&f===s?u:u=i(r=l,s=f)}}function Ih(e){return function(){this.style.removeProperty(e)}}function Ym(e,i,r){var s,u=r+"",l;return function(){var f=Fi(this,e);return f===u?null:f===s?l:l=i(s=f,r)}}function Vm(e,i,r){var s,u,l;return function(){var f=Fi(this,e),c=r(this),_=c+"";return c==null&&(_=c=(this.style.removeProperty(e),Fi(this,e))),f===_?null:f===s&&_===u?l:(u=_,l=i(s=f,c))}}function Gm(e,i){var r,s,u,l="style."+i,f="end."+l,c;return function(){var _=je(this,e),d=_.on,v=_.value[l]==null?c||(c=Ih(i)):void 0;(d!==r||u!==v)&&(s=(r=d).copy()).on(f,u=v),_.on=s}}function Xm(e,i,r){var s=(e+="")=="transform"?Kp:Dh;return i==null?this.styleTween(e,qm(e,s)).on("end.style."+e,Ih(e)):typeof i=="function"?this.styleTween(e,Vm(e,s,Ma(this,"style."+e,i))).each(Gm(this._id,e)):this.styleTween(e,Ym(e,s,i),r).on("end.style."+e,null)}function $m(e,i,r){return function(s){this.style.setProperty(e,i.call(this,s),r)}}function jm(e,i,r){var s,u;function l(){var f=i.apply(this,arguments);return f!==u&&(s=(u=f)&&$m(e,f,r)),s}return l._value=i,l}function Km(e,i,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(i==null)return this.tween(s,null);if(typeof i!="function")throw new Error;return this.tween(s,jm(e,i,r??""))}function Jm(e){return function(){this.textContent=e}}function Qm(e){return function(){var i=e(this);this.textContent=i??""}}function tg(e){return this.tween("text",typeof e=="function"?Qm(Ma(this,"text",e)):Jm(e==null?"":e+""))}function eg(e){return function(i){this.textContent=e.call(this,i)}}function ng(e){var i,r;function s(){var u=e.apply(this,arguments);return u!==r&&(i=(r=u)&&eg(u)),i}return s._value=e,s}function ig(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,ng(e))}function rg(){for(var e=this._name,i=this._id,r=Zh(),s=this._groups,u=s.length,l=0;l<u;++l)for(var f=s[l],c=f.length,_,d=0;d<c;++d)if(_=f[d]){var v=De(_,i);qo(_,e,r,d,f,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new pn(s,this._parents,e,r)}function og(){var e,i,r=this,s=r._id,u=r.size();return new Promise(function(l,f){var c={value:f},_={value:function(){--u===0&&l()}};r.each(function(){var d=je(this,s),v=d.on;v!==e&&(i=(e=v).copy(),i._.cancel.push(c),i._.interrupt.push(c),i._.end.push(_)),d.on=i}),u===0&&l()})}var sg=0;function pn(e,i,r,s){this._groups=e,this._parents=i,this._name=r,this._id=s}function Zh(){return++sg}var on=Dr.prototype;pn.prototype={constructor:pn,select:Fm,selectAll:Um,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:zm,merge:Nm,selection:Wm,transition:rg,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:Zm,attr:gm,attrTween:bm,style:Xm,styleTween:Km,text:tg,textTween:ig,remove:Rm,tween:hm,delay:Mm,duration:Sm,ease:Em,easeVarying:Om,end:og,[Symbol.iterator]:on[Symbol.iterator]};function ag(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ug={time:null,delay:0,duration:250,ease:ag};function lg(e,i){for(var r;!(r=e.__transition)||!(r=r[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return r}function hg(e){var i,r;e instanceof pn?(i=e._id,e=e._name):(i=Zh(),(r=ug).time=Ta(),e=e==null?null:e+"");for(var s=this._groups,u=s.length,l=0;l<u;++l)for(var f=s[l],c=f.length,_,d=0;d<c;++d)(_=f[d])&&qo(_,e,i,d,f,r||lg(_,i));return new pn(s,this._parents,e,i)}Dr.prototype.interrupt=am;Dr.prototype.transition=hg;var Qu={},ks={},Es=34,mr=10,As=13;function Bh(e){return new Function("d","return {"+e.map(function(i,r){return JSON.stringify(i)+": d["+r+'] || ""'}).join(",")+"}")}function fg(e,i){var r=Bh(e);return function(s,u){return i(r(s),u,e)}}function tl(e){var i=Object.create(null),r=[];return e.forEach(function(s){for(var u in s)u in i||r.push(i[u]=u)}),r}function se(e,i){var r=e+"",s=r.length;return s<i?new Array(i-s+1).join(0)+r:r}function cg(e){return e<0?"-"+se(-e,6):e>9999?"+"+se(e,6):se(e,4)}function dg(e){var i=e.getUTCHours(),r=e.getUTCMinutes(),s=e.getUTCSeconds(),u=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":cg(e.getUTCFullYear())+"-"+se(e.getUTCMonth()+1,2)+"-"+se(e.getUTCDate(),2)+(u?"T"+se(i,2)+":"+se(r,2)+":"+se(s,2)+"."+se(u,3)+"Z":s?"T"+se(i,2)+":"+se(r,2)+":"+se(s,2)+"Z":r||i?"T"+se(i,2)+":"+se(r,2)+"Z":"")}function _g(e){var i=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function s(m,y){var x,k,C=u(m,function(M,R){if(x)return x(M,R-1);k=M,x=y?fg(M,y):Bh(M)});return C.columns=k||[],C}function u(m,y){var x=[],k=m.length,C=0,M=0,R,H=k<=0,O=!1;m.charCodeAt(k-1)===mr&&--k,m.charCodeAt(k-1)===As&&--k;function z(){if(H)return ks;if(O)return O=!1,Qu;var A,q=C,j;if(m.charCodeAt(q)===Es){for(;C++<k&&m.charCodeAt(C)!==Es||m.charCodeAt(++C)===Es;);return(A=C)>=k?H=!0:(j=m.charCodeAt(C++))===mr?O=!0:j===As&&(O=!0,m.charCodeAt(C)===mr&&++C),m.slice(q+1,A-1).replace(/""/g,'"')}for(;C<k;){if((j=m.charCodeAt(A=C++))===mr)O=!0;else if(j===As)O=!0,m.charCodeAt(C)===mr&&++C;else if(j!==r)continue;return m.slice(q,A)}return H=!0,m.slice(q,k)}for(;(R=z())!==ks;){for(var W=[];R!==Qu&&R!==ks;)W.push(R),R=z();y&&(W=y(W,M++))==null||x.push(W)}return x}function l(m,y){return m.map(function(x){return y.map(function(k){return v(x[k])}).join(e)})}function f(m,y){return y==null&&(y=tl(m)),[y.map(v).join(e)].concat(l(m,y)).join(`
`)}function c(m,y){return y==null&&(y=tl(m)),l(m,y).join(`
`)}function _(m){return m.map(d).join(`
`)}function d(m){return m.map(v).join(e)}function v(m){return m==null?"":m instanceof Date?dg(m):i.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:s,parseRows:u,format:f,formatBody:c,formatRows:_,formatRow:d,formatValue:v}}var pg=_g(","),mg=pg.parse;function gg(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function vg(e,i){return fetch(e,i).then(gg)}function yg(e){return function(i,r,s){return arguments.length===2&&typeof r=="function"&&(s=r,r=void 0),vg(i,r).then(function(u){return e(u,s)})}}var wg=yg(mg);function xg(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function bg(e,i){return fetch(e,i).then(xg)}function Tg(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ao(e,i){if(!isFinite(e)||e===0)return null;var r=(e=i?e.toExponential(i-1):e.toExponential()).indexOf("e"),s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Hi(e){return e=Ao(Math.abs(e)),e?e[1]:NaN}function Pg(e,i){return function(r,s){for(var u=r.length,l=[],f=0,c=e[0],_=0;u>0&&c>0&&(_+c+1>s&&(c=Math.max(1,s-_)),l.push(r.substring(u-=c,u+c)),!((_+=c+1)>s));)c=e[f=(f+1)%e.length];return l.reverse().join(i)}}function Mg(e){return function(i){return i.replace(/[0-9]/g,function(r){return e[+r]})}}var Lg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oo(e){if(!(i=Lg.exec(e)))throw new Error("invalid format: "+e);var i;return new La({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}Oo.prototype=La.prototype;function La(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}La.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cg(e){t:for(var i=e.length,r=1,s=-1,u;r<i;++r)switch(e[r]){case".":s=u=r;break;case"0":s===0&&(s=r),u=r;break;default:if(!+e[r])break t;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(u+1):e}var zo;function Sg(e,i){var r=Ao(e,i);if(!r)return zo=void 0,e.toPrecision(i);var s=r[0],u=r[1],l=u-(zo=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,f=s.length;return l===f?s:l>f?s+new Array(l-f+1).join("0"):l>0?s.slice(0,l)+"."+s.slice(l):"0."+new Array(1-l).join("0")+Ao(e,Math.max(0,i+l-1))[0]}function el(e,i){var r=Ao(e,i);if(!r)return e+"";var s=r[0],u=r[1];return u<0?"0."+new Array(-u).join("0")+s:s.length>u+1?s.slice(0,u+1)+"."+s.slice(u+1):s+new Array(u-s.length+2).join("0")}const nl={"%":(e,i)=>(e*100).toFixed(i),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Tg,e:(e,i)=>e.toExponential(i),f:(e,i)=>e.toFixed(i),g:(e,i)=>e.toPrecision(i),o:e=>Math.round(e).toString(8),p:(e,i)=>el(e*100,i),r:el,s:Sg,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function il(e){return e}var rl=Array.prototype.map,ol=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function kg(e){var i=e.grouping===void 0||e.thousands===void 0?il:Pg(rl.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",u=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?il:Mg(rl.call(e.numerals,String)),f=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"â":e.minus+"",_=e.nan===void 0?"NaN":e.nan+"";function d(m,y){m=Oo(m);var x=m.fill,k=m.align,C=m.sign,M=m.symbol,R=m.zero,H=m.width,O=m.comma,z=m.precision,W=m.trim,A=m.type;A==="n"?(O=!0,A="g"):nl[A]||(z===void 0&&(z=12),W=!0,A="g"),(R||x==="0"&&k==="=")&&(R=!0,x="0",k="=");var q=(y&&y.prefix!==void 0?y.prefix:"")+(M==="$"?r:M==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),j=(M==="$"?s:/[%p]/.test(A)?f:"")+(y&&y.suffix!==void 0?y.suffix:""),St=nl[A],xt=/[defgprs%]/.test(A);z=z===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function ft(Y){var mt=q,pt=j,te,gt,Dt;if(A==="c")pt=St(Y)+pt,Y="";else{Y=+Y;var G=Y<0||1/Y<0;if(Y=isNaN(Y)?_:St(Math.abs(Y),z),W&&(Y=Cg(Y)),G&&+Y==0&&C!=="+"&&(G=!1),mt=(G?C==="("?C:c:C==="-"||C==="("?"":C)+mt,pt=(A==="s"&&!isNaN(Y)&&zo!==void 0?ol[8+zo/3]:"")+pt+(G&&C==="("?")":""),xt){for(te=-1,gt=Y.length;++te<gt;)if(Dt=Y.charCodeAt(te),48>Dt||Dt>57){pt=(Dt===46?u+Y.slice(te+1):Y.slice(te))+pt,Y=Y.slice(0,te);break}}}O&&!R&&(Y=i(Y,1/0));var jt=mt.length+Y.length+pt.length,U=jt<H?new Array(H-jt+1).join(x):"";switch(O&&R&&(Y=i(U+Y,U.length?H-pt.length:1/0),U=""),k){case"<":Y=mt+Y+pt+U;break;case"=":Y=mt+U+Y+pt;break;case"^":Y=U.slice(0,jt=U.length>>1)+mt+Y+pt+U.slice(jt);break;default:Y=U+mt+Y+pt;break}return l(Y)}return ft.toString=function(){return m+""},ft}function v(m,y){var x=Math.max(-8,Math.min(8,Math.floor(Hi(y)/3)))*3,k=Math.pow(10,-x),C=d((m=Oo(m),m.type="f",m),{suffix:ol[8+x/3]});return function(M){return C(k*M)}}return{format:d,formatPrefix:v}}var fo,Rh,Fh;Eg({thousands:",",grouping:[3],currency:["$",""]});function Eg(e){return fo=kg(e),Rh=fo.format,Fh=fo.formatPrefix,fo}function Ag(e){return Math.max(0,-Hi(Math.abs(e)))}function Og(e,i){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hi(i)/3)))*3-Hi(Math.abs(e)))}function zg(e,i){return e=Math.abs(e),i=Math.abs(i)-e,Math.max(0,Hi(i)-Hi(e))+1}function Uh(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e);break}return this}function Ng(e){return function(){return e}}function Dg(e){return+e}var sl=[0,1];function Ai(e){return e}function na(e,i){return(i-=e=+e)?function(r){return(r-e)/i}:Ng(isNaN(i)?NaN:.5)}function Ig(e,i){var r;return e>i&&(r=e,e=i,i=r),function(s){return Math.max(e,Math.min(i,s))}}function Zg(e,i,r){var s=e[0],u=e[1],l=i[0],f=i[1];return u<s?(s=na(u,s),l=r(f,l)):(s=na(s,u),l=r(l,f)),function(c){return l(s(c))}}function Bg(e,i,r){var s=Math.min(e.length,i.length)-1,u=new Array(s),l=new Array(s),f=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),i=i.slice().reverse());++f<s;)u[f]=na(e[f],e[f+1]),l[f]=r(i[f],i[f+1]);return function(c){var _=Md(e,c,1,s)-1;return l[_](u[_](c))}}function Hh(e,i){return i.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rg(){var e=sl,i=sl,r=Ho,s,u,l,f=Ai,c,_,d;function v(){var y=Math.min(e.length,i.length);return f!==Ai&&(f=Ig(e[0],e[y-1])),c=y>2?Bg:Zg,_=d=null,m}function m(y){return y==null||isNaN(y=+y)?l:(_||(_=c(e.map(s),i,r)))(s(f(y)))}return m.invert=function(y){return f(u((d||(d=c(i,e.map(s),Ae)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,Dg),v()):e.slice()},m.range=function(y){return arguments.length?(i=Array.from(y),v()):i.slice()},m.rangeRound=function(y){return i=Array.from(y),r=Xp,v()},m.clamp=function(y){return arguments.length?(f=y?!0:Ai,v()):f!==Ai},m.interpolate=function(y){return arguments.length?(r=y,v()):r},m.unknown=function(y){return arguments.length?(l=y,m):l},function(y,x){return s=y,u=x,v()}}function Wh(){return Rg()(Ai,Ai)}function Fg(e,i,r,s){var u=Gs(e,i,r),l;switch(s=Oo(s??",f"),s.type){case"s":{var f=Math.max(Math.abs(e),Math.abs(i));return s.precision==null&&!isNaN(l=Og(u,f))&&(s.precision=l),Fh(s,f)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(l=zg(u,Math.max(Math.abs(e),Math.abs(i))))&&(s.precision=l-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(l=Ag(u))&&(s.precision=l-(s.type==="%")*2);break}}return Rh(s)}function Ug(e){var i=e.domain;return e.ticks=function(r){var s=i();return Dd(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var u=i();return Fg(u[0],u[u.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=i(),u=0,l=s.length-1,f=s[u],c=s[l],_,d,v=10;for(c<f&&(d=f,f=c,c=d,d=u,u=l,l=d);v-- >0;){if(d=Vs(f,c,r),d===_)return s[u]=f,s[l]=c,i(s);if(d>0)f=Math.floor(f/d)*d,c=Math.ceil(c/d)*d;else if(d<0)f=Math.ceil(f*d)/d,c=Math.floor(c*d)/d;else break;_=d}return e},e}function qh(){var e=Wh();return e.copy=function(){return Hh(e,qh())},Uh.apply(e,arguments),Ug(e)}function Hg(e,i){e=e.slice();var r=0,s=e.length-1,u=e[r],l=e[s],f;return l<u&&(f=r,r=s,s=f,f=u,u=l,l=f),e[r]=i.floor(u),e[s]=i.ceil(l),e}const Os=new Date,zs=new Date;function Nt(e,i,r,s){function u(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return u.floor=l=>(e(l=new Date(+l)),l),u.ceil=l=>(e(l=new Date(l-1)),i(l,1),e(l),l),u.round=l=>{const f=u(l),c=u.ceil(l);return l-f<c-l?f:c},u.offset=(l,f)=>(i(l=new Date(+l),f==null?1:Math.floor(f)),l),u.range=(l,f,c)=>{const _=[];if(l=u.ceil(l),c=c==null?1:Math.floor(c),!(l<f)||!(c>0))return _;let d;do _.push(d=new Date(+l)),i(l,c),e(l);while(d<l&&l<f);return _},u.filter=l=>Nt(f=>{if(f>=f)for(;e(f),!l(f);)f.setTime(f-1)},(f,c)=>{if(f>=f)if(c<0)for(;++c<=0;)for(;i(f,-1),!l(f););else for(;--c>=0;)for(;i(f,1),!l(f););}),r&&(u.count=(l,f)=>(Os.setTime(+l),zs.setTime(+f),e(Os),e(zs),Math.floor(r(Os,zs))),u.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?u.filter(s?f=>s(f)%l===0:f=>u.count(0,f)%l===0):u)),u}const No=Nt(()=>{},(e,i)=>{e.setTime(+e+i)},(e,i)=>i-e);No.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nt(i=>{i.setTime(Math.floor(i/e)*e)},(i,r)=>{i.setTime(+i+r*e)},(i,r)=>(r-i)/e):No);No.range;const ln=1e3,be=ln*60,hn=be*60,mn=hn*24,Ca=mn*7,al=mn*30,Ns=mn*365,Oi=Nt(e=>{e.setTime(e-e.getMilliseconds())},(e,i)=>{e.setTime(+e+i*ln)},(e,i)=>(i-e)/ln,e=>e.getUTCSeconds());Oi.range;const Sa=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln)},(e,i)=>{e.setTime(+e+i*be)},(e,i)=>(i-e)/be,e=>e.getMinutes());Sa.range;const Wg=Nt(e=>{e.setUTCSeconds(0,0)},(e,i)=>{e.setTime(+e+i*be)},(e,i)=>(i-e)/be,e=>e.getUTCMinutes());Wg.range;const ka=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln-e.getMinutes()*be)},(e,i)=>{e.setTime(+e+i*hn)},(e,i)=>(i-e)/hn,e=>e.getHours());ka.range;const qg=Nt(e=>{e.setUTCMinutes(0,0,0)},(e,i)=>{e.setTime(+e+i*hn)},(e,i)=>(i-e)/hn,e=>e.getUTCHours());qg.range;const Zr=Nt(e=>e.setHours(0,0,0,0),(e,i)=>e.setDate(e.getDate()+i),(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*be)/mn,e=>e.getDate()-1);Zr.range;const Ea=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i)},(e,i)=>(i-e)/mn,e=>e.getUTCDate()-1);Ea.range;const Yg=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i)},(e,i)=>(i-e)/mn,e=>Math.floor(e/mn));Yg.range;function si(e){return Nt(i=>{i.setDate(i.getDate()-(i.getDay()+7-e)%7),i.setHours(0,0,0,0)},(i,r)=>{i.setDate(i.getDate()+r*7)},(i,r)=>(r-i-(r.getTimezoneOffset()-i.getTimezoneOffset())*be)/Ca)}const Yo=si(0),Do=si(1),Vg=si(2),Gg=si(3),Wi=si(4),Xg=si(5),$g=si(6);Yo.range;Do.range;Vg.range;Gg.range;Wi.range;Xg.range;$g.range;function ai(e){return Nt(i=>{i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-e)%7),i.setUTCHours(0,0,0,0)},(i,r)=>{i.setUTCDate(i.getUTCDate()+r*7)},(i,r)=>(r-i)/Ca)}const Yh=ai(0),Io=ai(1),jg=ai(2),Kg=ai(3),qi=ai(4),Jg=ai(5),Qg=ai(6);Yh.range;Io.range;jg.range;Kg.range;qi.range;Jg.range;Qg.range;const Aa=Nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,i)=>{e.setMonth(e.getMonth()+i)},(e,i)=>i.getMonth()-e.getMonth()+(i.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Aa.range;const tv=Nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCMonth(e.getUTCMonth()+i)},(e,i)=>i.getUTCMonth()-e.getUTCMonth()+(i.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tv.range;const Ge=Nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i)},(e,i)=>i.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ge.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(i=>{i.setFullYear(Math.floor(i.getFullYear()/e)*e),i.setMonth(0,1),i.setHours(0,0,0,0)},(i,r)=>{i.setFullYear(i.getFullYear()+r*e)});Ge.range;const ii=Nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i)},(e,i)=>i.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(i=>{i.setUTCFullYear(Math.floor(i.getUTCFullYear()/e)*e),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,r)=>{i.setUTCFullYear(i.getUTCFullYear()+r*e)});ii.range;function ev(e,i,r,s,u,l){const f=[[Oi,1,ln],[Oi,5,5*ln],[Oi,15,15*ln],[Oi,30,30*ln],[l,1,be],[l,5,5*be],[l,15,15*be],[l,30,30*be],[u,1,hn],[u,3,3*hn],[u,6,6*hn],[u,12,12*hn],[s,1,mn],[s,2,2*mn],[r,1,Ca],[i,1,al],[i,3,3*al],[e,1,Ns]];function c(d,v,m){const y=v<d;y&&([d,v]=[v,d]);const x=m&&typeof m.range=="function"?m:_(d,v,m),k=x?x.range(d,+v+1):[];return y?k.reverse():k}function _(d,v,m){const y=Math.abs(v-d)/m,x=va(([,,M])=>M).right(f,y);if(x===f.length)return e.every(Gs(d/Ns,v/Ns,m));if(x===0)return No.every(Math.max(Gs(d,v,m),1));const[k,C]=f[y/f[x-1][2]<f[x][2]/y?x-1:x];return k.every(C)}return[c,_]}const[nv,iv]=ev(Ge,Aa,Yo,Zr,ka,Sa);function Ds(e){if(0<=e.y&&e.y<100){var i=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return i.setFullYear(e.y),i}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Is(e){if(0<=e.y&&e.y<100){var i=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return i.setUTCFullYear(e.y),i}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gr(e,i,r){return{y:e,m:i,d:r,H:0,M:0,S:0,L:0}}function rv(e){var i=e.dateTime,r=e.date,s=e.time,u=e.periods,l=e.days,f=e.shortDays,c=e.months,_=e.shortMonths,d=vr(u),v=yr(u),m=vr(l),y=yr(l),x=vr(f),k=yr(f),C=vr(c),M=yr(c),R=vr(_),H=yr(_),O={a:Dt,A:G,b:jt,B:U,c:null,d:dl,e:dl,f:Cv,g:Zv,G:Rv,H:Pv,I:Mv,j:Lv,L:Vh,m:Sv,M:kv,p:tt,q:It,Q:ml,s:gl,S:Ev,u:Av,U:Ov,V:zv,w:Nv,W:Dv,x:null,X:null,y:Iv,Y:Bv,Z:Fv,"%":pl},z={a:Zt,A:Tt,b:lt,B:et,c:null,d:_l,e:_l,f:qv,g:ty,G:ny,H:Uv,I:Hv,j:Wv,L:Xh,m:Yv,M:Vv,p:Bt,q:ge,Q:ml,s:gl,S:Gv,u:Xv,U:$v,V:jv,w:Kv,W:Jv,x:null,X:null,y:Qv,Y:ey,Z:iy,"%":pl},W={a:xt,A:ft,b:Y,B:mt,c:pt,d:fl,e:fl,f:wv,g:hl,G:ll,H:cl,I:cl,j:mv,L:yv,m:pv,M:gv,p:St,q:_v,Q:bv,s:Tv,S:vv,u:lv,U:hv,V:fv,w:uv,W:cv,x:te,X:gt,y:hl,Y:ll,Z:dv,"%":xv};O.x=A(r,O),O.X=A(s,O),O.c=A(i,O),z.x=A(r,z),z.X=A(s,z),z.c=A(i,z);function A(Z,K){return function(nt){var E=[],vt=-1,ct=0,dt=Z.length,Rt,fe,Ke;for(nt instanceof Date||(nt=new Date(+nt));++vt<dt;)Z.charCodeAt(vt)===37&&(E.push(Z.slice(ct,vt)),(fe=ul[Rt=Z.charAt(++vt)])!=null?Rt=Z.charAt(++vt):fe=Rt==="e"?" ":"0",(Ke=K[Rt])&&(Rt=Ke(nt,fe)),E.push(Rt),ct=vt+1);return E.push(Z.slice(ct,vt)),E.join("")}}function q(Z,K){return function(nt){var E=gr(1900,void 0,1),vt=j(E,Z,nt+="",0),ct,dt;if(vt!=nt.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(K&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(ct=Is(gr(E.y,0,1)),dt=ct.getUTCDay(),ct=dt>4||dt===0?Io.ceil(ct):Io(ct),ct=Ea.offset(ct,(E.V-1)*7),E.y=ct.getUTCFullYear(),E.m=ct.getUTCMonth(),E.d=ct.getUTCDate()+(E.w+6)%7):(ct=Ds(gr(E.y,0,1)),dt=ct.getDay(),ct=dt>4||dt===0?Do.ceil(ct):Do(ct),ct=Zr.offset(ct,(E.V-1)*7),E.y=ct.getFullYear(),E.m=ct.getMonth(),E.d=ct.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),dt="Z"in E?Is(gr(E.y,0,1)).getUTCDay():Ds(gr(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(dt+5)%7:E.w+E.U*7-(dt+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,Is(E)):Ds(E)}}function j(Z,K,nt,E){for(var vt=0,ct=K.length,dt=nt.length,Rt,fe;vt<ct;){if(E>=dt)return-1;if(Rt=K.charCodeAt(vt++),Rt===37){if(Rt=K.charAt(vt++),fe=W[Rt in ul?K.charAt(vt++):Rt],!fe||(E=fe(Z,nt,E))<0)return-1}else if(Rt!=nt.charCodeAt(E++))return-1}return E}function St(Z,K,nt){var E=d.exec(K.slice(nt));return E?(Z.p=v.get(E[0].toLowerCase()),nt+E[0].length):-1}function xt(Z,K,nt){var E=x.exec(K.slice(nt));return E?(Z.w=k.get(E[0].toLowerCase()),nt+E[0].length):-1}function ft(Z,K,nt){var E=m.exec(K.slice(nt));return E?(Z.w=y.get(E[0].toLowerCase()),nt+E[0].length):-1}function Y(Z,K,nt){var E=R.exec(K.slice(nt));return E?(Z.m=H.get(E[0].toLowerCase()),nt+E[0].length):-1}function mt(Z,K,nt){var E=C.exec(K.slice(nt));return E?(Z.m=M.get(E[0].toLowerCase()),nt+E[0].length):-1}function pt(Z,K,nt){return j(Z,i,K,nt)}function te(Z,K,nt){return j(Z,r,K,nt)}function gt(Z,K,nt){return j(Z,s,K,nt)}function Dt(Z){return f[Z.getDay()]}function G(Z){return l[Z.getDay()]}function jt(Z){return _[Z.getMonth()]}function U(Z){return c[Z.getMonth()]}function tt(Z){return u[+(Z.getHours()>=12)]}function It(Z){return 1+~~(Z.getMonth()/3)}function Zt(Z){return f[Z.getUTCDay()]}function Tt(Z){return l[Z.getUTCDay()]}function lt(Z){return _[Z.getUTCMonth()]}function et(Z){return c[Z.getUTCMonth()]}function Bt(Z){return u[+(Z.getUTCHours()>=12)]}function ge(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var K=A(Z+="",O);return K.toString=function(){return Z},K},parse:function(Z){var K=q(Z+="",!1);return K.toString=function(){return Z},K},utcFormat:function(Z){var K=A(Z+="",z);return K.toString=function(){return Z},K},utcParse:function(Z){var K=q(Z+="",!0);return K.toString=function(){return Z},K}}}var ul={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,ov=/^%/,sv=/[\\^$*+?|[\]().{}]/g;function ht(e,i,r){var s=e<0?"-":"",u=(s?-e:e)+"",l=u.length;return s+(l<r?new Array(r-l+1).join(i)+u:u)}function av(e){return e.replace(sv,"\\$&")}function vr(e){return new RegExp("^(?:"+e.map(av).join("|")+")","i")}function yr(e){return new Map(e.map((i,r)=>[i.toLowerCase(),r]))}function uv(e,i,r){var s=Ut.exec(i.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function lv(e,i,r){var s=Ut.exec(i.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function hv(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function fv(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function cv(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function ll(e,i,r){var s=Ut.exec(i.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function hl(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function dv(e,i,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function _v(e,i,r){var s=Ut.exec(i.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function pv(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function fl(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function mv(e,i,r){var s=Ut.exec(i.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function cl(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function gv(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function vv(e,i,r){var s=Ut.exec(i.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function yv(e,i,r){var s=Ut.exec(i.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function wv(e,i,r){var s=Ut.exec(i.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function xv(e,i,r){var s=ov.exec(i.slice(r,r+1));return s?r+s[0].length:-1}function bv(e,i,r){var s=Ut.exec(i.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function Tv(e,i,r){var s=Ut.exec(i.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function dl(e,i){return ht(e.getDate(),i,2)}function Pv(e,i){return ht(e.getHours(),i,2)}function Mv(e,i){return ht(e.getHours()%12||12,i,2)}function Lv(e,i){return ht(1+Zr.count(Ge(e),e),i,3)}function Vh(e,i){return ht(e.getMilliseconds(),i,3)}function Cv(e,i){return Vh(e,i)+"000"}function Sv(e,i){return ht(e.getMonth()+1,i,2)}function kv(e,i){return ht(e.getMinutes(),i,2)}function Ev(e,i){return ht(e.getSeconds(),i,2)}function Av(e){var i=e.getDay();return i===0?7:i}function Ov(e,i){return ht(Yo.count(Ge(e)-1,e),i,2)}function Gh(e){var i=e.getDay();return i>=4||i===0?Wi(e):Wi.ceil(e)}function zv(e,i){return e=Gh(e),ht(Wi.count(Ge(e),e)+(Ge(e).getDay()===4),i,2)}function Nv(e){return e.getDay()}function Dv(e,i){return ht(Do.count(Ge(e)-1,e),i,2)}function Iv(e,i){return ht(e.getFullYear()%100,i,2)}function Zv(e,i){return e=Gh(e),ht(e.getFullYear()%100,i,2)}function Bv(e,i){return ht(e.getFullYear()%1e4,i,4)}function Rv(e,i){var r=e.getDay();return e=r>=4||r===0?Wi(e):Wi.ceil(e),ht(e.getFullYear()%1e4,i,4)}function Fv(e){var i=e.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+ht(i/60|0,"0",2)+ht(i%60,"0",2)}function _l(e,i){return ht(e.getUTCDate(),i,2)}function Uv(e,i){return ht(e.getUTCHours(),i,2)}function Hv(e,i){return ht(e.getUTCHours()%12||12,i,2)}function Wv(e,i){return ht(1+Ea.count(ii(e),e),i,3)}function Xh(e,i){return ht(e.getUTCMilliseconds(),i,3)}function qv(e,i){return Xh(e,i)+"000"}function Yv(e,i){return ht(e.getUTCMonth()+1,i,2)}function Vv(e,i){return ht(e.getUTCMinutes(),i,2)}function Gv(e,i){return ht(e.getUTCSeconds(),i,2)}function Xv(e){var i=e.getUTCDay();return i===0?7:i}function $v(e,i){return ht(Yh.count(ii(e)-1,e),i,2)}function $h(e){var i=e.getUTCDay();return i>=4||i===0?qi(e):qi.ceil(e)}function jv(e,i){return e=$h(e),ht(qi.count(ii(e),e)+(ii(e).getUTCDay()===4),i,2)}function Kv(e){return e.getUTCDay()}function Jv(e,i){return ht(Io.count(ii(e)-1,e),i,2)}function Qv(e,i){return ht(e.getUTCFullYear()%100,i,2)}function ty(e,i){return e=$h(e),ht(e.getUTCFullYear()%100,i,2)}function ey(e,i){return ht(e.getUTCFullYear()%1e4,i,4)}function ny(e,i){var r=e.getUTCDay();return e=r>=4||r===0?qi(e):qi.ceil(e),ht(e.getUTCFullYear()%1e4,i,4)}function iy(){return"+0000"}function pl(){return"%"}function ml(e){return+e}function gl(e){return Math.floor(+e/1e3)}var Li,Oa;ry({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ry(e){return Li=rv(e),Oa=Li.format,Li.parse,Li.utcFormat,Li.utcParse,Li}function oy(e){return new Date(e)}function sy(e){return e instanceof Date?+e:+new Date(+e)}function jh(e,i,r,s,u,l,f,c,_,d){var v=Wh(),m=v.invert,y=v.domain,x=d(".%L"),k=d(":%S"),C=d("%I:%M"),M=d("%I %p"),R=d("%a %d"),H=d("%b %d"),O=d("%B"),z=d("%Y");function W(A){return(_(A)<A?x:c(A)<A?k:f(A)<A?C:l(A)<A?M:s(A)<A?u(A)<A?R:H:r(A)<A?O:z)(A)}return v.invert=function(A){return new Date(m(A))},v.domain=function(A){return arguments.length?y(Array.from(A,sy)):y().map(oy)},v.ticks=function(A){var q=y();return e(q[0],q[q.length-1],A??10)},v.tickFormat=function(A,q){return q==null?W:d(q)},v.nice=function(A){var q=y();return(!A||typeof A.range!="function")&&(A=i(q[0],q[q.length-1],A??10)),A?y(Hg(q,A)):v},v.copy=function(){return Hh(v,jh(e,i,r,s,u,l,f,c,_,d))},v}function ay(){return Uh.apply(jh(nv,iv,Ge,Aa,Yo,Zr,ka,Sa,Oi,Oa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mr(e,i,r){this.k=e,this.x=i,this.y=r}Mr.prototype={constructor:Mr,scale:function(e){return e===1?this:new Mr(this.k*e,this.x,this.y)},translate:function(e,i){return e===0&i===0?this:new Mr(this.k,this.x+this.k*e,this.y+this.k*i)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Mr.prototype;function vl(e){return Object.prototype.toString.call(e)==="[object Date]"}function uy(e){return e}function ly(e){const i=e-1;return i*i*i+1}function ia(e,i){if(e===i||e!==e)return()=>e;const r=typeof e;if(r!==typeof i||Array.isArray(e)!==Array.isArray(i))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=i.map((u,l)=>ia(e[l],u));return u=>s.map(l=>l(u))}if(r==="object"){if(!e||!i)throw new Error("Object cannot be null");if(vl(e)&&vl(i)){const l=e.getTime(),c=i.getTime()-l;return _=>new Date(l+_*c)}const s=Object.keys(i),u={};return s.forEach(l=>{u[l]=ia(e[l],i[l])}),l=>{const f={};return s.forEach(c=>{f[c]=u[c](l)}),f}}if(r==="number"){const s=i-e;return u=>e+u*s}return()=>i}class za{#t;#n;#e;#i=null;constructor(i,r={}){this.#t=He(i),this.#n=He(i),this.#e=r}static of(i,r){const s=new za(i(),r);return Nr(()=>{s.set(i())}),s}set(i,r){N(this.#n,i);let{delay:s=0,duration:u=400,easing:l=uy,interpolate:f=ia}={...this.#e,...r};if(u===0)return this.#i?.abort(),N(this.#t,i),Promise.resolve();const c=qe.now()+s;let _,d=!1,v=this.#i;return this.#i=ld(m=>{if(m<c)return!0;if(!d){d=!0;const x=this.#t.v;_=f(x,i),typeof u=="function"&&(u=u(x,i)),v?.abort()}const y=m-c;return y>u?(N(this.#t,i),!1):(N(this.#t,_(l(y/u))),!0)}),this.#i.promise}get current(){return g(this.#t)}get target(){return g(this.#n)}set target(i){this.set(i)}}var hy=ma("<rect></rect>");function yl(e,i){Bo(i,!0);const r=new za(0,{duration:600,easing:ly,interpolate:Ho,delay:i.i*2});wo(()=>{r.target=i.value});var s=hy();Sn((u,l)=>{D(s,"x",i.x),D(s,"y",u),D(s,"width",i.width),D(s,"height",l),D(s,"fill",i.fill)},[()=>i.yScale(r.current),()=>i.height-i.marginBottom-i.yScale(r.current)]),We(e,s),Ro()}function fy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lr={exports:{}};var cy=Lr.exports,wl;function dy(){return wl||(wl=1,(function(e,i){(function(r,s){s(i)})(cy,(function(r){var s="1.9.4";function u(t){var n,o,a,h;for(o=1,a=arguments.length;o<a;o++){h=arguments[o];for(n in h)t[n]=h[n]}return t}var l=Object.create||(function(){function t(){}return function(n){return t.prototype=n,new t}})();function f(t,n){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var a=o.call(arguments,2);return function(){return t.apply(n,a.length?a.concat(o.call(arguments)):arguments)}}var c=0;function _(t){return"_leaflet_id"in t||(t._leaflet_id=++c),t._leaflet_id}function d(t,n,o){var a,h,p,w;return w=function(){a=!1,h&&(p.apply(o,h),h=!1)},p=function(){a?h=arguments:(t.apply(o,arguments),setTimeout(w,n),a=!0)},p}function v(t,n,o){var a=n[1],h=n[0],p=a-h;return t===a&&o?t:((t-h)%p+p)%p+h}function m(){return!1}function y(t,n){if(n===!1)return t;var o=Math.pow(10,n===void 0?6:n);return Math.round(t*o)/o}function x(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function k(t){return x(t).split(/\s+/)}function C(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?l(t.options):{});for(var o in n)t.options[o]=n[o];return t.options}function M(t,n,o){var a=[];for(var h in t)a.push(encodeURIComponent(o?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!n||n.indexOf("?")===-1?"?":"&")+a.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function H(t,n){return t.replace(R,function(o,a){var h=n[a];if(h===void 0)throw new Error("No value provided for variable "+o);return typeof h=="function"&&(h=h(n)),h})}var O=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function z(t,n){for(var o=0;o<t.length;o++)if(t[o]===n)return o;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var q=0;function j(t){var n=+new Date,o=Math.max(0,16-(n-q));return q=n+o,window.setTimeout(t,o)}var St=window.requestAnimationFrame||A("RequestAnimationFrame")||j,xt=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ft(t,n,o){if(o&&St===j)t.call(n);else return St.call(window,f(t,n))}function Y(t){t&&xt.call(window,t)}var mt={__proto__:null,extend:u,create:l,bind:f,get lastId(){return c},stamp:_,throttle:d,wrapNum:v,falseFn:m,formatNum:y,trim:x,splitWords:k,setOptions:C,getParamString:M,template:H,isArray:O,indexOf:z,emptyImageUrl:W,requestFn:St,cancelFn:xt,requestAnimFrame:ft,cancelAnimFrame:Y};function pt(){}pt.extend=function(t){var n=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,a=l(o);a.constructor=n,n.prototype=a;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(n[h]=this[h]);return t.statics&&u(n,t.statics),t.includes&&(te(t.includes),u.apply(null,[a].concat(t.includes))),u(a,t),delete a.statics,delete a.includes,a.options&&(a.options=o.options?l(o.options):{},u(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,w=a._initHooks.length;p<w;p++)a._initHooks[p].call(this)}},n},pt.include=function(t){var n=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},pt.mergeOptions=function(t){return u(this.prototype.options,t),this},pt.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function te(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=O(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var gt={on:function(t,n,o){if(typeof t=="object")for(var a in t)this._on(a,t[a],n);else{t=k(t);for(var h=0,p=t.length;h<p;h++)this._on(t[h],n,o)}return this},off:function(t,n,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],n);else{t=k(t);for(var h=arguments.length===1,p=0,w=t.length;p<w;p++)h?this._off(t[p]):this._off(t[p],n,o)}return this},_on:function(t,n,o,a){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,o)===!1){o===this&&(o=void 0);var h={fn:n,ctx:o};a&&(h.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(h)}},_off:function(t,n,o){var a,h,p;if(this._events&&(a=this._events[t],!!a)){if(arguments.length===1){if(this._firingCount)for(h=0,p=a.length;h<p;h++)a[h].fn=m;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var w=this._listens(t,n,o);if(w!==!1){var b=a[w];this._firingCount&&(b.fn=m,this._events[t]=a=a.slice()),a.splice(w,1)}}},fire:function(t,n,o){if(!this.listens(t,o))return this;var a=u({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var p=0,w=h.length;p<w;p++){var b=h[p],T=b.fn;b.once&&this.off(t,T,b.ctx),T.call(b.ctx||this,a)}this._firingCount--}}return o&&this._propagateEvent(a),this},listens:function(t,n,o,a){typeof t!="string"&&console.warn('"string" type argument expected');var h=n;typeof n!="function"&&(a=!!n,h=void 0,o=void 0);var p=this._events&&this._events[t];if(p&&p.length&&this._listens(t,h,o)!==!1)return!0;if(a){for(var w in this._eventParents)if(this._eventParents[w].listens(t,n,o,a))return!0}return!1},_listens:function(t,n,o){if(!this._events)return!1;var a=this._events[t]||[];if(!n)return!!a.length;o===this&&(o=void 0);for(var h=0,p=a.length;h<p;h++)if(a[h].fn===n&&a[h].ctx===o)return h;return!1},once:function(t,n,o){if(typeof t=="object")for(var a in t)this._on(a,t[a],n,!0);else{t=k(t);for(var h=0,p=t.length;h<p;h++)this._on(t[h],n,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[_(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[_(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};gt.addEventListener=gt.on,gt.removeEventListener=gt.clearAllEventListeners=gt.off,gt.addOneTimeEventListener=gt.once,gt.fireEvent=gt.fire,gt.hasEventListeners=gt.listens;var Dt=pt.extend(gt);function G(t,n,o){this.x=o?Math.round(t):t,this.y=o?Math.round(n):n}var jt=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(t){return this.clone()._add(U(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(U(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new G(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new G(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=jt(this.x),this.y=jt(this.y),this},distanceTo:function(t){t=U(t);var n=t.x-this.x,o=t.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(t){return t=U(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=U(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function U(t,n,o){return t instanceof G?t:O(t)?new G(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new G(t.x,t.y):new G(t,n,o)}function tt(t,n){if(t)for(var o=n?[t,n]:t,a=0,h=o.length;a<h;a++)this.extend(o[a])}tt.prototype={extend:function(t){var n,o;if(!t)return this;if(t instanceof G||typeof t[0]=="number"||"x"in t)n=o=U(t);else if(t=It(t),n=t.min,o=t.max,!n||!o)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=o.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,o;return typeof t[0]=="number"||t instanceof G?t=U(t):t=It(t),t instanceof tt?(n=t.min,o=t.max):n=o=t,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=It(t);var n=this.min,o=this.max,a=t.min,h=t.max,p=h.x>=n.x&&a.x<=o.x,w=h.y>=n.y&&a.y<=o.y;return p&&w},overlaps:function(t){t=It(t);var n=this.min,o=this.max,a=t.min,h=t.max,p=h.x>n.x&&a.x<o.x,w=h.y>n.y&&a.y<o.y;return p&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,o=this.max,a=Math.abs(n.x-o.x)*t,h=Math.abs(n.y-o.y)*t;return It(U(n.x-a,n.y-h),U(o.x+a,o.y+h))},equals:function(t){return t?(t=It(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function It(t,n){return!t||t instanceof tt?t:new tt(t,n)}function Zt(t,n){if(t)for(var o=n?[t,n]:t,a=0,h=o.length;a<h;a++)this.extend(o[a])}Zt.prototype={extend:function(t){var n=this._southWest,o=this._northEast,a,h;if(t instanceof lt)a=t,h=t;else if(t instanceof Zt){if(a=t._southWest,h=t._northEast,!a||!h)return this}else return t?this.extend(et(t)||Tt(t)):this;return!n&&!o?(this._southWest=new lt(a.lat,a.lng),this._northEast=new lt(h.lat,h.lng)):(n.lat=Math.min(a.lat,n.lat),n.lng=Math.min(a.lng,n.lng),o.lat=Math.max(h.lat,o.lat),o.lng=Math.max(h.lng,o.lng)),this},pad:function(t){var n=this._southWest,o=this._northEast,a=Math.abs(n.lat-o.lat)*t,h=Math.abs(n.lng-o.lng)*t;return new Zt(new lt(n.lat-a,n.lng-h),new lt(o.lat+a,o.lng+h))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof lt||"lat"in t?t=et(t):t=Tt(t);var n=this._southWest,o=this._northEast,a,h;return t instanceof Zt?(a=t.getSouthWest(),h=t.getNorthEast()):a=h=t,a.lat>=n.lat&&h.lat<=o.lat&&a.lng>=n.lng&&h.lng<=o.lng},intersects:function(t){t=Tt(t);var n=this._southWest,o=this._northEast,a=t.getSouthWest(),h=t.getNorthEast(),p=h.lat>=n.lat&&a.lat<=o.lat,w=h.lng>=n.lng&&a.lng<=o.lng;return p&&w},overlaps:function(t){t=Tt(t);var n=this._southWest,o=this._northEast,a=t.getSouthWest(),h=t.getNorthEast(),p=h.lat>n.lat&&a.lat<o.lat,w=h.lng>n.lng&&a.lng<o.lng;return p&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=Tt(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(t,n){return t instanceof Zt?t:new Zt(t,n)}function lt(t,n,o){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,o!==void 0&&(this.alt=+o)}lt.prototype={equals:function(t,n){if(!t)return!1;t=et(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+y(this.lat,t)+", "+y(this.lng,t)+")"},distanceTo:function(t){return ge.distance(this,et(t))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,o=n/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function et(t,n,o){return t instanceof lt?t:O(t)&&typeof t[0]!="object"?t.length===3?new lt(t[0],t[1],t[2]):t.length===2?new lt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new lt(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new lt(t,n,o)}var Bt={latLngToPoint:function(t,n){var o=this.projection.project(t),a=this.scale(n);return this.transformation._transform(o,a)},pointToLatLng:function(t,n){var o=this.scale(n),a=this.transformation.untransform(t,o);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,o=this.scale(t),a=this.transformation.transform(n.min,o),h=this.transformation.transform(n.max,o);return new tt(a,h)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?v(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?v(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new lt(o,n,a)},wrapLatLngBounds:function(t){var n=t.getCenter(),o=this.wrapLatLng(n),a=n.lat-o.lat,h=n.lng-o.lng;if(a===0&&h===0)return t;var p=t.getSouthWest(),w=t.getNorthEast(),b=new lt(p.lat-a,p.lng-h),T=new lt(w.lat-a,w.lng-h);return new Zt(b,T)}},ge=u({},Bt,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var o=Math.PI/180,a=t.lat*o,h=n.lat*o,p=Math.sin((n.lat-t.lat)*o/2),w=Math.sin((n.lng-t.lng)*o/2),b=p*p+Math.cos(a)*Math.cos(h)*w*w,T=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*T}}),Z=6378137,K={R:Z,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,o=this.MAX_LATITUDE,a=Math.max(Math.min(o,t.lat),-o),h=Math.sin(a*n);return new G(this.R*t.lng*n,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var n=180/Math.PI;return new lt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:(function(){var t=Z*Math.PI;return new tt([-t,-t],[t,t])})()};function nt(t,n,o,a){if(O(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=o,this._d=a}nt.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new G((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function E(t,n,o,a){return new nt(t,n,o,a)}var vt=u({},ge,{code:"EPSG:3857",projection:K,transformation:(function(){var t=.5/(Math.PI*K.R);return E(t,.5,-t,.5)})()}),ct=u({},vt,{code:"EPSG:900913"});function dt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Rt(t,n){var o="",a,h,p,w,b,T;for(a=0,p=t.length;a<p;a++){for(b=t[a],h=0,w=b.length;h<w;h++)T=b[h],o+=(h?"L":"M")+T.x+" "+T.y;o+=n?F.svg?"z":"x":""}return o||"M0 0"}var fe=document.documentElement.style,Ke="ActiveXObject"in window,ui=Ke&&!document.addEventListener,Xi="msLaunchUri"in navigator&&!("documentMode"in document),$i=kt("webkit"),ji=kt("android"),Br=kt("android 2")||kt("android 3"),Rr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vo=ji&&kt("Google")&&Rr<537&&!("AudioNode"in window),Ki=!!window.opera,Fr=!Xi&&kt("chrome"),$=kt("gecko")&&!$i&&!Ki&&!Ke,yt=!Fr&&kt("safari"),Ct=kt("phantom"),P="OTransition"in fe,V=navigator.platform.indexOf("Win")===0,Kt=Ke&&"transition"in fe,yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Br,li="MozPerspective"in fe,wn=!window.L_DISABLE_3D&&(Kt||yn||li)&&!P&&!Ct,Ot=typeof orientation<"u"||kt("mobile"),Gt=Ot&&$i,Pe=Ot&&yn,Xt=!window.PointerEvent&&window.MSPointerEvent,ee=!!(window.PointerEvent||Xt),ne="ontouchstart"in window||!!window.TouchEvent,Ie=!window.L_NO_TOUCH&&(ne||ee),Je=Ot&&Ki,xn=Ot&&$,Nn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hi=(function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",m,n),window.removeEventListener("testPassiveEventSupport",m,n)}catch{}return t})(),Dn=(function(){return!!document.createElement("canvas").getContext})(),In=!!(document.createElementNS&&dt("svg").createSVGRect),Ht=!!In&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),$t=!In&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}})(),Ze=navigator.platform.indexOf("Mac")===0,ce=navigator.platform.indexOf("Linux")===0;function kt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var F={ie:Ke,ielt9:ui,edge:Xi,webkit:$i,android:ji,android23:Br,androidStock:Vo,opera:Ki,chrome:Fr,gecko:$,safari:yt,phantom:Ct,opera12:P,win:V,ie3d:Kt,webkit3d:yn,gecko3d:li,any3d:wn,mobile:Ot,mobileWebkit:Gt,mobileWebkit3d:Pe,msPointer:Xt,pointer:ee,touch:Ie,touchNative:ne,mobileOpera:Je,mobileGecko:xn,retina:Nn,passiveEvents:hi,canvas:Dn,svg:In,vml:$t,inlineSvg:Ht,mac:Ze,linux:ce},Me=F.msPointer?"MSPointerDown":"pointerdown",Qe=F.msPointer?"MSPointerMove":"pointermove",fi=F.msPointer?"MSPointerUp":"pointerup",ci=F.msPointer?"MSPointerCancel":"pointercancel",Zn={touchstart:Me,touchmove:Qe,touchend:fi,touchcancel:ci},di={touchstart:jo,touchmove:pi,touchend:pi,touchcancel:pi},Be={},_i=!1;function Ji(t,n,o){return n==="touchstart"&&$o(),di[n]?(o=di[n].bind(this,o),t.addEventListener(Zn[n],o,!1),o):(console.warn("wrong event specified:",n),m)}function Qi(t,n,o){if(!Zn[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(Zn[n],o,!1)}function Go(t){Be[t.pointerId]=t}function Xo(t){Be[t.pointerId]&&(Be[t.pointerId]=t)}function Ur(t){delete Be[t.pointerId]}function $o(){_i||(document.addEventListener(Me,Go,!0),document.addEventListener(Qe,Xo,!0),document.addEventListener(fi,Ur,!0),document.addEventListener(ci,Ur,!0),_i=!0)}function pi(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var o in Be)n.touches.push(Be[o]);n.changedTouches=[n],t(n)}}function jo(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&Wt(n),pi(t,n)}function Ko(t){var n={},o,a;for(a in t)o=t[a],n[a]=o&&o.bind?o.bind(t):o;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Jo=200;function Qo(t,n){t.addEventListener("dblclick",n);var o=0,a;function h(p){if(p.detail!==1){a=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var w=Ia(p);if(!(w.some(function(T){return T instanceof HTMLLabelElement&&T.attributes.for})&&!w.some(function(T){return T instanceof HTMLInputElement||T instanceof HTMLSelectElement}))){var b=Date.now();b-o<=Jo?(a++,a===2&&n(Ko(p))):a=1,o=b}}}return t.addEventListener("click",h),{dblclick:n,simDblclick:h}}function ts(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var tr=qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bn=qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Hr=Bn==="webkitTransition"||Bn==="OTransition"?Bn+"End":"transitionend";function Wr(t){return typeof t=="string"?document.getElementById(t):t}function Rn(t,n){var o=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!o||o==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);o=a?a[n]:null}return o==="auto"?null:o}function st(t,n,o){var a=document.createElement(t);return a.className=n||"",o&&o.appendChild(a),a}function bt(t){var n=t.parentNode;n&&n.removeChild(t)}function mi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function bn(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function Tn(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function er(t,n){if(t.classList!==void 0)return t.classList.contains(n);var o=gi(t);return o.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(o)}function J(t,n){if(t.classList!==void 0)for(var o=k(n),a=0,h=o.length;a<h;a++)t.classList.add(o[a]);else if(!er(t,n)){var p=gi(t);nr(t,(p?p+" ":"")+n)}}function Pt(t,n){t.classList!==void 0?t.classList.remove(n):nr(t,x((" "+gi(t)+" ").replace(" "+n+" "," ")))}function nr(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function gi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function ie(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&Kh(t,n)}function Kh(t,n){var o=!1,a="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(a)}catch{if(n===1)return}n=Math.round(n*100),o?(o.Enabled=n!==100,o.Opacity=n):t.style.filter+=" progid:"+a+"(opacity="+n+")"}function qr(t){for(var n=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in n)return t[o];return!1}function Fn(t,n,o){var a=n||new G(0,0);t.style[tr]=(F.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(o?" scale("+o+")":"")}function Et(t,n){t._leaflet_pos=n,F.any3d?Fn(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Un(t){return t._leaflet_pos||new G(0,0)}var ir,rr,es;if("onselectstart"in document)ir=function(){Q(window,"selectstart",Wt)},rr=function(){wt(window,"selectstart",Wt)};else{var or=qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ir=function(){if(or){var t=document.documentElement.style;es=t[or],t[or]="none"}},rr=function(){or&&(document.documentElement.style[or]=es,es=void 0)}}function ns(){Q(window,"dragstart",Wt)}function is(){wt(window,"dragstart",Wt)}var Yr,rs;function os(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Vr(),Yr=t,rs=t.style.outlineStyle,t.style.outlineStyle="none",Q(window,"keydown",Vr))}function Vr(){Yr&&(Yr.style.outlineStyle=rs,Yr=void 0,rs=void 0,wt(window,"keydown",Vr))}function Na(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ss(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var Jh={__proto__:null,TRANSFORM:tr,TRANSITION:Bn,TRANSITION_END:Hr,get:Wr,getStyle:Rn,create:st,remove:bt,empty:mi,toFront:bn,toBack:Tn,hasClass:er,addClass:J,removeClass:Pt,setClass:nr,getClass:gi,setOpacity:ie,testProp:qr,setTransform:Fn,setPosition:Et,getPosition:Un,get disableTextSelection(){return ir},get enableTextSelection(){return rr},disableImageDrag:ns,enableImageDrag:is,preventOutline:os,restoreOutline:Vr,getSizedParentNode:Na,getScale:ss};function Q(t,n,o,a){if(n&&typeof n=="object")for(var h in n)us(t,h,n[h],o);else{n=k(n);for(var p=0,w=n.length;p<w;p++)us(t,n[p],o,a)}return this}var Re="_leaflet_events";function wt(t,n,o,a){if(arguments.length===1)Da(t),delete t[Re];else if(n&&typeof n=="object")for(var h in n)ls(t,h,n[h],o);else if(n=k(n),arguments.length===2)Da(t,function(b){return z(n,b)!==-1});else for(var p=0,w=n.length;p<w;p++)ls(t,n[p],o,a);return this}function Da(t,n){for(var o in t[Re]){var a=o.split(/\d/)[0];(!n||n(a))&&ls(t,a,null,null,o)}}var as={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function us(t,n,o,a){var h=n+_(o)+(a?"_"+_(a):"");if(t[Re]&&t[Re][h])return this;var p=function(b){return o.call(a||t,b||window.event)},w=p;!F.touchNative&&F.pointer&&n.indexOf("touch")===0?p=Ji(t,n,p):F.touch&&n==="dblclick"?p=Qo(t,p):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(as[n]||n,p,F.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(p=function(b){b=b||window.event,fs(t,b)&&w(b)},t.addEventListener(as[n],p,!1)):t.addEventListener(n,w,!1):t.attachEvent("on"+n,p),t[Re]=t[Re]||{},t[Re][h]=p}function ls(t,n,o,a,h){h=h||n+_(o)+(a?"_"+_(a):"");var p=t[Re]&&t[Re][h];if(!p)return this;!F.touchNative&&F.pointer&&n.indexOf("touch")===0?Qi(t,n,p):F.touch&&n==="dblclick"?ts(t,p):"removeEventListener"in t?t.removeEventListener(as[n]||n,p,!1):t.detachEvent("on"+n,p),t[Re][h]=null}function Hn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function hs(t){return us(t,"wheel",Hn),this}function sr(t){return Q(t,"mousedown touchstart dblclick contextmenu",Hn),t._leaflet_disable_click=!0,this}function Wt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Wn(t){return Wt(t),Hn(t),this}function Ia(t){if(t.composedPath)return t.composedPath();for(var n=[],o=t.target;o;)n.push(o),o=o.parentNode;return n}function Za(t,n){if(!n)return new G(t.clientX,t.clientY);var o=ss(n),a=o.boundingClientRect;return new G((t.clientX-a.left)/o.x-n.clientLeft,(t.clientY-a.top)/o.y-n.clientTop)}var Qh=F.linux&&F.chrome?window.devicePixelRatio:F.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ba(t){return F.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Qh:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function fs(t,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var tf={__proto__:null,on:Q,off:wt,stopPropagation:Hn,disableScrollPropagation:hs,disableClickPropagation:sr,preventDefault:Wt,stop:Wn,getPropagationPath:Ia,getMousePosition:Za,getWheelDelta:Ba,isExternalTarget:fs,addListener:Q,removeListener:wt},Ra=Dt.extend({run:function(t,n,o,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Un(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ft(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,o=this._duration*1e3;n<o?this._runFrame(this._easeOut(n/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var o=this._startPos.add(this._offset.multiplyBy(t));n&&o._round(),Et(this._el,o),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),at=Dt.extend({options:{crs:vt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=C(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(et(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bn&&F.any3d&&!F.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Q(this._proxy,Hr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,o){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(et(t),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=u({animate:o.animate},o.zoom),o.pan=u({animate:o.animate,duration:o.duration},o.pan));var a=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,o.zoom):this._tryAnimatedPan(t,o.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,o){var a=this.getZoomScale(n),h=this.getSize().divideBy(2),p=t instanceof G?t:this.latLngToContainerPoint(t),w=p.subtract(h).multiplyBy(1-1/a),b=this.containerPointToLatLng(h.add(w));return this.setView(b,n,{zoom:o})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():Tt(t);var o=U(n.paddingTopLeft||n.padding||[0,0]),a=U(n.paddingBottomRight||n.padding||[0,0]),h=this.getBoundsZoom(t,!1,o.add(a));if(h=typeof n.maxZoom=="number"?Math.min(n.maxZoom,h):h,h===1/0)return{center:t.getCenter(),zoom:h};var p=a.subtract(o).divideBy(2),w=this.project(t.getSouthWest(),h),b=this.project(t.getNorthEast(),h),T=this.unproject(w.add(b).divideBy(2).add(p),h);return{center:T,zoom:h}},fitBounds:function(t,n){if(t=Tt(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,n);return this.setView(o.center,o.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=U(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ra,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,o){if(o=o||{},o.animate===!1||!F.any3d)return this.setView(t,n,o);this._stop();var a=this.project(this.getCenter()),h=this.project(t),p=this.getSize(),w=this._zoom;t=et(t),n=n===void 0?w:n;var b=Math.max(p.x,p.y),T=b*this.getZoomScale(w,n),S=h.distanceTo(a)||1,I=1.42,X=I*I;function it(At){var ro=At?-1:1,Wf=At?T:b,qf=T*T-b*b+ro*X*X*S*S,Yf=2*Wf*X*S,bs=qf/Yf,yu=Math.sqrt(bs*bs+1)-bs,Vf=yu<1e-9?-18:Math.log(yu);return Vf}function Jt(At){return(Math.exp(At)-Math.exp(-At))/2}function Ft(At){return(Math.exp(At)+Math.exp(-At))/2}function ye(At){return Jt(At)/Ft(At)}var re=it(0);function Ti(At){return b*(Ft(re)/Ft(re+I*At))}function Rf(At){return b*(Ft(re)*ye(re+I*At)-Jt(re))/X}function Ff(At){return 1-Math.pow(1-At,1.5)}var Uf=Date.now(),gu=(it(1)-re)/I,Hf=o.duration?1e3*o.duration:1e3*gu*.8;function vu(){var At=(Date.now()-Uf)/Hf,ro=Ff(At)*gu;At<=1?(this._flyToFrame=ft(vu,this),this._move(this.unproject(a.add(h.subtract(a).multiplyBy(Rf(ro)/S)),w),this.getScaleZoom(b/Ti(ro),w),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),vu.call(this),this},flyToBounds:function(t,n){var o=this._getBoundsCenterZoom(t,n);return this.flyTo(o.center,o.zoom,n)},setMaxBounds:function(t){return t=Tt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var o=this.getCenter(),a=this._limitCenter(o,this._zoom,Tt(t));return o.equals(a)||this.panTo(a,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var o=U(n.paddingTopLeft||n.padding||[0,0]),a=U(n.paddingBottomRight||n.padding||[0,0]),h=this.project(this.getCenter()),p=this.project(t),w=this.getPixelBounds(),b=It([w.min.add(o),w.max.subtract(a)]),T=b.getSize();if(!b.contains(p)){this._enforcingBounds=!0;var S=p.subtract(b.getCenter()),I=b.extend(p).getSize().subtract(T);h.x+=S.x<0?-I.x:I.x,h.y+=S.y<0?-I.y:I.y,this.panTo(this.unproject(h),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),a=n.divideBy(2).round(),h=o.divideBy(2).round(),p=a.subtract(h);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=f(this._handleGeolocationResponse,this),o=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,o=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,o=t.coords.longitude,a=new lt(n,o),h=a.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var w=this.getBoundsZoom(h);this.setView(a,p.maxZoom?Math.min(w,p.maxZoom):w)}var b={latlng:a,bounds:h,timestamp:t.timestamp};for(var T in t.coords)typeof t.coords[T]=="number"&&(b[T]=t.coords[T]);this.fire("locationfound",b)}},addHandler:function(t,n){if(!n)return this;var o=this[t]=new n(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)bt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=st("div",o,n||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new Zt(n,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,o){t=Tt(t),o=U(o||[0,0]);var a=this.getZoom()||0,h=this.getMinZoom(),p=this.getMaxZoom(),w=t.getNorthWest(),b=t.getSouthEast(),T=this.getSize().subtract(o),S=It(this.project(b,a),this.project(w,a)).getSize(),I=F.any3d?this.options.zoomSnap:1,X=T.x/S.x,it=T.y/S.y,Jt=n?Math.max(X,it):Math.min(X,it);return a=this.getScaleZoom(Jt,a),I&&(a=Math.round(a/(I/100))*(I/100),a=n?Math.ceil(a/I)*I:Math.floor(a/I)*I),Math.max(h,Math.min(p,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var o=this._getTopLeftPoint(t,n);return new tt(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(t)/o.scale(n)},getScaleZoom:function(t,n){var o=this.options.crs;n=n===void 0?this._zoom:n;var a=o.zoom(t*o.scale(n));return isNaN(a)?1/0:a},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(et(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(U(t),n)},layerPointToLatLng:function(t){var n=U(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(et(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(et(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Tt(t))},distance:function(t,n){return this.options.crs.distance(et(t),et(n))},containerPointToLayerPoint:function(t){return U(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return U(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(U(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(et(t)))},mouseEventToContainerPoint:function(t){return Za(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=Wr(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Q(n,"scroll",this._onScroll,this),this._containerId=_(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&F.any3d,J(t,"leaflet-container"+(F.touch?" leaflet-touch":"")+(F.retina?" leaflet-retina":"")+(F.ielt9?" leaflet-oldie":"")+(F.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Rn(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(t.markerPane,"leaflet-zoom-hide"),J(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,o){Et(this._mapPane,new G(0,0));var a=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var h=this._zoom!==n;this._moveStart(h,o)._move(t,n)._moveEnd(h),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,o,a){n===void 0&&(n=this._zoom);var h=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),a?o&&o.pinch&&this.fire("zoom",o):((h||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Et(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[_(this._container)]=this;var n=t?wt:Q;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),F.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var o=[],a,h=n==="mouseout"||n==="mouseover",p=t.target||t.srcElement,w=!1;p;){if(a=this._targets[_(p)],a&&(n==="click"||n==="preclick")&&this._draggableMoved(a)){w=!0;break}if(a&&a.listens(n,!0)&&(h&&!fs(p,t)||(o.push(a),h))||p===this._container)break;p=p.parentNode}return!o.length&&!w&&!h&&this.listens(n,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var o=t.type;o==="mousedown"&&os(n),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,o){if(t.type==="click"){var a=u({},t);a.type="preclick",this._fireDOMEvent(a,a.type,o)}var h=this._findEventTargets(t,n);if(o){for(var p=[],w=0;w<o.length;w++)o[w].listens(n,!0)&&p.push(o[w]);h=p.concat(h)}if(h.length){n==="contextmenu"&&Wt(t);var b=h[0],T={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var S=b.getLatLng&&(!b._radius||b._radius<=10);T.containerPoint=S?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(t),T.layerPoint=this.containerPointToLayerPoint(T.containerPoint),T.latlng=S?b.getLatLng():this.layerPointToLatLng(T.layerPoint)}for(w=0;w<h.length;w++)if(h[w].fire(n,T,!0),T.originalEvent._stopped||h[w].options.bubblingMouseEvents===!1&&z(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Un(this._mapPane)||new G(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var o=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var o=this.getSize()._divideBy(2);return this.project(t,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,o){var a=this._getNewPixelOrigin(o,n);return this.project(t,n)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,n,o){var a=this._getNewPixelOrigin(o,n);return It([this.project(t.getSouthWest(),n)._subtract(a),this.project(t.getNorthWest(),n)._subtract(a),this.project(t.getSouthEast(),n)._subtract(a),this.project(t.getNorthEast(),n)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,o){if(!o)return t;var a=this.project(t,n),h=this.getSize().divideBy(2),p=new tt(a.subtract(h),a.add(h)),w=this._getBoundsOffset(p,o,n);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?t:this.unproject(a.add(w),n)},_limitOffset:function(t,n){if(!n)return t;var o=this.getPixelBounds(),a=new tt(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(a,n))},_getBoundsOffset:function(t,n,o){var a=It(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),h=a.min.subtract(t.min),p=a.max.subtract(t.max),w=this._rebound(h.x,-p.x),b=this._rebound(h.y,-p.y);return new G(w,b)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),o=this.getMaxZoom(),a=F.any3d?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(n,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var o=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,n),!0)},_createAnimProxy:function(){var t=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var o=tr,a=this._proxy.style[o];Fn(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),a===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();Fn(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(n),h=this._getCenterOffset(t)._divideBy(1-1/a);return o.animate!==!0&&!this.getSize().contains(h)?!1:(ft(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,o,a){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ef(t,n){return new at(t,n)}var Le=pt.extend({options:{position:"topright"},initialize:function(t){C(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),o=this.getPosition(),a=t._controlCorners[o];return J(n,"leaflet-control"),o.indexOf("bottom")!==-1?a.insertBefore(n,a.firstChild):a.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ar=function(t){return new Le(t)};at.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",o=this._controlContainer=st("div",n+"control-container",this._container);function a(h,p){var w=n+h+" "+n+p;t[h+p]=st("div",w,o)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)bt(this._controlCorners[t]);bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fa=Le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,o,a){return o<a?-1:a<o?1:0}},initialize:function(t,n,o){C(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in n)this._addLayer(n[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Le.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(_(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=st("div",t),o=this.options.collapsed;n.setAttribute("aria-haspopup",!0),sr(n),hs(n);var a=this._section=st("section",t+"-list");o&&(this._map.on("click",this.collapse,this),Q(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=st("a",t+"-toggle",n);h.href="#",h.title="Layers",h.setAttribute("role","button"),Q(h,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){Wt(p),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=st("div",t+"-base",a),this._separator=st("div",t+"-separator",a),this._overlaysList=st("div",t+"-overlays",a),n.appendChild(a)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&_(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(f(function(a,h){return this.options.sortFunction(a.layer,h.layer,a.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mi(this._baseLayersList),mi(this._overlaysList),this._layerControlInputs=[];var t,n,o,a,h=0;for(o=0;o<this._layers.length;o++)a=this._layers[o],this._addItem(a),n=n||a.overlay,t=t||!a.overlay,h+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(_(t.target)),o=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(t,n){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=o,a.firstChild},_addItem:function(t){var n=document.createElement("label"),o=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=o):a=this._createRadioElement("leaflet-base-layers_"+_(this),o),this._layerControlInputs.push(a),a.layerId=_(t.layer),Q(a,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var p=document.createElement("span");n.appendChild(p),p.appendChild(a),p.appendChild(h);var w=t.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,n,o,a=[],h=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)n=t[p],o=this._getLayer(n.layerId).layer,n.checked?a.push(o):n.checked||h.push(o);for(p=0;p<h.length;p++)this._map.hasLayer(h[p])&&this._map.removeLayer(h[p]);for(p=0;p<a.length;p++)this._map.hasLayer(a[p])||this._map.addLayer(a[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,o,a=this._map.getZoom(),h=t.length-1;h>=0;h--)n=t[h],o=this._getLayer(n.layerId).layer,n.disabled=o.options.minZoom!==void 0&&a<o.options.minZoom||o.options.maxZoom!==void 0&&a>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Q(t,"click",Wt),this.expand();var n=this;setTimeout(function(){wt(t,"click",Wt),n._preventClick=!1})}}),nf=function(t,n,o){return new Fa(t,n,o)},cs=Le.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",o=st("div",n+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,o,a,h){var p=st("a",o,a);return p.innerHTML=t,p.href="#",p.title=n,p.setAttribute("role","button"),p.setAttribute("aria-label",n),sr(p),Q(p,"click",Wn),Q(p,"click",h,this),Q(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";Pt(this._zoomInButton,n),Pt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(J(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(J(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cs,this.addControl(this.zoomControl))});var rf=function(t){return new cs(t)},Ua=Le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",o=st("div",n),a=this.options;return this._addScales(a,n+"-line",o),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,o){t.metric&&(this._mScale=st("div",n,o)),t.imperial&&(this._iScale=st("div",n,o))},_update:function(){var t=this._map,n=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),o=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,o,n/t)},_updateImperial:function(t){var n=t*3.2808399,o,a,h;n>5280?(o=n/5280,a=this._getRoundNum(o),this._updateScale(this._iScale,a+" mi",a/o)):(h=this._getRoundNum(n),this._updateScale(this._iScale,h+" ft",h/n))},_updateScale:function(t,n,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),o=t/n;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,n*o}}),of=function(t){return new Ua(t)},sf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ds=Le.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(F.inlineSvg?sf+" ":"")+"Leaflet</a>"},initialize:function(t){C(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=st("div","leaflet-control-attribution"),sr(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&new ds().addTo(this)});var af=function(t){return new ds(t)};Le.Layers=Fa,Le.Zoom=cs,Le.Scale=Ua,Le.Attribution=ds,ar.layers=nf,ar.zoom=rf,ar.scale=of,ar.attribution=af;var Fe=pt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fe.addTo=function(t,n){return t.addHandler(n,this),this};var uf={Events:gt},Ha=F.touch?"touchstart mousedown":"mousedown",Pn=Dt.extend({options:{clickTolerance:3},initialize:function(t,n,o,a){C(this,a),this._element=t,this._dragStartTarget=n||t,this._preventOutline=o},enable:function(){this._enabled||(Q(this._dragStartTarget,Ha,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,Ha,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!er(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Pn._dragging=this,this._preventOutline&&os(this._element),ns(),ir(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,o=Na(this._element);this._startPoint=new G(n.clientX,n.clientY),this._startPos=Un(this._element),this._parentScale=ss(o);var a=t.type==="mousedown";Q(document,a?"mousemove":"touchmove",this._onMove,this),Q(document,a?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,o=new G(n.clientX,n.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,Wt(t),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Et(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),is(),rr();var n=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,n&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Wa(t,n,o){var a,h=[1,4,2,8],p,w,b,T,S,I,X,it;for(p=0,I=t.length;p<I;p++)t[p]._code=qn(t[p],n);for(b=0;b<4;b++){for(X=h[b],a=[],p=0,I=t.length,w=I-1;p<I;w=p++)T=t[p],S=t[w],T._code&X?S._code&X||(it=Gr(S,T,X,n,o),it._code=qn(it,n),a.push(it)):(S._code&X&&(it=Gr(S,T,X,n,o),it._code=qn(it,n),a.push(it)),a.push(T));t=a}return t}function qa(t,n){var o,a,h,p,w,b,T,S,I;if(!t||t.length===0)throw new Error("latlngs not passed");ve(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var X=et([0,0]),it=Tt(t),Jt=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());Jt<1700&&(X=_s(t));var Ft=t.length,ye=[];for(o=0;o<Ft;o++){var re=et(t[o]);ye.push(n.project(et([re.lat-X.lat,re.lng-X.lng])))}for(b=T=S=0,o=0,a=Ft-1;o<Ft;a=o++)h=ye[o],p=ye[a],w=h.y*p.x-p.y*h.x,T+=(h.x+p.x)*w,S+=(h.y+p.y)*w,b+=w*3;b===0?I=ye[0]:I=[T/b,S/b];var Ti=n.unproject(U(I));return et([Ti.lat+X.lat,Ti.lng+X.lng])}function _s(t){for(var n=0,o=0,a=0,h=0;h<t.length;h++){var p=et(t[h]);n+=p.lat,o+=p.lng,a++}return et([n/a,o/a])}var lf={__proto__:null,clipPolygon:Wa,polygonCenter:qa,centroid:_s};function Ya(t,n){if(!n||!t.length)return t.slice();var o=n*n;return t=cf(t,o),t=ff(t,o),t}function Va(t,n,o){return Math.sqrt(ur(t,n,o,!0))}function hf(t,n,o){return ur(t,n,o)}function ff(t,n){var o=t.length,a=typeof Uint8Array<"u"?Uint8Array:Array,h=new a(o);h[0]=h[o-1]=1,ps(t,h,n,0,o-1);var p,w=[];for(p=0;p<o;p++)h[p]&&w.push(t[p]);return w}function ps(t,n,o,a,h){var p=0,w,b,T;for(b=a+1;b<=h-1;b++)T=ur(t[b],t[a],t[h],!0),T>p&&(w=b,p=T);p>o&&(n[w]=1,ps(t,n,o,a,w),ps(t,n,o,w,h))}function cf(t,n){for(var o=[t[0]],a=1,h=0,p=t.length;a<p;a++)df(t[a],t[h])>n&&(o.push(t[a]),h=a);return h<p-1&&o.push(t[p-1]),o}var Ga;function Xa(t,n,o,a,h){var p=a?Ga:qn(t,o),w=qn(n,o),b,T,S;for(Ga=w;;){if(!(p|w))return[t,n];if(p&w)return!1;b=p||w,T=Gr(t,n,b,o,h),S=qn(T,o),b===p?(t=T,p=S):(n=T,w=S)}}function Gr(t,n,o,a,h){var p=n.x-t.x,w=n.y-t.y,b=a.min,T=a.max,S,I;return o&8?(S=t.x+p*(T.y-t.y)/w,I=T.y):o&4?(S=t.x+p*(b.y-t.y)/w,I=b.y):o&2?(S=T.x,I=t.y+w*(T.x-t.x)/p):o&1&&(S=b.x,I=t.y+w*(b.x-t.x)/p),new G(S,I,h)}function qn(t,n){var o=0;return t.x<n.min.x?o|=1:t.x>n.max.x&&(o|=2),t.y<n.min.y?o|=4:t.y>n.max.y&&(o|=8),o}function df(t,n){var o=n.x-t.x,a=n.y-t.y;return o*o+a*a}function ur(t,n,o,a){var h=n.x,p=n.y,w=o.x-h,b=o.y-p,T=w*w+b*b,S;return T>0&&(S=((t.x-h)*w+(t.y-p)*b)/T,S>1?(h=o.x,p=o.y):S>0&&(h+=w*S,p+=b*S)),w=t.x-h,b=t.y-p,a?w*w+b*b:new G(h,p)}function ve(t){return!O(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function $a(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ve(t)}function ja(t,n){var o,a,h,p,w,b,T,S;if(!t||t.length===0)throw new Error("latlngs not passed");ve(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var I=et([0,0]),X=Tt(t),it=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());it<1700&&(I=_s(t));var Jt=t.length,Ft=[];for(o=0;o<Jt;o++){var ye=et(t[o]);Ft.push(n.project(et([ye.lat-I.lat,ye.lng-I.lng])))}for(o=0,a=0;o<Jt-1;o++)a+=Ft[o].distanceTo(Ft[o+1])/2;if(a===0)S=Ft[0];else for(o=0,p=0;o<Jt-1;o++)if(w=Ft[o],b=Ft[o+1],h=w.distanceTo(b),p+=h,p>a){T=(p-a)/h,S=[b.x-T*(b.x-w.x),b.y-T*(b.y-w.y)];break}var re=n.unproject(U(S));return et([re.lat+I.lat,re.lng+I.lng])}var _f={__proto__:null,simplify:Ya,pointToSegmentDistance:Va,closestPointOnSegment:hf,clipSegment:Xa,_getEdgeIntersection:Gr,_getBitCode:qn,_sqClosestPointOnSegment:ur,isFlat:ve,_flat:$a,polylineCenter:ja},ms={project:function(t){return new G(t.lng,t.lat)},unproject:function(t){return new lt(t.y,t.x)},bounds:new tt([-180,-90],[180,90])},gs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new tt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,o=this.R,a=t.lat*n,h=this.R_MINOR/o,p=Math.sqrt(1-h*h),w=p*Math.sin(a),b=Math.tan(Math.PI/4-a/2)/Math.pow((1-w)/(1+w),p/2);return a=-o*Math.log(Math.max(b,1e-10)),new G(t.lng*n*o,a)},unproject:function(t){for(var n=180/Math.PI,o=this.R,a=this.R_MINOR/o,h=Math.sqrt(1-a*a),p=Math.exp(-t.y/o),w=Math.PI/2-2*Math.atan(p),b=0,T=.1,S;b<15&&Math.abs(T)>1e-7;b++)S=h*Math.sin(w),S=Math.pow((1-S)/(1+S),h/2),T=Math.PI/2-2*Math.atan(p*S)-w,w+=T;return new lt(w*n,t.x*n/o)}},pf={__proto__:null,LonLat:ms,Mercator:gs,SphericalMercator:K},mf=u({},ge,{code:"EPSG:3395",projection:gs,transformation:(function(){var t=.5/(Math.PI*gs.R);return E(t,.5,-t,.5)})()}),Ka=u({},ge,{code:"EPSG:4326",projection:ms,transformation:E(1/180,1,-1/180,.5)}),gf=u({},Bt,{projection:ms,transformation:E(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var o=n.lng-t.lng,a=n.lat-t.lat;return Math.sqrt(o*o+a*a)},infinite:!0});Bt.Earth=ge,Bt.EPSG3395=mf,Bt.EPSG3857=vt,Bt.EPSG900913=ct,Bt.EPSG4326=Ka,Bt.Simple=gf;var Ce=Dt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[_(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[_(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var o=this.getEvents();n.on(o,this),this.once("remove",function(){n.off(o,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});at.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=_(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=_(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return _(t)in this._layers},eachLayer:function(t,n){for(var o in this._layers)t.call(n,this._layers[o]);return this},_addLayers:function(t){t=t?O(t)?t:[t]:[];for(var n=0,o=t.length;n<o;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[_(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=_(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,o=this._getZoomSpan();for(var a in this._zoomBoundLayers){var h=this._zoomBoundLayers[a].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),n=h.maxZoom===void 0?n:Math.max(n,h.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var vi=Ce.extend({initialize:function(t,n){C(this,n),this._layers={};var o,a;if(t)for(o=0,a=t.length;o<a;o++)this.addLayer(t[o])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),o,a;for(o in this._layers)a=this._layers[o],a[t]&&a[t].apply(a,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var o in this._layers)t.call(n,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return _(t)}}),vf=function(t,n){return new vi(t,n)},tn=vi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),vi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),vi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Zt;for(var n in this._layers){var o=this._layers[n];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),yf=function(t,n){return new tn(t,n)},yi=pt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){C(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(o,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(a,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a},_setIconStyles:function(t,n){var o=this.options,a=o[n+"Size"];typeof a=="number"&&(a=[a,a]);var h=U(a),p=U(n==="shadow"&&o.shadowAnchor||o.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(o.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return F.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function wf(t){return new yi(t)}var lr=yi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof lr.imagePath!="string"&&(lr.imagePath=this._detectIconPath()),(this.options.imagePath||lr.imagePath)+yi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(o,a,h){var p=a.exec(o);return p&&p[h]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=st("div","leaflet-default-icon-path",document.body),n=Rn(t,"background-image")||Rn(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Ja=Fe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Pn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,o=n._map,a=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,p=Un(n._icon),w=o.getPixelBounds(),b=o.getPixelOrigin(),T=It(w.min._subtract(b).add(h),w.max._subtract(b).subtract(h));if(!T.contains(p)){var S=U((Math.max(T.max.x,p.x)-T.max.x)/(w.max.x-T.max.x)-(Math.min(T.min.x,p.x)-T.min.x)/(w.min.x-T.min.x),(Math.max(T.max.y,p.y)-T.max.y)/(w.max.y-T.max.y)-(Math.min(T.min.y,p.y)-T.min.y)/(w.min.y-T.min.y)).multiplyBy(a);o.panBy(S,{animate:!1}),this._draggable._newPos._add(S),this._draggable._startPos._add(S),Et(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ft(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=ft(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,o=n._shadow,a=Un(n._icon),h=n._map.layerPointToLatLng(a);o&&Et(o,a),n._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Xr=Ce.extend({options:{icon:new lr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){C(this,n),this._latlng=et(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=et(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),a=!1;o!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),J(o,n),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(o,"focus",this._panOnFocus,this);var h=t.icon.createShadow(this._shadow),p=!1;h!==this._shadow&&(this._removeShadow(),p=!0),h&&(J(h,n),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Et(this._icon,t),this._shadow&&Et(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ja)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ja(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ie(this._icon,t),this._shadow&&ie(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,o=n.iconSize?U(n.iconSize):U(0,0),a=n.iconAnchor?U(n.iconAnchor):U(0,0);t.panInside(this._latlng,{paddingTopLeft:a,paddingBottomRight:o.subtract(a)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xf(t,n){return new Xr(t,n)}var Mn=Ce.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return C(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$r=Mn.extend({options:{fill:!0,radius:10},initialize:function(t,n){C(this,n),this._latlng=et(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=et(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return Mn.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,o=this._clickTolerance(),a=[t+o,n+o];this._pxBounds=new tt(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bf(t,n){return new $r(t,n)}var vs=$r.extend({initialize:function(t,n,o){if(typeof n=="number"&&(n=u({},o,{radius:n})),C(this,n),this._latlng=et(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Zt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Mn.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,o=this._map,a=o.options.crs;if(a.distance===ge.distance){var h=Math.PI/180,p=this._mRadius/ge.R/h,w=o.project([n+p,t]),b=o.project([n-p,t]),T=w.add(b).divideBy(2),S=o.unproject(T).lat,I=Math.acos((Math.cos(p*h)-Math.sin(n*h)*Math.sin(S*h))/(Math.cos(n*h)*Math.cos(S*h)))/h;(isNaN(I)||I===0)&&(I=p/Math.cos(Math.PI/180*n)),this._point=T.subtract(o.getPixelOrigin()),this._radius=isNaN(I)?0:T.x-o.project([S,t-I]).x,this._radiusY=T.y-w.y}else{var X=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(X).x}this._updateBounds()}});function Tf(t,n,o){return new vs(t,n,o)}var en=Mn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){C(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,o=null,a=ur,h,p,w=0,b=this._parts.length;w<b;w++)for(var T=this._parts[w],S=1,I=T.length;S<I;S++){h=T[S-1],p=T[S];var X=a(t,h,p,!0);X<n&&(n=X,o=a(t,h,p))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ja(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=et(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Zt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ve(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],o=ve(t),a=0,h=t.length;a<h;a++)o?(n[a]=et(t[a]),this._bounds.extend(n[a])):n[a]=this._convertLatLngs(t[a]);return n},_project:function(){var t=new tt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new G(t,t);this._rawPxBounds&&(this._pxBounds=new tt([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,o){var a=t[0]instanceof lt,h=t.length,p,w;if(a){for(w=[],p=0;p<h;p++)w[p]=this._map.latLngToLayerPoint(t[p]),o.extend(w[p]);n.push(w)}else for(p=0;p<h;p++)this._projectLatlngs(t[p],n,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,o,a,h,p,w,b,T;for(o=0,h=0,p=this._rings.length;o<p;o++)for(T=this._rings[o],a=0,w=T.length;a<w-1;a++)b=Xa(T[a],T[a+1],t,a,!0),b&&(n[h]=n[h]||[],n[h].push(b[0]),(b[1]!==T[a+1]||a===w-2)&&(n[h].push(b[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,o=0,a=t.length;o<a;o++)t[o]=Ya(t[o],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var o,a,h,p,w,b,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,p=this._parts.length;o<p;o++)for(b=this._parts[o],a=0,w=b.length,h=w-1;a<w;h=a++)if(!(!n&&a===0)&&Va(t,b[h],b[a])<=T)return!0;return!1}});function Pf(t,n){return new en(t,n)}en._flat=$a;var wi=en.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=en.prototype._convertLatLngs.call(this,t),o=n.length;return o>=2&&n[0]instanceof lt&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(t){en.prototype._setLatLngs.call(this,t),ve(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ve(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,o=new G(n,n);if(t=new tt(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,h=this._rings.length,p;a<h;a++)p=Wa(this._rings[a],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,o,a,h,p,w,b,T,S;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,T=this._parts.length;p<T;p++)for(o=this._parts[p],w=0,S=o.length,b=S-1;w<S;b=w++)a=o[w],h=o[b],a.y>t.y!=h.y>t.y&&t.x<(h.x-a.x)*(t.y-a.y)/(h.y-a.y)+a.x&&(n=!n);return n||en.prototype._containsPoint.call(this,t,!0)}});function Mf(t,n){return new wi(t,n)}var nn=tn.extend({initialize:function(t,n){C(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=O(t)?t:t.features,o,a,h;if(n){for(o=0,a=n.length;o<a;o++)h=n[o],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var w=jr(t,p);return w?(w.feature=Qr(t),w.defaultOptions=w.options,this.resetStyle(w),p.onEachFeature&&p.onEachFeature(t,w),this.addLayer(w)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function jr(t,n){var o=t.type==="Feature"?t.geometry:t,a=o?o.coordinates:null,h=[],p=n&&n.pointToLayer,w=n&&n.coordsToLatLng||ys,b,T,S,I;if(!a&&!o)return null;switch(o.type){case"Point":return b=w(a),Qa(p,t,b,n);case"MultiPoint":for(S=0,I=a.length;S<I;S++)b=w(a[S]),h.push(Qa(p,t,b,n));return new tn(h);case"LineString":case"MultiLineString":return T=Kr(a,o.type==="LineString"?0:1,w),new en(T,n);case"Polygon":case"MultiPolygon":return T=Kr(a,o.type==="Polygon"?1:2,w),new wi(T,n);case"GeometryCollection":for(S=0,I=o.geometries.length;S<I;S++){var X=jr({geometry:o.geometries[S],type:"Feature",properties:t.properties},n);X&&h.push(X)}return new tn(h);case"FeatureCollection":for(S=0,I=o.features.length;S<I;S++){var it=jr(o.features[S],n);it&&h.push(it)}return new tn(h);default:throw new Error("Invalid GeoJSON object.")}}function Qa(t,n,o,a){return t?t(n,o):new Xr(o,a&&a.markersInheritOptions&&a)}function ys(t){return new lt(t[1],t[0],t[2])}function Kr(t,n,o){for(var a=[],h=0,p=t.length,w;h<p;h++)w=n?Kr(t[h],n-1,o):(o||ys)(t[h]),a.push(w);return a}function ws(t,n){return t=et(t),t.alt!==void 0?[y(t.lng,n),y(t.lat,n),y(t.alt,n)]:[y(t.lng,n),y(t.lat,n)]}function Jr(t,n,o,a){for(var h=[],p=0,w=t.length;p<w;p++)h.push(n?Jr(t[p],ve(t[p])?0:n-1,o,a):ws(t[p],a));return!n&&o&&h.length>0&&h.push(h[0].slice()),h}function xi(t,n){return t.feature?u({},t.feature,{geometry:n}):Qr(n)}function Qr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var xs={toGeoJSON:function(t){return xi(this,{type:"Point",coordinates:ws(this.getLatLng(),t)})}};Xr.include(xs),vs.include(xs),$r.include(xs),en.include({toGeoJSON:function(t){var n=!ve(this._latlngs),o=Jr(this._latlngs,n?1:0,!1,t);return xi(this,{type:(n?"Multi":"")+"LineString",coordinates:o})}}),wi.include({toGeoJSON:function(t){var n=!ve(this._latlngs),o=n&&!ve(this._latlngs[0]),a=Jr(this._latlngs,o?2:n?1:0,!0,t);return n||(a=[a]),xi(this,{type:(o?"Multi":"")+"Polygon",coordinates:a})}}),vi.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(t).geometry.coordinates)}),xi(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var o=n==="GeometryCollection",a=[];return this.eachLayer(function(h){if(h.toGeoJSON){var p=h.toGeoJSON(t);if(o)a.push(p.geometry);else{var w=Qr(p);w.type==="FeatureCollection"?a.push.apply(a,w.features):a.push(w)}}}),o?xi(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function tu(t,n){return new nn(t,n)}var Lf=tu,to=Ce.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,o){this._url=t,this._bounds=Tt(n),C(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&bn(this._image),this},bringToBack:function(){return this._map&&Tn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Tt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:st("img");if(J(n,"leaflet-image-layer"),this._zoomAnimated&&J(n,"leaflet-zoom-animated"),this.options.className&&J(n,this.options.className),n.onselectstart=m,n.onmousemove=m,n.onload=f(this.fire,this,"load"),n.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Fn(this._image,o,n)},_reset:function(){var t=this._image,n=new tt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();Et(t,n.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Cf=function(t,n,o){return new to(t,n,o)},eu=to.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:st("video");if(J(n,"leaflet-image-layer"),this._zoomAnimated&&J(n,"leaflet-zoom-animated"),this.options.className&&J(n,this.options.className),n.onselectstart=m,n.onmousemove=m,n.onloadeddata=f(this.fire,this,"load"),t){for(var o=n.getElementsByTagName("source"),a=[],h=0;h<o.length;h++)a.push(o[h].src);this._url=o.length>0?a:[n.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var w=st("source");w.src=this._url[p],n.appendChild(w)}}});function Sf(t,n,o){return new eu(t,n,o)}var nu=to.extend({_initImage:function(){var t=this._image=this._url;J(t,"leaflet-image-layer"),this._zoomAnimated&&J(t,"leaflet-zoom-animated"),this.options.className&&J(t,this.options.className),t.onselectstart=m,t.onmousemove=m}});function kf(t,n,o){return new nu(t,n,o)}var Ue=Ce.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof lt||O(t))?(this._latlng=et(t),C(this,n)):(C(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ie(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ie(this._container,0),this._removeTimeout=setTimeout(f(bt,void 0,this._container),200)):bt(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=et(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bn(this._container),this},bringToBack:function(){return this._map&&Tn(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof tn){n=null;var o=this._source._layers;for(var a in o)if(o[a]._map){n=o[a];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=U(this.options.offset),o=this._getAnchor();this._zoomAnimated?Et(this._container,t.add(o)):n=n.add(t).add(o);var a=this._containerBottom=-n.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=a+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(t,n,o,a){var h=n;return h instanceof t||(h=new t(a).setContent(n)),o&&h.setLatLng(o),h}}),Ce.include({_initOverlay:function(t,n,o,a){var h=o;return h instanceof t?(C(h,a),h._source=this):(h=n&&!a?n:new t(a,this),h.setContent(o)),h}});var eo=Ue.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ue.prototype.openOn.call(this,t)},onAdd:function(t){Ue.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mn||this._source.on("preclick",Hn))},onRemove:function(t){Ue.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mn||this._source.off("preclick",Hn))},getEvents:function(){var t=Ue.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=st("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=st("div",t+"-content-wrapper",n);if(this._contentNode=st("div",t+"-content",o),sr(n),hs(this._contentNode),Q(n,"contextmenu",Hn),this._tipContainer=st("div",t+"-tip-container",n),this._tip=st("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=st("a",t+"-close-button",n);a.setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',Q(a,"click",function(h){Wt(h),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="";var a=t.offsetHeight,h=this.options.maxHeight,p="leaflet-popup-scrolled";h&&a>h?(n.height=h+"px",J(t,p)):Pt(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();Et(this._container,n.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(Rn(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+n,a=this._containerWidth,h=new G(this._containerLeft,-o-this._containerBottom);h._add(Un(this._container));var p=t.layerPointToContainerPoint(h),w=U(this.options.autoPanPadding),b=U(this.options.autoPanPaddingTopLeft||w),T=U(this.options.autoPanPaddingBottomRight||w),S=t.getSize(),I=0,X=0;p.x+a+T.x>S.x&&(I=p.x+a-S.x+T.x),p.x-I-b.x<0&&(I=p.x-b.x),p.y+o+T.y>S.y&&(X=p.y+o-S.y+T.y),p.y-X-b.y<0&&(X=p.y-b.y),(I||X)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([I,X]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ef=function(t,n){return new eo(t,n)};at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(t,n,o){return this._initOverlay(eo,t,n,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ce.include({bindPopup:function(t,n){return this._popup=this._initOverlay(eo,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof tn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Wn(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof Mn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var no=Ue.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ue.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ue.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ue.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,o,a=this._map,h=this._container,p=a.latLngToContainerPoint(a.getCenter()),w=a.layerPointToContainerPoint(t),b=this.options.direction,T=h.offsetWidth,S=h.offsetHeight,I=U(this.options.offset),X=this._getAnchor();b==="top"?(n=T/2,o=S):b==="bottom"?(n=T/2,o=0):b==="center"?(n=T/2,o=S/2):b==="right"?(n=0,o=S/2):b==="left"?(n=T,o=S/2):w.x<p.x?(b="right",n=0,o=S/2):(b="left",n=T+(I.x+X.x)*2,o=S/2),t=t.subtract(U(n,o,!0)).add(I).add(X),Pt(h,"leaflet-tooltip-right"),Pt(h,"leaflet-tooltip-left"),Pt(h,"leaflet-tooltip-top"),Pt(h,"leaflet-tooltip-bottom"),J(h,"leaflet-tooltip-"+b),Et(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ie(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Af=function(t,n){return new no(t,n)};at.include({openTooltip:function(t,n,o){return this._initOverlay(no,t,n,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ce.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(no,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof tn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&(Q(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Q(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var n=t.latlng,o,a;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(o),n=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(n)}});var iu=yi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(mi(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos){var a=U(o.bgPos);n.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Of(t){return new iu(t)}yi.Default=lr;var hr=Ce.extend({options:{tileSize:256,opacity:1,updateWhenIdle:F.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){C(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),bt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof G?t:new G(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,o=-t(-1/0,1/0),a=0,h=n.length,p;a<h;a++)p=n[a].style.zIndex,n[a]!==this._container&&p&&(o=t(o,+p));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!F.ielt9){ie(this._container,this.options.opacity);var t=+new Date,n=!1,o=!1;for(var a in this._tiles){var h=this._tiles[a];if(!(!h.current||!h.loaded)){var p=Math.min(1,(t-h.loaded)/200);ie(h.el,p),p<1?n=!0:(h.active?o=!0:this._onOpaqueTile(h),h.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),n&&(Y(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=n-Math.abs(t-o),this._onUpdateLevel(o)):(bt(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var a=this._levels[t],h=this._map;return a||(a=this._levels[t]={},a.el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=n,a.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,h.getCenter(),h.getZoom()),m(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var t,n,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var a=n.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)bt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,o,a){var h=Math.floor(t/2),p=Math.floor(n/2),w=o-1,b=new G(+h,+p);b.z=+w;var T=this._tileCoordsToKey(b),S=this._tiles[T];return S&&S.active?(S.retain=!0,!0):(S&&S.loaded&&(S.retain=!0),w>a?this._retainParent(h,p,w,a):!1)},_retainChildren:function(t,n,o,a){for(var h=2*t;h<2*t+2;h++)for(var p=2*n;p<2*n+2;p++){var w=new G(h,p);w.z=o+1;var b=this._tileCoordsToKey(w),T=this._tiles[b];if(T&&T.active){T.retain=!0;continue}else T&&T.loaded&&(T.retain=!0);o+1<a&&this._retainChildren(h,p,o+1,a)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,o,a){var h=Math.round(n);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var p=this.options.updateWhenZooming&&h!==this._tileZoom;(!a||p)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,n)},_setZoomTransform:function(t,n,o){var a=this._map.getZoomScale(o,t.zoom),h=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(n,o)).round();F.any3d?Fn(t.el,h,a):Et(t.el,h)},_resetGrid:function(){var t=this._map,n=t.options.crs,o=this._tileSize=this.getTileSize(),a=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],a).x/o.x),Math.ceil(t.project([0,n.wrapLng[1]],a).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],a).y/o.x),Math.ceil(t.project([n.wrapLat[1],0],a).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,o=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),a=n.getZoomScale(o,this._tileZoom),h=n.project(t,this._tileZoom).floor(),p=n.getSize().divideBy(a*2);return new tt(h.subtract(p),h.add(p))},_update:function(t){var n=this._map;if(n){var o=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(a),p=h.getCenter(),w=[],b=this.options.keepBuffer,T=new tt(h.getBottomLeft().subtract([b,-b]),h.getTopRight().add([b,-b]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var S in this._tiles){var I=this._tiles[S].coords;(I.z!==this._tileZoom||!T.contains(new G(I.x,I.y)))&&(this._tiles[S].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var X=h.min.y;X<=h.max.y;X++)for(var it=h.min.x;it<=h.max.x;it++){var Jt=new G(it,X);if(Jt.z=this._tileZoom,!!this._isValidTile(Jt)){var Ft=this._tiles[this._tileCoordsToKey(Jt)];Ft?Ft.current=!0:w.push(Jt)}}if(w.sort(function(re,Ti){return re.distanceTo(p)-Ti.distanceTo(p)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ye=document.createDocumentFragment();for(it=0;it<w.length;it++)this._addTile(w[it],ye);this._level.el.appendChild(ye)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!n.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return Tt(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,o=this.getTileSize(),a=t.scaleBy(o),h=a.add(o),p=n.unproject(a,t.z),w=n.unproject(h,t.z);return[p,w]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),o=new Zt(n[0],n[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),o=new G(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(t){var n=this._tiles[t];n&&(bt(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){J(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=m,t.onmousemove=m,F.ielt9&&this.options.opacity<1&&ie(t,this.options.opacity)},_addTile:function(t,n){var o=this._getTilePos(t),a=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&ft(f(this._tileReady,this,t,null,h)),Et(h,o),this._tiles[a]={el:h,coords:t,current:!0},n.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:t});var a=this._tileCoordsToKey(t);o=this._tiles[a],o&&(o.loaded=+new Date,this._map._fadeAnimated?(ie(o.el,0),Y(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(J(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),F.ielt9||!this._map._fadeAnimated?ft(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new G(this._wrapX?v(t.x,this._wrapX):t.x,this._wrapY?v(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new tt(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function zf(t){return new hr(t)}var bi=hr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=C(this,n),n.detectRetina&&F.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var o=document.createElement("img");return Q(o,"load",f(this._tileOnLoad,this,n,o)),Q(o,"error",f(this._tileOnError,this,n,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var n={r:F.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=o),n["-y"]=o}return H(this._url,u(n,this.options))},_tileOnLoad:function(t,n){F.ielt9?setTimeout(f(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,o){var a=this.options.errorTileUrl;a&&n.getAttribute("src")!==a&&(n.src=a),t(o,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,o=this.options.zoomReverse,a=this.options.zoomOffset;return o&&(t=n-t),t+a},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=m,n.onerror=m,!n.complete)){n.src=W;var o=this._tiles[t].coords;bt(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:o})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",W),hr.prototype._removeTile.call(this,t)},_tileReady:function(t,n,o){if(!(!this._map||o&&o.getAttribute("src")===W))return hr.prototype._tileReady.call(this,t,n,o)}});function ru(t,n){return new bi(t,n)}var ou=bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var o=u({},this.defaultWmsParams);for(var a in n)a in this.options||(o[a]=n[a]);n=C(this,n);var h=n.detectRetina&&F.retina?2:1,p=this.getTileSize();o.width=p.x*h,o.height=p.y*h,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,bi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),o=this._crs,a=It(o.project(n[0]),o.project(n[1])),h=a.min,p=a.max,w=(this._wmsVersion>=1.3&&this._crs===Ka?[h.y,h.x,p.y,p.x]:[h.x,h.y,p.x,p.y]).join(","),b=bi.prototype.getTileUrl.call(this,t);return b+M(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(t,n){return u(this.wmsParams,t),n||this.redraw(),this}});function Nf(t,n){return new ou(t,n)}bi.WMS=ou,ru.wms=Nf;var rn=Ce.extend({options:{padding:.1},initialize:function(t){C(this,t),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var o=this._map.getZoomScale(n,this._zoom),a=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,n),p=a.multiplyBy(-o).add(h).subtract(this._map._getNewPixelOrigin(t,n));F.any3d?Fn(this._container,p,o):Et(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new tt(o,o.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),su=rn.extend({options:{tolerance:0},getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Q(t,"mousemove",this._onMouseMove,this),Q(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Q(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,bt(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var t=this._bounds,n=this._container,o=t.getSize(),a=F.retina?2:1;Et(n,t.min),n.width=a*o.x,n.height=a*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",F.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[_(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,o=n.next,a=n.prev;o?o.prev=a:this._drawLast=a,a?a.next=o:this._drawFirst=o,delete t._order,delete this._layers[_(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),o=[],a,h;for(h=0;h<n.length;h++){if(a=Number(n[h]),isNaN(a))return;o.push(a)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ft(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new tt,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var o=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var o,a,h,p,w=t._parts,b=w.length,T=this._ctx;if(b){for(T.beginPath(),o=0;o<b;o++){for(a=0,h=w[o].length;a<h;a++)p=w[o][a],T[a?"lineTo":"moveTo"](p.x,p.y);n&&T.closePath()}this._fillStroke(T,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,o=this._ctx,a=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||a)/a;h!==1&&(o.save(),o.scale(1,h)),o.beginPath(),o.arc(n.x,n.y/h,a,0,Math.PI*2,!1),h!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,n){var o=n.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),o,a,h=this._drawFirst;h;h=h.next)o=h.layer,o.options.interactive&&o._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(a=o);this._fireEvent(a?[a]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var o,a,h=this._drawFirst;h;h=h.next)o=h.layer,o.options.interactive&&o._containsPoint(n)&&(a=o);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(J(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,o){this._map._fireDOMEvent(n,o||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var o=n.next,a=n.prev;if(o)o.prev=a;else return;a?a.next=o:o&&(this._drawFirst=o),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var o=n.next,a=n.prev;if(a)a.next=o;else return;o?o.prev=a:a&&(this._drawLast=a),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function au(t){return F.canvas?new su(t):null}var fr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Df={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=fr("shape");J(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=fr("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;bt(n),t.removeInteractiveTarget(n),delete this._layers[_(t)]},_updateStyle:function(t){var n=t._stroke,o=t._fill,a=t.options,h=t._container;h.stroked=!!a.stroke,h.filled=!!a.fill,a.stroke?(n||(n=t._stroke=fr("stroke")),h.appendChild(n),n.weight=a.weight+"px",n.color=a.color,n.opacity=a.opacity,a.dashArray?n.dashStyle=O(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=a.lineCap.replace("butt","flat"),n.joinstyle=a.lineJoin):n&&(h.removeChild(n),t._stroke=null),a.fill?(o||(o=t._fill=fr("fill")),h.appendChild(o),o.color=a.fillColor||a.color,o.opacity=a.fillOpacity):o&&(h.removeChild(o),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),o=Math.round(t._radius),a=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+a+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){bn(t._container)},_bringToBack:function(t){Tn(t._container)}},io=F.vml?fr:dt,cr=rn.extend({_initContainer:function(){this._container=io("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=io("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bt(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var t=this._bounds,n=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),Et(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=io("path");t.options.className&&J(n,t.options.className),t.options.interactive&&J(n,"leaflet-interactive"),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){bt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[_(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,o=t.options;n&&(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,Rt(t._parts,n))},_updateCircle:function(t){var n=t._point,o=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||o,h="a"+o+","+a+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(n.x-o)+","+n.y+h+o*2+",0 "+h+-o*2+",0 ";this._setPath(t,p)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){bn(t._path)},_bringToBack:function(t){Tn(t._path)}});F.vml&&cr.include(Df);function uu(t){return F.svg||F.vml?new cr(t):null}at.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&au(t)||uu(t)}});var lu=wi.extend({initialize:function(t,n){wi.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Tt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function If(t,n){return new lu(t,n)}cr.create=io,cr.pointsToPath=Rt,nn.geometryToLayer=jr,nn.coordsToLatLng=ys,nn.coordsToLatLngs=Kr,nn.latLngToCoords=ws,nn.latLngsToCoords=Jr,nn.getFeature=xi,nn.asFeature=Qr,at.mergeOptions({boxZoom:!0});var hu=Fe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ir(),ns(),this._startPoint=this._map.mouseEventToContainerPoint(t),Q(document,{contextmenu:Wn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new tt(this._point,this._startPoint),o=n.getSize();Et(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(bt(this._box),Pt(this._container,"leaflet-crosshair")),rr(),is(),wt(document,{contextmenu:Wn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var n=new Zt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",hu),at.mergeOptions({doubleClickZoom:!0});var fu=Fe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,o=n.getZoom(),a=n.options.zoomDelta,h=t.originalEvent.shiftKey?o-a:o+a;n.options.doubleClickZoom==="center"?n.setZoom(h):n.setZoomAround(t.containerPoint,h)}});at.addInitHook("addHandler","doubleClickZoom",fu),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cu=Fe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Pn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=Tt(this._map.options.maxBounds);this._offsetLimit=It(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),o=this._initialWorldOffset,a=this._draggable._newPos.x,h=(a-n+o)%t+n-o,p=(a+n+o)%t-n-o,w=Math.abs(h+o)<Math.abs(p+o)?h:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(t){var n=this._map,o=n.options,a=!o.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),a)n.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,w=o.easeLinearity,b=h.multiplyBy(w/p),T=b.distanceTo([0,0]),S=Math.min(o.inertiaMaxSpeed,T),I=b.multiplyBy(S/T),X=S/(o.inertiaDeceleration*w),it=I.multiplyBy(-X/2).round();!it.x&&!it.y?n.fire("moveend"):(it=n._limitOffset(it,n.options.maxBounds),ft(function(){n.panBy(it,{duration:X,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});at.addInitHook("addHandler","dragging",cu),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var du=Fe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Q(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,o=t.scrollTop||n.scrollTop,a=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(a,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},o=this.keyCodes,a,h;for(a=0,h=o.left.length;a<h;a++)n[o.left[a]]=[-1*t,0];for(a=0,h=o.right.length;a<h;a++)n[o.right[a]]=[t,0];for(a=0,h=o.down.length;a<h;a++)n[o.down[a]]=[0,t];for(a=0,h=o.up.length;a<h;a++)n[o.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},o=this.keyCodes,a,h;for(a=0,h=o.zoomIn.length;a<h;a++)n[o.zoomIn[a]]=t;for(a=0,h=o.zoomOut.length;a<h;a++)n[o.zoomOut[a]]=-t},_addHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,o=this._map,a;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(a=this._panKeys[n],t.shiftKey&&(a=U(a).multiplyBy(3)),o.options.maxBounds&&(a=o._limitOffset(U(a),o.options.maxBounds)),o.options.worldCopyJump){var h=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(a)));o.panTo(h)}else o.panBy(a)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Wn(t)}}});at.addInitHook("addHandler","keyboard",du),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _u=Fe.extend({addHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=Ba(t),o=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),a),Wn(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,p=o?Math.ceil(h/o)*o:h,w=t._limitZoom(n+(this._delta>0?p:-p))-n;this._delta=0,this._startTime=null,w&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+w):t.setZoomAround(this._lastMousePos,n+w))}});at.addInitHook("addHandler","scrollWheelZoom",_u);var Zf=600;at.mergeOptions({tapHold:F.touchNative&&F.safari&&F.mobile,tapTolerance:15});var pu=Fe.extend({addHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new G(n.clientX,n.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Q(document,"touchend",Wt),Q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Zf),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){wt(document,"touchend",Wt),wt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new G(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});o._simulated=!0,n.target.dispatchEvent(o)}});at.addInitHook("addHandler","tapHold",pu),at.mergeOptions({touchZoom:F.touch,bounceAtZoomLimits:!0});var mu=Fe.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var o=n.mouseEventToContainerPoint(t.touches[0]),a=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(o.add(a)._divideBy(2))),this._startDist=o.distanceTo(a),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),Wt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,o=n.mouseEventToContainerPoint(t.touches[0]),a=n.mouseEventToContainerPoint(t.touches[1]),h=o.distanceTo(a)/this._startDist;if(this._zoom=n.getScaleZoom(h,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&h<1||this._zoom>n.getMaxZoom()&&h>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var p=o._add(a)._divideBy(2)._subtract(this._centerPoint);if(h===1&&p.x===0&&p.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var w=f(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ft(w,this,!0),Wt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});at.addInitHook("addHandler","touchZoom",mu),at.BoxZoom=hu,at.DoubleClickZoom=fu,at.Drag=cu,at.Keyboard=du,at.ScrollWheelZoom=_u,at.TapHold=pu,at.TouchZoom=mu,r.Bounds=tt,r.Browser=F,r.CRS=Bt,r.Canvas=su,r.Circle=vs,r.CircleMarker=$r,r.Class=pt,r.Control=Le,r.DivIcon=iu,r.DivOverlay=Ue,r.DomEvent=tf,r.DomUtil=Jh,r.Draggable=Pn,r.Evented=Dt,r.FeatureGroup=tn,r.GeoJSON=nn,r.GridLayer=hr,r.Handler=Fe,r.Icon=yi,r.ImageOverlay=to,r.LatLng=lt,r.LatLngBounds=Zt,r.Layer=Ce,r.LayerGroup=vi,r.LineUtil=_f,r.Map=at,r.Marker=Xr,r.Mixin=uf,r.Path=Mn,r.Point=G,r.PolyUtil=lf,r.Polygon=wi,r.Polyline=en,r.Popup=eo,r.PosAnimation=Ra,r.Projection=pf,r.Rectangle=lu,r.Renderer=rn,r.SVG=cr,r.SVGOverlay=nu,r.TileLayer=bi,r.Tooltip=no,r.Transformation=nt,r.Util=mt,r.VideoOverlay=eu,r.bind=f,r.bounds=It,r.canvas=au,r.circle=Tf,r.circleMarker=bf,r.control=ar,r.divIcon=Of,r.extend=u,r.featureGroup=yf,r.geoJSON=tu,r.geoJson=Lf,r.gridLayer=zf,r.icon=wf,r.imageOverlay=Cf,r.latLng=et,r.latLngBounds=Tt,r.layerGroup=vf,r.map=ef,r.marker=xf,r.point=U,r.polygon=Mf,r.polyline=Pf,r.popup=Ef,r.rectangle=If,r.setOptions=C,r.stamp=_,r.svg=uu,r.svgOverlay=kf,r.tileLayer=ru,r.tooltip=Af,r.transformation=E,r.version=s,r.videoOverlay=Sf;var Bf=window.L;r.noConflict=function(){return window.L=Bf,this},window.L=r}))})(Lr,Lr.exports)),Lr.exports}var _y=dy();const Ci=fy(_y);var py=oi('<div><div id="map-historical" class="svelte-1v71qf5"></div> <div id="map-modern" class="svelte-1v71qf5"></div> <div class="slider-divider svelte-1v71qf5" role="slider" tabindex="0"><div class="slider-line svelte-1v71qf5"></div></div> <div class="label label-left svelte-1v71qf5">1888</div> <div class="label label-right svelte-1v71qf5">2026</div></div>');function my(e,i){Bo(i,!1);let r=Du(i,"alumni_geocoded",8),s=Du(i,"visible",8,!1),u,l;const f="3rzey539Y03YWue7YR65";let c=rt(50),_=!1,d=rt();hh(()=>{u=Ci.map("map-historical",{zoomControl:!1,attributionControl:!1}).setView([55.9533,-3.1883],14),Ci.tileLayer(`https://api.maptiler.com/tiles/uk-osgb10k1888/{z}/{x}/{y}.png?key=${f}`,{maxZoom:18,crossOrigin:!0}).addTo(u),l=Ci.map("map-modern",{zoomControl:!0,attributionControl:!0}).setView([55.9533,-3.1883],14),Ci.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(l),v(u,l),v(l,u),m()});function v(z,W){z.on("move",()=>{W.off("move"),W.setView(z.getCenter(),z.getZoom(),{animate:!1}),W.on("move",()=>{z.off("move"),z.setView(W.getCenter(),W.getZoom(),{animate:!1}),z.on("move",()=>v(z,W))})})}function m(){r().forEach(z=>{const W=z?.original?.address?.lat,A=z?.original?.address?.lon;if(W&&A){const q=`
          <strong>${z.original.name}</strong><br/>
          ${z.original.place_name}<br/>
          ${z.original.entry_year}
        `;Ci.circleMarker([W,A],{radius:5,fillColor:"black",color:"black",weight:1,opacity:1,fillOpacity:.4}).addTo(u).bindPopup(q),Ci.circleMarker([W,A],{radius:5,fillColor:"black",color:"black",weight:1,opacity:1,fillOpacity:.4}).addTo(l).bindPopup(q)}})}function y(z){_=!0,z.preventDefault()}function x(z){if(!_)return;const W=g(d).getBoundingClientRect(),q=(z.touches?z.touches[0].clientX:z.clientX)-W.left;N(c,Math.min(100,Math.max(0,q/W.width*100)))}function k(){_=!1}lh();var C=py();Ee("mousemove",Yn,x),Ee("mouseup",Yn,k),Ee("touchmove",Yn,x),Ee("touchend",Yn,k);let M;var R=oe(C),H=ut(R,2),O=ut(H,2);D(O,"aria-valuemin",0),D(O,"aria-valuemax",100),Ys(C,z=>N(d,z),()=>g(d)),Sn(()=>{M=uh(C,1,"map-container svelte-1v71qf5",null,M,{visible:s()}),_o(R,`clip-path: inset(0 ${100-g(c)}% 0 0);`),_o(H,`clip-path: inset(0 0 0 ${g(c)??""}%);`),_o(O,`left: ${g(c)??""}%;`),D(O,"aria-valuenow",g(c))}),Ee("mousedown",O,y),Ee("touchstart",O,y),We(e,C),Ro()}async function gy(e){return await wg(e)}async function vy(e){const i=e.map(s=>gy(s));return await Promise.all(i)}async function yy(e){return await bg(e)}async function wy(e){const i=e.map(s=>yy(s));return await Promise.all(i)}let xy=["Mental Diseases","Medical Entomology","Tropical Diseases","Diseases of the Eye","Skin Diseases","Diseases of the Tropics","Diseases of Children","Diseases of the Skin","Diseases of Tropical Climates","Diseases of sick children","Ear, Nose & Throat","Larynx, Ear & Nose","Ophthalmology","Neurology","Psychiatry","Insanity","Lunacy","Pathological Bacteriology","Clinical Bacteriology","Practical Bacteriology","Bacteriology","Senior Bacteriology","Advanced Bacteriology","Public Health Laboratory","Public Health (special work)","Tuberculosis","Surgical Anatomy","Surgical Cliniques, Sick Childrens Hospital","Operating Surgery","Clinical Surgery","Physical methods in Treatment","Experimental Pharmacology","Applied Anatomy","Anatomy Revision class","Practical Anatomy","Physiology","Advd. Expt. Chemical Physiology","Advanced Practical Psychology","Experimental Psychology","Psychology (Psychiatry)","Sanitary Science","Public Health","Tropical Medicine","Protozoology","Mycology","Public Health Lab."];function Se(e,i=null,r=2025){const s=new Map(e.map(([c,_])=>[c,_])),u=e.map(c=>c[0]),l=i??Math.min(...u),f=[];for(let c=l;c<=r;c++)f.push([c,s.get(c)??[]]);return f}var by=oi('<button class="map-toggle svelte-1n46o8q"> </button>'),Ty=oi("<button> </button>"),Py=oi('<div class="dropdown-menu svelte-1n46o8q"></div>'),My=oi('<div class="info-row svelte-1n46o8q"><span class="label"> </span> <div class="bar svelte-1n46o8q"><div class="bar-fill svelte-1n46o8q"></div></div> <span class="pct"> </span></div>'),Ly=oi('<h1 class="svelte-1n46o8q">University of Edinburgh Historical Student Records</h1> <div class="dropdown svelte-1n46o8q"><button class="dropdown-toggle svelte-1n46o8q"> </button> <!></div> <div class="info-list svelte-1n46o8q"><em>Type and percentage of information available</em> <!></div>',1),Cy=ma('<g><circle fill="white"></circle><text font-size="14" font-family="Montserrat, sans-serif" font-weight="300" fill="white">Charles Darwin</text></g><g><circle fill="white"></circle><text font-size="14" font-family="Montserrat, sans-serif" font-weight="300" fill="white">Edinburgh Seven</text></g>',1),Sy=ma('<svg class="svelte-1n46o8q"><defs><linearGradient id="uncertaintyFade" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="gray" stop-opacity="0.4"></stop><stop offset="100%" stop-color="gray" stop-opacity="0"></stop></linearGradient></defs><g></g><g></g><!><!><!><text fill="white" opacity="0.5" font-weight="300" font-size="14">University Established (1583)</text><rect fill="orange" opacity="0.4"></rect><rect fill="orange" opacity="0.2"></rect><text fill="white" font-family="Montserrat, sans-serif" font-weight="300" opacity="0.5" font-size="14">Law School (1707)</text><rect opacity="0.2" fill="orange"></rect><text opacity="0.5" fill="white" font-family="Montserrat, sans-serif" font-weight="300" font-size="14">Art School (1708)</text><rect opacity="0.2" fill="orange"></rect><text fill="white" opacity="0.5" font-family="Montserrat, sans-serif" font-weight="300" font-size="14">Medical School (1726)</text><rect opacity="0.2" fill="orange"></rect><text fill="white" opacity="0.5" font-family="Montserrat, sans-serif" font-weight="300" font-size="14">Veterinary School (1823)</text><rect opacity="0.2" fill="orange"></rect><text opacity="0.5" fill="white" font-family="Montserrat, sans-serif" font-weight="300" font-size="14">Divinity School (1843)</text><rect opacity="0.2" fill="orange"></rect><text opacity="0.5" fill="white" font-weight="300" font-size="14">Infirmary built (EFI) (1880)</text></svg>'),ky=oi('<main class="svelte-1n46o8q"><!> <!> <!> <!></main>');function Ey(e,i){Bo(i,!1);const r=rt(),s=rt(),u=rt(),l=rt(),f=rt();let c=rt(),_=rt(),d=rt(),v=rt(),m=rt(),y=rt(),x=rt(),k=rt(),C=rt(),M=rt(),R,H,O=rt(),z,W=rt(),A=rt(),q=rt(),j=rt(),St,xt=rt(),ft=rt(),Y=rt(),mt=rt(),pt,te,gt=rt(),Dt=rt(),G=rt(),jt=rt(),U=rt(),tt={top:20,right:30,bottom:30,left:40},It=["Apprentice.of.Royal.College.of.Surgeons","British.Navy","Fellow.of.Royal.College.of.Surgeons","Indian.Medical.Service","Royal.Army.Medical.Corps","Royal.Medical.Society"];const Zt=$=>$!=="NA"&&$!==""&&$!=null;function Tt($){return{...$,career:It.some(yt=>Zt($[yt]))?"1":"NA"}}hh(async()=>{await(async P=>{var V=Ts(P,9);N(M,V[0]),R=V[1],H=V[2],z=V[3],N(O,V[4]),N(W,V[5]),N(A,V[6]),N(q,V[7]),N(j,V[8])})(await vy(["./1762_1826_medical.csv","./new_college_students.csv","./early_veterinary.csv","./veterinary_graduates.csv","./matriculations.csv","./extra_academic.csv","./female_graduates.csv","./edinburgh_seven.csv","./medics_sample.csv"])),await(async P=>{var V=Ts(P,2);St=V[0],N(xt,V[1])})(await wy(["./st_andrews.json","./alumni_geocoded_enriched.json"]));const $=St.map(P=>{const V=P.other_universities?.find(Kt=>Kt.location?.official_name==="Edinburgh"&&Kt.from!=null);return V?{...P,entry_year:+V.from}:null}).filter(Boolean);N(ft,de($,P=>P.entry_year).sort((P,V)=>P[0]-V[0])),N(ft,Se(g(ft),1500,2025)),N(M,g(M).filter(P=>+P.entry_year>=1762).map(P=>({...P,entry_year:+P.entry_year}))),N(M,g(M).map(Tt)),N(mt,de(g(M),P=>P.entry_year).sort((P,V)=>P[0]-V[0])),N(mt,Se(g(mt),1762,2025)),N(j,g(j).map(P=>({...P,entry_year:+P.entry_year}))),N(j,g(j).filter(P=>!Number.isNaN(P.entry_year))),N(U,de(g(j),P=>P.entry_year).sort((P,V)=>P[0]-V[0])),N(U,Se(g(U),1762,2025)),N(O,g(O).map(P=>({...P,entry_year:+P.entry_year.slice(0,-3)}))),N(O,g(O).filter(P=>P.Faculty==="Medicine")),N(gt,de(g(O),P=>P.entry_year).sort((P,V)=>P[0]-V[0])),N(gt,g(gt).filter(([P])=>Number.isFinite(P)&&P>=1700&&P<=2025)),N(gt,Se(g(gt),1700,2025)),N(W,g(W).filter(P=>xy.some(V=>P.Class.toLowerCase().includes(V.toLowerCase())))),N(W,g(W).map(P=>({...P,entry_year:+P.entry_year.slice(0,-5),no_space_name:P.name.replace(/\s+/g,"")})));let yt=de(g(W),P=>P.no_space_name);yt=yt.map(P=>(P[1].sort((V,Kt)=>V.entry_year-Kt.entry_year),P)),yt=yt.map(P=>({...P,name:P[1][0].name,tha_year:P[1][0].entry_year})),N(Dt,de(yt,P=>P.tha_year).sort((P,V)=>P[0]-V[0])),N(Dt,Se(g(Dt),1762,2025)),N(A,g(A).map(P=>({...P,entry_year:+P.entry_year.slice(0,-6)}))),N(G,de(g(A),P=>P.entry_year).sort((P,V)=>P[0]-V[0])),N(G,Se(g(G),1762,2025)),N(q,g(q).map(P=>({...P,entry_year:+P.entry_year}))),N(jt,de(g(q),P=>P.entry_year).sort((P,V)=>P[0]-V[0])),N(jt,Se(g(jt),1762,2025)),N(k,[...g(M),...g(j),...g(O),...g(W),...g(A),...g(q)]),N(C,de(g(k),P=>P.entry_year).filter(P=>P[0]!=null&&!Number.isNaN(P[0])).filter(P=>P[0]>=1762).sort((P,V)=>P[0]-V[0])),N(C,Se(g(C),1762,2025)),R=R.map(P=>({...P,entry_year:+P.entry_year})),pt=de(R,P=>P.entry_year).filter(P=>P[0]!=null&&!Number.isNaN(P[0])).sort((P,V)=>P[0]-V[0]),pt=Se(pt,1762,2025),H=H.map(P=>({...P,entry_year:+P.entry_year})),te=de(H,P=>P.entry_year).sort((P,V)=>P[0]-V[0]),te=Se(te,1762,2025),z=z.filter(P=>+P.entry_year>=1762).map(P=>({...P,entry_year:+P.entry_year})),de(z,P=>P.entry_year).sort((P,V)=>P[0]-V[0]);let Ct=[...g(M),...R,...H,...z,...g(O),...g(W),...g(A),...g(q),...g(j)];N(x,de(Ct,P=>P.entry_year).filter(P=>P[0]!=null&&!Number.isNaN(P[0])).sort((P,V)=>P[0]-V[0])),N(x,Se(g(x),1583,2025)),N(Y,g(x).map(P=>({year:P[0],certainty:"uncertain",count:200+(Math.random()+Math.random())*100})))});let lt=rt(),et=rt(),Bt=rt("medics");function ge($){N(Bt,$),N(r,g(s)[$])}const Z=["name","birthplace","nationality","previous_education","previous_uni","entry_year","age","address","degree","thesis","scan","career","death"],K={name:"name",birthplace:"birthplace",nationality:"nationality",previous_education:"previous_education",previous_uni:"previous_uni",entry_year:"entry_year",age:"age",address:"address",degree:"degree",thesis:"thesis",scan:"scan",career:"career",death:"death"};function nt($){const yt=$.length,Ct={};return $.forEach(P=>{Object.entries(P).forEach(([V,Kt])=>{Ct[V]||(Ct[V]={present:0}),Kt!=="NA"&&Kt!==""&&(Ct[V].present+=1)})}),Object.fromEntries(Object.entries(Ct).map(([P,{present:V}])=>[P,Math.round(V/yt*100)]))}let E=rt(!1),vt=rt("all_medics");const ct=[{id:"all_medics",label:"All Medics"},{id:"medics",label:"Medical Students"},{id:"matriculations",label:"Medical Matriculations"},{id:"women_med_graduates",label:"Medical Women Graduates"},{id:"medics_sample",label:"Medics Sample"},{id:"extra_academic",label:"Extra Medics"},{id:"edinburgh_seven",label:"Edinburgh Seven"},{id:"all_uni",label:"All University"},{id:"st_andrews",label:"St Andrews Dataset"}];let dt=rt(!1);function Rt(){N(dt,!g(dt))}function fe(){N(E,!g(E))}function Ke($){N(vt,$),ge($),N(E,!1)}Ln(()=>(g(mt),g(d),g(_),g(c)),()=>{g(mt)&&(N(d,ay().domain([new Date(1582,0,1),new Date(2025,0,1)]).range([tt.left,g(_)-tt.right])),N(m,qh().domain([0,Id(g(mt),$=>$[1].length)]).range([g(c)-tt.bottom,tt.top]).nice()),N(lt,g(d)(new Date(1726,0,1))),N(et,g(d)(new Date(2025,0,1))))}),Ln(()=>g(vt),()=>{g(vt)!=="medics_sample"&&N(dt,!1)}),Ln(()=>(g(v),g(dt),g(d),g(m),g(y)),()=>{if(g(v)){g(dt);const $=g(dt)?"black":"white",yt=g(dt)?"black":"gray",Ct=Wd(g(d)).ticks(Ge.every(20)).tickFormat(Oa("%Y")).tickSizeOuter(0);_r(g(v)).call(Ct).selectAll("text").attr("fill",$).attr("font-family","Montserrat, sans-serif").attr("font-weight",400).attr("font-size",12).attr("text-anchor","middle"),_r(g(v)).select("path.domain").attr("stroke",yt).attr("stroke-width",1),_r(g(v)).selectAll("line").attr("stroke",yt).attr("stroke-width",1);const P=qd(g(m)).ticks(5).tickSizeOuter(0);_r(g(y)).call(P).selectAll("text").attr("fill","white").attr("font-family","Montserrat, sans-serif").attr("font-weight",400).attr("font-size",12),_r(g(y)).select("path.domain").remove()}}),Ln(()=>g(C),()=>{N(r,g(C))}),Ln(()=>(g(C),g(mt),g(gt),g(G),g(U),g(Dt),g(jt),g(x),g(ft)),()=>{N(s,{all_medics:g(C),medics:g(mt),matriculations:g(gt),women_med_graduates:g(G),medics_sample:g(U),extra_academic:g(Dt),edinburgh_seven:g(jt),all_uni:g(x),st_andrews:g(ft)})}),Ln(()=>(g(k),g(M),g(j),g(O),g(W),g(A),g(q)),()=>{N(u,{all_medics:g(k),medics:g(M),medics_sample:g(j),matriculations:g(O),extra_academic:g(W),women_med_graduates:g(A),edinburgh_seven:g(q)})}),Ln(()=>(g(u),g(Bt)),()=>{N(l,g(u)[g(Bt)]&&g(u)[g(Bt)].length?nt(g(u)[g(Bt)]):Object.fromEntries(Z.map($=>[$,0])))}),Ln(()=>g(vt),()=>{N(f,ct.find($=>$.id===g(vt))?.label)}),Wc(),lh();var ui=ky();Ee("click",Yn,()=>N(E,!1));var Xi=oe(ui);{var $i=$=>{my($,{get alumni_geocoded(){return g(xt)},get visible(){return g(dt)}})};Mi(Xi,$=>{g(xt)&&$($i)})}var ji=ut(Xi,2);{var Br=$=>{var yt=by(),Ct=oe(yt);Sn(()=>dr(Ct,g(dt)?"Hide Map":"Show Map")),Ee("click",yt,zu(Rt)),We($,yt)};Mi(ji,$=>{g(vt)==="medics_sample"&&$(Br)})}var Rr=ut(ji,2);{var Vo=$=>{var yt=Ly(),Ct=ut(Tu(yt),2),P=oe(Ct),V=oe(P),Kt=ut(P,2);{var yn=Ot=>{var Gt=Py();so(Gt,5,()=>ct,Ps,(Pe,Xt)=>{var ee=Ty();let ne;var Ie=oe(ee);Sn(()=>{ne=uh(ee,1,"svelte-1n46o8q",null,ne,{selected:g(Xt).id===g(vt)}),dr(Ie,(g(Xt),B(()=>g(Xt).label)))}),Ee("click",ee,()=>Ke(g(Xt).id)),We(Pe,ee)}),We(Ot,Gt)};Mi(Kt,Ot=>{g(E)&&Ot(yn)})}var li=ut(Ct,2),wn=ut(oe(li),2);so(wn,1,()=>Z,Ps,(Ot,Gt)=>{var Pe=My(),Xt=oe(Pe),ee=oe(Xt),ne=ut(Xt,2),Ie=oe(ne),Je=ut(ne,2),xn=oe(Je);Sn(()=>{dr(ee,g(Gt)),_o(Ie,`width: ${g(l),g(Gt),B(()=>g(l)[K[g(Gt)]]||0)??""}%`),dr(xn,`${g(l),g(Gt),B(()=>g(l)[K[g(Gt)]]||0)??""}%`)}),We(Ot,Pe)}),Sn(()=>dr(V,`${g(f)??""} â¾`)),Ee("click",P,fe),Ee("click",Ct,zu(function(Ot){gd.call(this,i,Ot)})),We($,yt)};Mi(Rr,$=>{g(dt)==!1&&$(Vo)})}var Ki=ut(Rr,2);{var Fr=$=>{var yt=Sy(),Ct=ut(oe(yt));Ys(Ct,Ht=>N(v,Ht),()=>g(v));var P=ut(Ct);Ys(P,Ht=>N(y,Ht),()=>g(y));var V=ut(P);so(V,1,()=>g(Y),Ps,(Ht,$t,Ze)=>{{let ce=kn(()=>(g(d),g($t),B(()=>g(d)(new Date(g($t).year,0,1))))),kt=kn(()=>(g(dt),g($t),B(()=>g(dt)?0:g($t).count))),F=kn(()=>(g($t),B(()=>g($t).certainty==="uncertain"?"url(#uncertaintyFade)":"white")));yl(Ht,{get x(){return g(ce)},get value(){return g(kt)},get yScale(){return g(m)},width:2,get height(){return g(c)},get marginBottom(){return B(()=>tt.bottom)},get fill(){return g(F)},i:Ze})}});var Kt=ut(V);so(Kt,3,()=>g(r),([Ht,$t])=>Ht,(Ht,$t,Ze)=>{var ce=Dc(()=>Ts(g($t),2));let kt=()=>g(ce)[0],F=()=>g(ce)[1];{let Me=kn(()=>(g(d),kt(),B(()=>g(d)(new Date(kt(),0,1))))),Qe=kn(()=>g(dt)?"black":"#bfbfbf");yl(Ht,{get x(){return g(Me)},get value(){return F(),B(()=>F().length)},get yScale(){return g(m)},width:2,get height(){return g(c)},get marginBottom(){return B(()=>tt.bottom)},get fill(){return g(Qe)},get i(){return g(Ze)}})}});var yn=ut(Kt);{var li=Ht=>{var $t=Cy(),Ze=Tu($t),ce=oe(Ze);D(ce,"r",3);var kt=ut(ce),F=ut(Ze),Me=oe(F);D(Me,"r",3);var Qe=ut(Me);Sn((fi,ci,Zn,di,Be,_i,Ji,Qi)=>{D(ce,"cx",fi),D(ce,"cy",ci),D(kt,"x",Zn),D(kt,"y",di),D(Me,"cx",Be),D(Me,"cy",_i),D(Qe,"x",Ji),D(Qe,"y",Qi)},[()=>(g(d),B(()=>g(d)(new Date(1825,0,1))+1)),()=>(g(m),B(()=>g(m)(370))),()=>(g(d),B(()=>g(d)(new Date(1825,0,1))+8)),()=>(g(m),B(()=>g(m)(370)+4)),()=>(g(d),B(()=>g(d)(new Date(1869,0,1))+1)),()=>(g(m),B(()=>g(m)(15))),()=>(g(d),B(()=>g(d)(new Date(1869,0,1))+8)),()=>(g(m),B(()=>g(m)(15)+4))]),We(Ht,$t)};Mi(yn,Ht=>{g(Bt)==="all"&&Ht(li)})}var wn=ut(yn),Ot=ut(wn);D(Ot,"width",1);var Gt=ut(Ot);D(Gt,"width",1);var Pe=ut(Gt),Xt=ut(Pe);D(Xt,"width",1);var ee=ut(Xt),ne=ut(ee);D(ne,"width",1);var Ie=ut(ne),Je=ut(Ie);D(Je,"width",1);var xn=ut(Je),Nn=ut(xn);D(Nn,"width",1);var hi=ut(Nn),Dn=ut(hi);D(Dn,"width",1);var In=ut(Dn);Sn((Ht,$t,Ze,ce,kt,F,Me,Qe,fi,ci,Zn,di,Be,_i,Ji,Qi,Go,Xo,Ur,$o,pi,jo,Ko,Jo,Qo,ts,tr,Bn,Hr,Wr,Rn,st,bt,mi,bn,Tn,er,J,Pt,nr,gi,ie)=>{D(yt,"height",g(c)),D(yt,"width",g(_)),D(Ct,"transform",(g(c),B(()=>`translate(0,${g(c)-tt.bottom})`))),D(P,"transform",B(()=>`translate(${tt.left}, 0)`)),D(wn,"x",Ht),D(wn,"y",$t),D(wn,"transform",Ze),D(Ot,"x",ce),D(Ot,"y",kt),D(Ot,"height",F),D(Gt,"x",Me),D(Gt,"y",Qe),D(Gt,"height",fi),D(Pe,"x",ci),D(Pe,"y",Zn),D(Pe,"transform",di),D(Xt,"x",Be),D(Xt,"y",_i),D(Xt,"height",Ji),D(ee,"x",Qi),D(ee,"y",Go),D(ee,"transform",Xo),D(ne,"x",Ur),D(ne,"y",$o),D(ne,"height",pi),D(Ie,"x",jo),D(Ie,"y",Ko),D(Ie,"transform",Jo),D(Je,"x",Qo),D(Je,"y",ts),D(Je,"height",tr),D(xn,"x",Bn),D(xn,"y",Hr),D(xn,"transform",Wr),D(Nn,"x",Rn),D(Nn,"y",st),D(Nn,"height",bt),D(hi,"x",mi),D(hi,"y",bn),D(hi,"transform",Tn),D(Dn,"x",er),D(Dn,"y",J),D(Dn,"height",Pt),D(In,"x",nr),D(In,"y",gi),D(In,"transform",ie)},[()=>(g(d),B(()=>g(d)(new Date(1582,0,1))+5)),()=>(g(m),B(()=>g(m)(150))),()=>(g(d),g(m),B(()=>`rotate(-25 ${g(d)(new Date(1582,0,1))+5} ${g(m)(150)})`)),()=>(g(d),B(()=>g(d)(new Date(1582,0,1)))),()=>(g(m),B(()=>g(m)(150))),()=>(g(c),g(m),B(()=>g(c)-tt.bottom-g(m)(150))),()=>(g(d),B(()=>g(d)(new Date(1707,0,1)))),()=>(g(m),B(()=>g(m)(200))),()=>(g(c),g(m),B(()=>g(c)-tt.bottom-g(m)(200))),()=>(g(d),B(()=>g(d)(new Date(1707,0,1)))),()=>(g(m),B(()=>g(m)(200)-10)),()=>(g(d),g(m),B(()=>`rotate(-25 ${g(d)(new Date(1707,0,1))+5} ${g(m)(200)})`)),()=>(g(d),B(()=>g(d)(new Date(1708,0,1)))),()=>(g(m),B(()=>g(m)(250))),()=>(g(c),g(m),B(()=>g(c)-tt.bottom-g(m)(250))),()=>(g(d),B(()=>g(d)(new Date(1708,0,1)))),()=>(g(m),B(()=>g(m)(250)-10)),()=>(g(d),g(m),B(()=>`rotate(-25 ${g(d)(new Date(1708,0,1))+5} ${g(m)(250)})`)),()=>(g(d),B(()=>g(d)(new Date(1726,0,1)))),()=>(g(m),B(()=>g(m)(350))),()=>(g(c),g(m),B(()=>g(c)-tt.bottom-g(m)(350))),()=>(g(d),B(()=>g(d)(new Date(1726,0,1)))),()=>(g(m),B(()=>g(m)(350)-10)),()=>(g(d),g(m),B(()=>`rotate(-25 ${g(d)(new Date(1726,0,1))+5} ${g(m)(350)})`)),()=>(g(d),B(()=>g(d)(new Date(1823,0,1)))),()=>(g(m),B(()=>g(m)(500))),()=>(g(c),g(m),B(()=>g(c)-tt.bottom-g(m)(500))),()=>(g(d),B(()=>g(d)(new Date(1823,0,1)))),()=>(g(m),B(()=>g(m)(500))),()=>(g(d),g(m),B(()=>`rotate(-25 ${g(d)(new Date(1823,0,1))+5} ${g(m)(500)})`)),()=>(g(d),B(()=>g(d)(new Date(1843,0,1)))),()=>(g(m),B(()=>g(m)(600))),()=>(g(c),g(m),B(()=>g(c)-tt.bottom-g(m)(600))),()=>(g(d),B(()=>g(d)(new Date(1843,0,1)))),()=>(g(m),B(()=>g(m)(600))),()=>(g(d),g(m),B(()=>`rotate(-25 ${g(d)(new Date(1843,0,1))+5} ${g(m)(600)})`)),()=>(g(d),B(()=>g(d)(new Date(1880,0,1)))),()=>(g(m),B(()=>g(m)(600))),()=>(g(c),g(m),B(()=>g(c)-tt.bottom-g(m)(600))),()=>(g(d),B(()=>g(d)(new Date(1880,0,1))+5)),()=>(g(m),B(()=>g(m)(600))),()=>(g(d),g(m),B(()=>`rotate(-25 ${g(d)(new Date(1880,0,1))+5} ${g(m)(600)})`))]),We($,yt)};Mi(Ki,$=>{g(mt)&&$(Fr)})}Au(ui,"clientHeight",$=>N(c,$)),Au(ui,"clientWidth",$=>N(_,$)),We(e,ui),Ro()}ed(Ey,{target:document.getElementById("app")});
